const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/window-DxoFJvmA.js","assets/event-D9GppfIe.js"])))=>i.map(i=>d[i]);
var Xj=Object.defineProperty;var gv=e=>{throw TypeError(e)};var Wj=(e,t,n)=>t in e?Xj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ze=(e,t,n)=>Wj(e,typeof t!="symbol"?t+"":t,n),ph=(e,t,n)=>t.has(e)||gv("Cannot "+n);var z=(e,t,n)=>(ph(e,t,"read from private field"),n?n.call(e):t.get(e)),_e=(e,t,n)=>t.has(e)?gv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),he=(e,t,n,r)=>(ph(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ke=(e,t,n)=>(ph(e,t,"access private method"),n);var Ec=(e,t,n,r)=>({set _(a){he(e,t,a,n)},get _(){return z(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Lx={exports:{}},mf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC=Symbol.for("react.transitional.element"),nC=Symbol.for("react.fragment");function Px(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:tC,type:e,key:r,ref:t!==void 0?t:null,props:n}}mf.Fragment=nC;mf.jsx=Px;mf.jsxs=Px;Lx.exports=mf;var c=Lx.exports,xo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rC={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ta,Gm,wx,aC=(wx=class{constructor(){_e(this,Ta,rC);_e(this,Gm,!1)}setTimeoutProvider(e){he(this,Ta,e)}setTimeout(e,t){return z(this,Ta).setTimeout(e,t)}clearTimeout(e){z(this,Ta).clearTimeout(e)}setInterval(e,t){return z(this,Ta).setInterval(e,t)}clearInterval(e){z(this,Ta).clearInterval(e)}},Ta=new WeakMap,Gm=new WeakMap,wx),Ns=new aC;function sC(e){setTimeout(e,0)}var Ks=typeof window>"u"||"Deno"in globalThis;function un(){}function iC(e,t){return typeof e=="function"?e(t):e}function Sp(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ux(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ia(e,t){return typeof e=="function"?e(t):e}function Jn(e,t){return typeof e=="function"?e(t):e}function yv(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:s,queryKey:i,stale:o}=e;if(i){if(r){if(t.queryHash!==Jm(i,t.options))return!1}else if(!El(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||s&&!s(t))}function vv(e,t){const{exact:n,status:r,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Qs(t.options.mutationKey)!==Qs(s))return!1}else if(!El(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Jm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qs)(e)}function Qs(e){return JSON.stringify(e,(t,n)=>wp(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function El(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>El(e[n],t[n])):!1}var oC=Object.prototype.hasOwnProperty;function qx(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=bv(e)&&bv(t);if(!r&&!(wp(e)&&wp(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let u=0;for(let f=0;f<o;f++){const h=r?f:i[f],p=e[h],d=t[h];if(p===d){l[h]=p,(r?f<s:oC.call(e,h))&&u++;continue}if(p===null||d===null||typeof p!="object"||typeof d!="object"){l[h]=d;continue}const m=qx(p,d,n+1);l[h]=m,m===p&&u++}return s===o&&u===s?e:l}function yd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function bv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wp(e){if(!_v(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!_v(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _v(e){return Object.prototype.toString.call(e)==="[object Object]"}function lC(e){return new Promise(t=>{Ns.setTimeout(t,e)})}function jp(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?qx(e,t):t}function cC(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function uC(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Xm=Symbol();function $x(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Xm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Wm(e,t){return typeof e=="function"?e(...t):!!e}function dC(e,t,n){let r=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),e}var Os,Na,Ki,jx,fC=(jx=class extends xo{constructor(){super();_e(this,Os);_e(this,Na);_e(this,Ki);he(this,Ki,t=>{if(!Ks&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Na)||this.setEventListener(z(this,Ki))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Na))==null||t.call(this),he(this,Na,void 0))}setEventListener(t){var n;he(this,Ki,t),(n=z(this,Na))==null||n.call(this),he(this,Na,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){z(this,Os)!==t&&(he(this,Os,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof z(this,Os)=="boolean"?z(this,Os):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Os=new WeakMap,Na=new WeakMap,Ki=new WeakMap,jx),eg=new fC;function Cp(){let e,t;const n=new Promise((a,s)=>{e=a,t=s});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}var hC=sC;function pC(){let e=[],t=0,n=o=>{o()},r=o=>{o()},a=hC;const s=o=>{t?e.push(o):a(()=>{n(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||i()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{a=o}}}var qt=pC(),Qi,Ra,Yi,Cx,mC=(Cx=class extends xo{constructor(){super();_e(this,Qi,!0);_e(this,Ra);_e(this,Yi);he(this,Yi,t=>{if(!Ks&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Ra)||this.setEventListener(z(this,Yi))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Ra))==null||t.call(this),he(this,Ra,void 0))}setEventListener(t){var n;he(this,Yi,t),(n=z(this,Ra))==null||n.call(this),he(this,Ra,t(this.setOnline.bind(this)))}setOnline(t){z(this,Qi)!==t&&(he(this,Qi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return z(this,Qi)}},Qi=new WeakMap,Ra=new WeakMap,Yi=new WeakMap,Cx),vd=new mC;function gC(e){return Math.min(1e3*2**e,3e4)}function Hx(e){return(e??"online")==="online"?vd.isOnline():!0}var Ep=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Bx(e){let t=!1,n=0,r;const a=Cp(),s=()=>a.status!=="pending",i=g=>{var x;if(!s()){const v=new Ep(g);p(v),(x=e.onCancel)==null||x.call(e,v)}},o=()=>{t=!0},l=()=>{t=!1},u=()=>eg.isFocused()&&(e.networkMode==="always"||vd.isOnline())&&e.canRun(),f=()=>Hx(e.networkMode)&&e.canRun(),h=g=>{s()||(r==null||r(),a.resolve(g))},p=g=>{s()||(r==null||r(),a.reject(g))},d=()=>new Promise(g=>{var x;r=v=>{(s()||u())&&g(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;r=void 0,s()||(g=e.onContinue)==null||g.call(e)}),m=()=>{if(s())return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var M;if(s())return;const y=e.retry??(Ks?0:3),b=e.retryDelay??gC,S=typeof b=="function"?b(n,v):b,j=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!j){p(v);return}n++,(M=e.onFail)==null||M.call(e,n,v),lC(S).then(()=>u()?void 0:d()).then(()=>{t?p(v):m()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(r==null||r(),a),cancelRetry:o,continueRetry:l,canStart:f,start:()=>(f()?m():d().then(m),a)}}var As,Ex,Ix=(Ex=class{constructor(){_e(this,As)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sp(this.gcTime)&&he(this,As,Ns.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ks?1/0:5*60*1e3))}clearGcTimeout(){z(this,As)&&(Ns.clearTimeout(z(this,As)),he(this,As,void 0))}},As=new WeakMap,Ex),Ds,Gi,Yn,Ms,It,Zl,zs,pr,Br,Tx,yC=(Tx=class extends Ix{constructor(t){super();_e(this,pr);_e(this,Ds);_e(this,Gi);_e(this,Yn);_e(this,Ms);_e(this,It);_e(this,Zl);_e(this,zs);he(this,zs,!1),he(this,Zl,t.defaultOptions),this.setOptions(t.options),this.observers=[],he(this,Ms,t.client),he(this,Yn,z(this,Ms).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,he(this,Ds,Sv(this.options)),this.state=t.state??z(this,Ds),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,It))==null?void 0:t.promise}setOptions(t){if(this.options={...z(this,Zl),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Sv(this.options);n.data!==void 0&&(this.setState(xv(n.data,n.dataUpdatedAt)),he(this,Ds,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Yn).remove(this)}setData(t,n){const r=jp(this.state.data,t,this.options);return ke(this,pr,Br).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ke(this,pr,Br).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=z(this,It))==null?void 0:r.promise;return(a=z(this,It))==null||a.cancel(t),n?n.then(un).catch(un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Ds))}isActive(){return this.observers.some(t=>Jn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ia(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ux(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,It))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,It))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Yn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(z(this,It)&&(z(this,zs)?z(this,It).cancel({revert:!0}):z(this,It).cancelRetry()),this.scheduleGc()),z(this,Yn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,pr,Br).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,f,h,p,d,m,g,x,v,y,b;if(this.state.fetchStatus!=="idle"&&((l=z(this,It))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,It))return z(this,It).continueRetry(),z(this,It).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(j=>j.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,a=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(he(this,zs,!0),r.signal)})},s=()=>{const S=$x(this.options,n),M=(()=>{const E={client:z(this,Ms),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return he(this,zs,!1),this.options.persister?this.options.persister(S,M,this):S(M)},o=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,Ms),state:this.state,fetchFn:s};return a(S),S})();(u=this.options.behavior)==null||u.onFetch(o,this),he(this,Gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&ke(this,pr,Br).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),he(this,It,Bx({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:S=>{S instanceof Ep&&S.revert&&this.setState({...z(this,Gi),fetchStatus:"idle"}),r.abort()},onFail:(S,j)=>{ke(this,pr,Br).call(this,{type:"failed",failureCount:S,error:j})},onPause:()=>{ke(this,pr,Br).call(this,{type:"pause"})},onContinue:()=>{ke(this,pr,Br).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const S=await z(this,It).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(d=(p=z(this,Yn).config).onSuccess)==null||d.call(p,S,this),(g=(m=z(this,Yn).config).onSettled)==null||g.call(m,S,this.state.error,this),S}catch(S){if(S instanceof Ep){if(S.silent)return z(this,It).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw ke(this,pr,Br).call(this,{type:"error",error:S}),(v=(x=z(this,Yn).config).onError)==null||v.call(x,S,this),(b=(y=z(this,Yn).config).onSettled)==null||b.call(y,this.state.data,S,this),S}finally{this.scheduleGc()}}},Ds=new WeakMap,Gi=new WeakMap,Yn=new WeakMap,Ms=new WeakMap,It=new WeakMap,Zl=new WeakMap,zs=new WeakMap,pr=new WeakSet,Br=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Fx(r.data,this.options),fetchMeta:t.meta??null};case"success":const a={...r,...xv(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return he(this,Gi,t.manual?a:void 0),a;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),qt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,Yn).notify({query:this,type:"updated",action:t})})},Tx);function Fx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xv(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Sv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vn,Le,Kl,sn,Ls,Ji,Vr,ka,Ql,Xi,Wi,Ps,Us,Oa,eo,Qe,Xo,Tp,Np,Rp,kp,Op,Ap,Dp,Vx,Nx,vC=(Nx=class extends xo{constructor(t,n){super();_e(this,Qe);_e(this,vn);_e(this,Le);_e(this,Kl);_e(this,sn);_e(this,Ls);_e(this,Ji);_e(this,Vr);_e(this,ka);_e(this,Ql);_e(this,Xi);_e(this,Wi);_e(this,Ps);_e(this,Us);_e(this,Oa);_e(this,eo,new Set);this.options=n,he(this,vn,t),he(this,ka,null),he(this,Vr,Cp()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,Le).addObserver(this),wv(z(this,Le),this.options)?ke(this,Qe,Xo).call(this):this.updateResult(),ke(this,Qe,kp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mp(z(this,Le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mp(z(this,Le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,Qe,Op).call(this),ke(this,Qe,Ap).call(this),z(this,Le).removeObserver(this)}setOptions(t){const n=this.options,r=z(this,Le);if(this.options=z(this,vn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jn(this.options.enabled,z(this,Le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,Qe,Dp).call(this),z(this,Le).setOptions(this.options),n._defaulted&&!yd(this.options,n)&&z(this,vn).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,Le),observer:this});const a=this.hasListeners();a&&jv(z(this,Le),r,this.options,n)&&ke(this,Qe,Xo).call(this),this.updateResult(),a&&(z(this,Le)!==r||Jn(this.options.enabled,z(this,Le))!==Jn(n.enabled,z(this,Le))||Ia(this.options.staleTime,z(this,Le))!==Ia(n.staleTime,z(this,Le)))&&ke(this,Qe,Tp).call(this);const s=ke(this,Qe,Np).call(this);a&&(z(this,Le)!==r||Jn(this.options.enabled,z(this,Le))!==Jn(n.enabled,z(this,Le))||s!==z(this,Oa))&&ke(this,Qe,Rp).call(this,s)}getOptimisticResult(t){const n=z(this,vn).getQueryCache().build(z(this,vn),t),r=this.createResult(n,t);return _C(this,r)&&(he(this,sn,r),he(this,Ji,this.options),he(this,Ls,z(this,Le).state)),r}getCurrentResult(){return z(this,sn)}trackResult(t,n){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,Vr).status==="pending"&&z(this,Vr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(t){z(this,eo).add(t)}getCurrentQuery(){return z(this,Le)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=z(this,vn).defaultQueryOptions(t),r=z(this,vn).getQueryCache().build(z(this,vn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ke(this,Qe,Xo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,sn)))}createResult(t,n){var L;const r=z(this,Le),a=this.options,s=z(this,sn),i=z(this,Ls),o=z(this,Ji),u=t!==r?t.state:z(this,Kl),{state:f}=t;let h={...f},p=!1,d;if(n._optimisticResults){const N=this.hasListeners(),k=!N&&wv(t,n),P=N&&jv(t,r,n,a);(k||P)&&(h={...h,...Fx(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:x}=h;d=h.data;let v=!1;if(n.placeholderData!==void 0&&d===void 0&&x==="pending"){let N;s!=null&&s.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(N=s.data,v=!0):N=typeof n.placeholderData=="function"?n.placeholderData((L=z(this,Wi))==null?void 0:L.state.data,z(this,Wi)):n.placeholderData,N!==void 0&&(x="success",d=jp(s==null?void 0:s.data,N,n),p=!0)}if(n.select&&d!==void 0&&!v)if(s&&d===(i==null?void 0:i.data)&&n.select===z(this,Ql))d=z(this,Xi);else try{he(this,Ql,n.select),d=n.select(d),d=jp(s==null?void 0:s.data,d,n),he(this,Xi,d),he(this,ka,null)}catch(N){he(this,ka,N)}z(this,ka)&&(m=z(this,ka),d=z(this,Xi),g=Date.now(),x="error");const y=h.fetchStatus==="fetching",b=x==="pending",S=x==="error",j=b&&y,M=d!==void 0,q={status:x,fetchStatus:h.fetchStatus,isPending:b,isSuccess:x==="success",isError:S,isInitialLoading:j,isLoading:j,data:d,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:S&&!M,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&M,isStale:tg(t,n),refetch:this.refetch,promise:z(this,Vr),isEnabled:Jn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const N=q.data!==void 0,k=q.status==="error"&&!N,P=Y=>{k?Y.reject(q.error):N&&Y.resolve(q.data)},F=()=>{const Y=he(this,Vr,q.promise=Cp());P(Y)},W=z(this,Vr);switch(W.status){case"pending":t.queryHash===r.queryHash&&P(W);break;case"fulfilled":(k||q.data!==W.value)&&F();break;case"rejected":(!k||q.error!==W.reason)&&F();break}}return q}updateResult(){const t=z(this,sn),n=this.createResult(z(this,Le),this.options);if(he(this,Ls,z(this,Le).state),he(this,Ji,this.options),z(this,Ls).data!==void 0&&he(this,Wi,z(this,Le)),yd(n,t))return;he(this,sn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!z(this,eo).size)return!0;const i=new Set(s??z(this,eo));return this.options.throwOnError&&i.add("error"),Object.keys(z(this,sn)).some(o=>{const l=o;return z(this,sn)[l]!==t[l]&&i.has(l)})};ke(this,Qe,Vx).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,Qe,kp).call(this)}},vn=new WeakMap,Le=new WeakMap,Kl=new WeakMap,sn=new WeakMap,Ls=new WeakMap,Ji=new WeakMap,Vr=new WeakMap,ka=new WeakMap,Ql=new WeakMap,Xi=new WeakMap,Wi=new WeakMap,Ps=new WeakMap,Us=new WeakMap,Oa=new WeakMap,eo=new WeakMap,Qe=new WeakSet,Xo=function(t){ke(this,Qe,Dp).call(this);let n=z(this,Le).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(un)),n},Tp=function(){ke(this,Qe,Op).call(this);const t=Ia(this.options.staleTime,z(this,Le));if(Ks||z(this,sn).isStale||!Sp(t))return;const r=Ux(z(this,sn).dataUpdatedAt,t)+1;he(this,Ps,Ns.setTimeout(()=>{z(this,sn).isStale||this.updateResult()},r))},Np=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,Le)):this.options.refetchInterval)??!1},Rp=function(t){ke(this,Qe,Ap).call(this),he(this,Oa,t),!(Ks||Jn(this.options.enabled,z(this,Le))===!1||!Sp(z(this,Oa))||z(this,Oa)===0)&&he(this,Us,Ns.setInterval(()=>{(this.options.refetchIntervalInBackground||eg.isFocused())&&ke(this,Qe,Xo).call(this)},z(this,Oa)))},kp=function(){ke(this,Qe,Tp).call(this),ke(this,Qe,Rp).call(this,ke(this,Qe,Np).call(this))},Op=function(){z(this,Ps)&&(Ns.clearTimeout(z(this,Ps)),he(this,Ps,void 0))},Ap=function(){z(this,Us)&&(Ns.clearInterval(z(this,Us)),he(this,Us,void 0))},Dp=function(){const t=z(this,vn).getQueryCache().build(z(this,vn),this.options);if(t===z(this,Le))return;const n=z(this,Le);he(this,Le,t),he(this,Kl,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Vx=function(t){qt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(z(this,sn))}),z(this,vn).getQueryCache().notify({query:z(this,Le),type:"observerResultsUpdated"})})},Nx);function bC(e,t){return Jn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wv(e,t){return bC(e,t)||e.state.data!==void 0&&Mp(e,t,t.refetchOnMount)}function Mp(e,t,n){if(Jn(t.enabled,e)!==!1&&Ia(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&tg(e,t)}return!1}function jv(e,t,n,r){return(e!==t||Jn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&tg(e,n)}function tg(e,t){return Jn(t.enabled,e)!==!1&&e.isStaleByTime(Ia(t.staleTime,e))}function _C(e,t){return!yd(e.getCurrentResult(),t)}function Cv(e){return{onFetch:(t,n)=>{var f,h,p,d,m;const r=t.options,a=(p=(h=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((d=t.state.data)==null?void 0:d.pages)||[],i=((m=t.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const x=b=>{dC(b,()=>t.signal,()=>g=!0)},v=$x(t.options,t.fetchOptions),y=async(b,S,j)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return x(k),k})(),q=await v(E),{maxPages:L}=t.options,N=j?uC:cC;return{pages:N(b.pages,q,L),pageParams:N(b.pageParams,S,L)}};if(a&&s.length){const b=a==="backward",S=b?xC:Ev,j={pages:s,pageParams:i},M=S(r,j);o=await y(j,M,b)}else{const b=e??s.length;do{const S=l===0?i[0]??r.initialPageParam:Ev(r,o);if(l>0&&S==null)break;o=await y(o,S),l++}while(l<b)}return o};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Ev(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function xC(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Yl,Er,on,qs,Tr,ya,Rx,SC=(Rx=class extends Ix{constructor(t){super();_e(this,Tr);_e(this,Yl);_e(this,Er);_e(this,on);_e(this,qs);he(this,Yl,t.client),this.mutationId=t.mutationId,he(this,on,t.mutationCache),he(this,Er,[]),this.state=t.state||Zx(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Er).includes(t)||(z(this,Er).push(t),this.clearGcTimeout(),z(this,on).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){he(this,Er,z(this,Er).filter(n=>n!==t)),this.scheduleGc(),z(this,on).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Er).length||(this.state.status==="pending"?this.scheduleGc():z(this,on).remove(this))}continue(){var t;return((t=z(this,qs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,u,f,h,p,d,m,g,x,v,y,b,S,j,M,E,q,L;const n=()=>{ke(this,Tr,ya).call(this,{type:"continue"})},r={client:z(this,Yl),meta:this.options.meta,mutationKey:this.options.mutationKey};he(this,qs,Bx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{ke(this,Tr,ya).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{ke(this,Tr,ya).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,on).canRun(this)}));const a=this.state.status==="pending",s=!z(this,qs).canStart();try{if(a)n();else{ke(this,Tr,ya).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=z(this,on).config).onMutate)==null?void 0:o.call(i,t,this,r));const k=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));k!==this.state.context&&ke(this,Tr,ya).call(this,{type:"pending",context:k,variables:t,isPaused:s})}const N=await z(this,qs).start();return await((h=(f=z(this,on).config).onSuccess)==null?void 0:h.call(f,N,t,this.state.context,this,r)),await((d=(p=this.options).onSuccess)==null?void 0:d.call(p,N,t,this.state.context,r)),await((g=(m=z(this,on).config).onSettled)==null?void 0:g.call(m,N,null,this.state.variables,this.state.context,this,r)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,N,null,t,this.state.context,r)),ke(this,Tr,ya).call(this,{type:"success",data:N}),N}catch(N){try{await((b=(y=z(this,on).config).onError)==null?void 0:b.call(y,N,t,this.state.context,this,r))}catch(k){Promise.reject(k)}try{await((j=(S=this.options).onError)==null?void 0:j.call(S,N,t,this.state.context,r))}catch(k){Promise.reject(k)}try{await((E=(M=z(this,on).config).onSettled)==null?void 0:E.call(M,void 0,N,this.state.variables,this.state.context,this,r))}catch(k){Promise.reject(k)}try{await((L=(q=this.options).onSettled)==null?void 0:L.call(q,void 0,N,t,this.state.context,r))}catch(k){Promise.reject(k)}throw ke(this,Tr,ya).call(this,{type:"error",error:N}),N}finally{z(this,on).runNext(this)}}},Yl=new WeakMap,Er=new WeakMap,on=new WeakMap,qs=new WeakMap,Tr=new WeakSet,ya=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),qt.batch(()=>{z(this,Er).forEach(r=>{r.onMutationUpdate(t)}),z(this,on).notify({mutation:this,type:"updated",action:t})})},Rx);function Zx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zr,mr,Gl,kx,wC=(kx=class extends xo{constructor(t={}){super();_e(this,Zr);_e(this,mr);_e(this,Gl);this.config=t,he(this,Zr,new Set),he(this,mr,new Map),he(this,Gl,0)}build(t,n,r){const a=new SC({client:t,mutationCache:this,mutationId:++Ec(this,Gl)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){z(this,Zr).add(t);const n=Tc(t);if(typeof n=="string"){const r=z(this,mr).get(n);r?r.push(t):z(this,mr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,Zr).delete(t)){const n=Tc(t);if(typeof n=="string"){const r=z(this,mr).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&z(this,mr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Tc(t);if(typeof n=="string"){const r=z(this,mr).get(n),a=r==null?void 0:r.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=Tc(t);if(typeof n=="string"){const a=(r=z(this,mr).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qt.batch(()=>{z(this,Zr).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,Zr).clear(),z(this,mr).clear()})}getAll(){return Array.from(z(this,Zr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>vv(n,r))}findAll(t={}){return this.getAll().filter(n=>vv(t,n))}notify(t){qt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return qt.batch(()=>Promise.all(t.map(n=>n.continue().catch(un))))}},Zr=new WeakMap,mr=new WeakMap,Gl=new WeakMap,kx);function Tc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Kr,Aa,bn,Qr,aa,Ju,zp,Ox,jC=(Ox=class extends xo{constructor(n,r){super();_e(this,aa);_e(this,Kr);_e(this,Aa);_e(this,bn);_e(this,Qr);he(this,Kr,n),this.setOptions(r),this.bindMethods(),ke(this,aa,Ju).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=z(this,Kr).defaultMutationOptions(n),yd(this.options,r)||z(this,Kr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,bn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Qs(r.mutationKey)!==Qs(this.options.mutationKey)?this.reset():((a=z(this,bn))==null?void 0:a.state.status)==="pending"&&z(this,bn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=z(this,bn))==null||n.removeObserver(this)}onMutationUpdate(n){ke(this,aa,Ju).call(this),ke(this,aa,zp).call(this,n)}getCurrentResult(){return z(this,Aa)}reset(){var n;(n=z(this,bn))==null||n.removeObserver(this),he(this,bn,void 0),ke(this,aa,Ju).call(this),ke(this,aa,zp).call(this)}mutate(n,r){var a;return he(this,Qr,r),(a=z(this,bn))==null||a.removeObserver(this),he(this,bn,z(this,Kr).getMutationCache().build(z(this,Kr),this.options)),z(this,bn).addObserver(this),z(this,bn).execute(n)}},Kr=new WeakMap,Aa=new WeakMap,bn=new WeakMap,Qr=new WeakMap,aa=new WeakSet,Ju=function(){var r;const n=((r=z(this,bn))==null?void 0:r.state)??Zx();he(this,Aa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},zp=function(n){qt.batch(()=>{var r,a,s,i,o,l,u,f;if(z(this,Qr)&&this.hasListeners()){const h=z(this,Aa).variables,p=z(this,Aa).context,d={client:z(this,Kr),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(a=(r=z(this,Qr)).onSuccess)==null||a.call(r,n.data,h,p,d)}catch(m){Promise.reject(m)}try{(i=(s=z(this,Qr)).onSettled)==null||i.call(s,n.data,null,h,p,d)}catch(m){Promise.reject(m)}}else if((n==null?void 0:n.type)==="error"){try{(l=(o=z(this,Qr)).onError)==null||l.call(o,n.error,h,p,d)}catch(m){Promise.reject(m)}try{(f=(u=z(this,Qr)).onSettled)==null||f.call(u,void 0,n.error,h,p,d)}catch(m){Promise.reject(m)}}}this.listeners.forEach(h=>{h(z(this,Aa))})})},Ox),Nr,Ax,CC=(Ax=class extends xo{constructor(t={}){super();_e(this,Nr);this.config=t,he(this,Nr,new Map)}build(t,n,r){const a=n.queryKey,s=n.queryHash??Jm(a,n);let i=this.get(s);return i||(i=new yC({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){z(this,Nr).has(t.queryHash)||(z(this,Nr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=z(this,Nr).get(t.queryHash);n&&(t.destroy(),n===t&&z(this,Nr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){qt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Nr).get(t)}getAll(){return[...z(this,Nr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>yv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>yv(t,r)):n}notify(t){qt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){qt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){qt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nr=new WeakMap,Ax),xt,Da,Ma,to,no,za,ro,ao,Dx,EC=(Dx=class{constructor(e={}){_e(this,xt);_e(this,Da);_e(this,Ma);_e(this,to);_e(this,no);_e(this,za);_e(this,ro);_e(this,ao);he(this,xt,e.queryCache||new CC),he(this,Da,e.mutationCache||new wC),he(this,Ma,e.defaultOptions||{}),he(this,to,new Map),he(this,no,new Map),he(this,za,0)}mount(){Ec(this,za)._++,z(this,za)===1&&(he(this,ro,eg.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,xt).onFocus())})),he(this,ao,vd.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,xt).onOnline())})))}unmount(){var e,t;Ec(this,za)._--,z(this,za)===0&&((e=z(this,ro))==null||e.call(this),he(this,ro,void 0),(t=z(this,ao))==null||t.call(this),he(this,ao,void 0))}isFetching(e){return z(this,xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Da).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,xt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=z(this,xt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ia(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return z(this,xt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=z(this,xt).get(r.queryHash),s=a==null?void 0:a.state.data,i=iC(t,s);if(i!==void 0)return z(this,xt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return qt.batch(()=>z(this,xt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,xt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=z(this,xt);qt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=z(this,xt);return qt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=qt.batch(()=>z(this,xt).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(un).catch(un)}invalidateQueries(e,t={}){return qt.batch(()=>(z(this,xt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=qt.batch(()=>z(this,xt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,n);return n.throwOnError||(s=s.catch(un)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(un)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=z(this,xt).build(this,t);return n.isStaleByTime(Ia(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(un).catch(un)}fetchInfiniteQuery(e){return e.behavior=Cv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(un).catch(un)}ensureInfiniteQueryData(e){return e.behavior=Cv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vd.isOnline()?z(this,Da).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,xt)}getMutationCache(){return z(this,Da)}getDefaultOptions(){return z(this,Ma)}setDefaultOptions(e){he(this,Ma,e)}setQueryDefaults(e,t){z(this,to).set(Qs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,to).values()],n={};return t.forEach(r=>{El(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){z(this,no).set(Qs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,no).values()],n={};return t.forEach(r=>{El(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,Ma).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Jm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Xm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Ma).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,xt).clear(),z(this,Da).clear()}},xt=new WeakMap,Da=new WeakMap,Ma=new WeakMap,to=new WeakMap,no=new WeakMap,za=new WeakMap,ro=new WeakMap,ao=new WeakMap,Dx),Kx={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng=Symbol.for("react.transitional.element"),TC=Symbol.for("react.portal"),NC=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),kC=Symbol.for("react.profiler"),OC=Symbol.for("react.consumer"),AC=Symbol.for("react.context"),DC=Symbol.for("react.forward_ref"),MC=Symbol.for("react.suspense"),zC=Symbol.for("react.memo"),Qx=Symbol.for("react.lazy"),LC=Symbol.for("react.activity"),Tv=Symbol.iterator;function PC(e){return e===null||typeof e!="object"?null:(e=Tv&&e[Tv]||e["@@iterator"],typeof e=="function"?e:null)}var Yx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gx=Object.assign,Jx={};function So(e,t,n){this.props=e,this.context=t,this.refs=Jx,this.updater=n||Yx}So.prototype.isReactComponent={};So.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};So.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xx(){}Xx.prototype=So.prototype;function rg(e,t,n){this.props=e,this.context=t,this.refs=Jx,this.updater=n||Yx}var ag=rg.prototype=new Xx;ag.constructor=rg;Gx(ag,So.prototype);ag.isPureReactComponent=!0;var Nv=Array.isArray;function Lp(){}var dt={H:null,A:null,T:null,S:null},Wx=Object.prototype.hasOwnProperty;function sg(e,t,n){var r=n.ref;return{$$typeof:ng,type:e,key:t,ref:r!==void 0?r:null,props:n}}function UC(e,t){return sg(e.type,t,e.props)}function ig(e){return typeof e=="object"&&e!==null&&e.$$typeof===ng}function qC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rv=/\/+/g;function mh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qC(""+e.key):t.toString(36)}function $C(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Lp,Lp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function bi(e,t,n,r,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ng:case TC:i=!0;break;case Qx:return i=e._init,bi(i(e._payload),t,n,r,a)}}if(i)return a=a(e),i=r===""?"."+mh(e,0):r,Nv(a)?(n="",i!=null&&(n=i.replace(Rv,"$&/")+"/"),bi(a,t,n,"",function(u){return u})):a!=null&&(ig(a)&&(a=UC(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Rv,"$&/")+"/")+i)),t.push(a)),1;i=0;var o=r===""?".":r+":";if(Nv(e))for(var l=0;l<e.length;l++)r=e[l],s=o+mh(r,l),i+=bi(r,t,n,s,a);else if(l=PC(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,s=o+mh(r,l++),i+=bi(r,t,n,s,a);else if(s==="object"){if(typeof e.then=="function")return bi($C(e),t,n,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function Nc(e,t,n){if(e==null)return e;var r=[],a=0;return bi(e,r,"","",function(s){return t.call(n,s,a++)}),r}function HC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kv=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},BC={map:Nc,forEach:function(e,t,n){Nc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nc(e,function(){t++}),t},toArray:function(e){return Nc(e,function(t){return t})||[]},only:function(e){if(!ig(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Activity=LC;Ne.Children=BC;Ne.Component=So;Ne.Fragment=NC;Ne.Profiler=kC;Ne.PureComponent=rg;Ne.StrictMode=RC;Ne.Suspense=MC;Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt;Ne.__COMPILER_RUNTIME={__proto__:null,c:function(e){return dt.H.useMemoCache(e)}};Ne.cache=function(e){return function(){return e.apply(null,arguments)}};Ne.cacheSignal=function(){return null};Ne.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=Gx({},e.props),a=e.key;if(t!=null)for(s in t.key!==void 0&&(a=""+t.key),t)!Wx.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];r.children=i}return sg(e.type,a,r)};Ne.createContext=function(e){return e={$$typeof:AC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:OC,_context:e},e};Ne.createElement=function(e,t,n){var r,a={},s=null;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)Wx.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=t[r]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)a[r]===void 0&&(a[r]=i[r]);return sg(e,s,a)};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:DC,render:e}};Ne.isValidElement=ig;Ne.lazy=function(e){return{$$typeof:Qx,_payload:{_status:-1,_result:e},_init:HC}};Ne.memo=function(e,t){return{$$typeof:zC,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=dt.T,n={};dt.T=n;try{var r=e(),a=dt.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Lp,kv)}catch(s){kv(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),dt.T=t}};Ne.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()};Ne.use=function(e){return dt.H.use(e)};Ne.useActionState=function(e,t,n){return dt.H.useActionState(e,t,n)};Ne.useCallback=function(e,t){return dt.H.useCallback(e,t)};Ne.useContext=function(e){return dt.H.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e,t){return dt.H.useDeferredValue(e,t)};Ne.useEffect=function(e,t){return dt.H.useEffect(e,t)};Ne.useEffectEvent=function(e){return dt.H.useEffectEvent(e)};Ne.useId=function(){return dt.H.useId()};Ne.useImperativeHandle=function(e,t,n){return dt.H.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return dt.H.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return dt.H.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return dt.H.useMemo(e,t)};Ne.useOptimistic=function(e,t){return dt.H.useOptimistic(e,t)};Ne.useReducer=function(e,t,n){return dt.H.useReducer(e,t,n)};Ne.useRef=function(e){return dt.H.useRef(e)};Ne.useState=function(e){return dt.H.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return dt.H.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return dt.H.useTransition()};Ne.version="19.2.3";Kx.exports=Ne;var T=Kx.exports;const pt=eC(T);var e1=T.createContext(void 0),wo=e=>{const t=T.useContext(e1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},IC=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(e1.Provider,{value:e,children:t})),t1=T.createContext(!1),FC=()=>T.useContext(t1);t1.Provider;function VC(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ZC=T.createContext(VC()),KC=()=>T.useContext(ZC),QC=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?Wm(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},YC=e=>{T.useEffect(()=>{e.clearReset()},[e])},GC=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||Wm(n,[e.error,r])),JC=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},XC=(e,t)=>e.isLoading&&e.isFetching&&!t,WC=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ov=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function e6(e,t,n){var p,d,m,g;const r=FC(),a=KC(),s=wo(),i=s.defaultQueryOptions(e);(d=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||d.call(p,i);const o=s.getQueryCache().get(i.queryHash);i._optimisticResults=r?"isRestoring":"optimistic",JC(i),QC(i,a,o),YC(a);const l=!s.getQueryCache().get(i.queryHash),[u]=T.useState(()=>new t(s,i)),f=u.getOptimisticResult(i),h=!r&&e.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(x=>{const v=h?u.subscribe(qt.batchCalls(x)):un;return u.updateResult(),v},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(i)},[i,u]),WC(i,f))throw Ov(i,u,a);if(GC({result:f,errorResetBoundary:a,throwOnError:i.throwOnError,query:o,suspense:i.suspense}))throw f.error;if((g=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,i,f),i.experimental_prefetchInRender&&!Ks&&XC(f,r)){const x=l?Ov(i,u,a):o==null?void 0:o.promise;x==null||x.catch(un).finally(()=>{u.updateResult()})}return i.notifyOnChangeProps?f:u.trackResult(f)}function xa(e,t){return e6(e,vC)}function os(e,t){const n=wo(),[r]=T.useState(()=>new jC(n,e));T.useEffect(()=>{r.setOptions(e)},[r,e]);const a=T.useSyncExternalStore(T.useCallback(i=>r.subscribe(qt.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=T.useCallback((i,o)=>{r.mutate(i,o).catch(un)},[r]);if(a.error&&Wm(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}const Pp=new WeakMap,t6=new WeakMap,bd={current:[]};let gh=!1,ol=0;const Wo=new Set,Rc=new Map;function n1(e){for(const t of e){if(bd.current.includes(t))continue;bd.current.push(t),t.recompute();const n=t6.get(t);if(n)for(const r of n){const a=Pp.get(r);a!=null&&a.length&&n1(a)}}}function n6(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function r6(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function r1(e){if(ol>0&&!Rc.has(e)&&Rc.set(e,e.prevState),Wo.add(e),!(ol>0)&&!gh)try{for(gh=!0;Wo.size>0;){const t=Array.from(Wo);Wo.clear();for(const n of t){const r=Rc.get(n)??n.prevState;n.prevState=r,n6(n)}for(const n of t){const r=Pp.get(n);r&&(bd.current.push(n),n1(r))}for(const n of t){const r=Pp.get(n);if(r)for(const a of r)r6(a)}}}finally{gh=!1,bd.current=[],Rc.clear()}}function ll(e){ol++;try{e()}finally{if(ol--,ol===0){const t=Wo.values().next().value;t&&r1(t)}}}function a6(e){return typeof e=="function"}class s6{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var a,s;this.listeners.add(r);const i=(s=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:s.call(a,r,this);return()=>{this.listeners.delete(r),i==null||i()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,a;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):a6(t)?this.state=t(this.prevState):this.state=t,(a=(r=this.options)==null?void 0:r.onUpdate)==null||a.call(r),r1(this)}}const Fa="__TSR_index",Av="popstate",Dv="beforeunload";function i6(e){let t=e.getLocation();const n=new Set,r=(i,o)=>{t=e.getLocation(),n.forEach(l=>l({location:t,action:i,navigateOpts:o}))},a=i=>{e.notifyOnIndexChange??!0?r(i):t=e.getLocation()},s=async({task:i,navigateOpts:o,...l})=>{var p,d;if((o==null?void 0:o.ignoreBlocker)??!1)return i(),{type:"SUCCESS"};const f=((p=e.getBlockers)==null?void 0:p.call(e))??[],h=l.type==="PUSH"||l.type==="REPLACE";if(typeof document<"u"&&f.length&&h)for(const m of f){const g=_d(l.path,l.state);if(await m.blockerFn({currentLocation:t,nextLocation:g,action:l.type}))return(d=e.onBlocked)==null||d.call(e),{type:"BLOCKED"}}return i(),{type:"SUCCESS"}};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:i=>(n.add(i),()=>{n.delete(i)}),push:(i,o,l)=>{const u=t.state[Fa];return o=Mv(u+1,o),s({task:()=>{e.pushState(i,o),r({type:"PUSH"},l)},navigateOpts:l,type:"PUSH",path:i,state:o})},replace:(i,o,l)=>{const u=t.state[Fa];return o=Mv(u,o),s({task:()=>{e.replaceState(i,o),r({type:"REPLACE"},l)},navigateOpts:l,type:"REPLACE",path:i,state:o})},go:(i,o)=>{s({task:()=>{e.go(i),a({type:"GO",index:i})},navigateOpts:o,type:"GO"})},back:i=>{s({task:()=>{e.back((i==null?void 0:i.ignoreBlocker)??!1),a({type:"BACK"})},navigateOpts:i,type:"BACK"})},forward:i=>{s({task:()=>{e.forward((i==null?void 0:i.ignoreBlocker)??!1),a({type:"FORWARD"})},navigateOpts:i,type:"FORWARD"})},canGoBack:()=>t.state[Fa]!==0,createHref:i=>e.createHref(i),block:i=>{var l;if(!e.setBlockers)return()=>{};const o=((l=e.getBlockers)==null?void 0:l.call(e))??[];return e.setBlockers([...o,i]),()=>{var f,h;const u=((f=e.getBlockers)==null?void 0:f.call(e))??[];(h=e.setBlockers)==null||h.call(e,u.filter(p=>p!==i))}},flush:()=>{var i;return(i=e.flush)==null?void 0:i.call(e)},destroy:()=>{var i;return(i=e.destroy)==null?void 0:i.call(e)},notify:r}}function Mv(e,t){t||(t={});const n=og();return{...t,key:n,__TSR_key:n,[Fa]:e}}function o6(e){var q,L;const t=typeof document<"u"?window:void 0,n=t.history.pushState,r=t.history.replaceState;let a=[];const s=()=>a,i=N=>a=N,o=N=>N,l=()=>_d(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);if(!((q=t.history.state)!=null&&q.__TSR_key)&&!((L=t.history.state)!=null&&L.key)){const N=og();t.history.replaceState({[Fa]:0,key:N,__TSR_key:N},"")}let u=l(),f,h=!1,p=!1,d=!1,m=!1;const g=()=>u;let x,v;const y=()=>{x&&(E._ignoreSubscribers=!0,(x.isPush?t.history.pushState:t.history.replaceState)(x.state,"",x.href),E._ignoreSubscribers=!1,x=void 0,v=void 0,f=void 0)},b=(N,k,P)=>{const F=o(k);v||(f=u),u=_d(k,P),x={href:F,state:P,isPush:(x==null?void 0:x.isPush)||N==="push"},v||(v=Promise.resolve().then(()=>y()))},S=N=>{u=l(),E.notify({type:N})},j=async()=>{if(p){p=!1;return}const N=l(),k=N.state[Fa]-u.state[Fa],P=k===1,F=k===-1,W=!P&&!F||h;h=!1;const Y=W?"GO":F?"BACK":"FORWARD",U=W?{type:"GO",index:k}:{type:F?"BACK":"FORWARD"};if(d)d=!1;else{const Q=s();if(typeof document<"u"&&Q.length){for(const ae of Q)if(await ae.blockerFn({currentLocation:u,nextLocation:N,action:Y})){p=!0,t.history.go(1),E.notify(U);return}}}u=l(),E.notify(U)},M=N=>{if(m){m=!1;return}let k=!1;const P=s();if(typeof document<"u"&&P.length)for(const F of P){const W=F.enableBeforeUnload??!0;if(W===!0){k=!0;break}if(typeof W=="function"&&W()===!0){k=!0;break}}if(k)return N.preventDefault(),N.returnValue=""},E=i6({getLocation:g,getLength:()=>t.history.length,pushState:(N,k)=>b("push",N,k),replaceState:(N,k)=>b("replace",N,k),back:N=>(N&&(d=!0),m=!0,t.history.back()),forward:N=>{N&&(d=!0),m=!0,t.history.forward()},go:N=>{h=!0,t.history.go(N)},createHref:N=>o(N),flush:y,destroy:()=>{t.history.pushState=n,t.history.replaceState=r,t.removeEventListener(Dv,M,{capture:!0}),t.removeEventListener(Av,j)},onBlocked:()=>{f&&u!==f&&(u=f)},getBlockers:s,setBlockers:i,notifyOnIndexChange:!1});return t.addEventListener(Dv,M,{capture:!0}),t.addEventListener(Av,j),t.history.pushState=function(...N){const k=n.apply(t.history,N);return E._ignoreSubscribers||S("PUSH"),k},t.history.replaceState=function(...N){const k=r.apply(t.history,N);return E._ignoreSubscribers||S("REPLACE"),k},E}function l6(e){let t=e.replace(/[\x00-\x1f\x7f]/g,"");return t.startsWith("//")&&(t="/"+t.replace(/^\/+/,"")),t}function _d(e,t){const n=l6(e),r=n.indexOf("#"),a=n.indexOf("?"),s=og();return{href:n,pathname:n.substring(0,r>0?a>0?Math.min(r,a):r:a>0?a:n.length),hash:r>-1?n.substring(r):"",search:a>-1?n.slice(a,r===-1?void 0:r):"",state:t||{[Fa]:0,key:s,__TSR_key:s}}}function og(){return(Math.random()+1).toString(36).substring(7)}function xd(e){return e[e.length-1]}function c6(e){return typeof e=="function"}function La(e,t){return c6(e)?e(t):e}const u6=Object.prototype.hasOwnProperty;function Qn(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=t,a=Pv(e)&&Pv(r);if(!a&&!(Sd(e)&&Sd(r)))return r;const s=a?e:zv(e);if(!s)return r;const i=a?r:zv(r);if(!i)return r;const o=s.length,l=i.length,u=a?new Array(l):{};let f=0;for(let h=0;h<l;h++){const p=a?h:i[h],d=e[p],m=r[p];if(d===m){u[p]=d,(a?h<o:u6.call(e,p))&&f++;continue}if(d===null||m===null||typeof d!="object"||typeof m!="object"){u[p]=m;continue}const g=Qn(d,m,n+1);u[p]=g,g===d&&f++}return o===l&&f===o?e:u}function zv(e){const t=[],n=Object.getOwnPropertyNames(e);for(const a of n){if(!Object.prototype.propertyIsEnumerable.call(e,a))return!1;t.push(a)}const r=Object.getOwnPropertySymbols(e);for(const a of r){if(!Object.prototype.propertyIsEnumerable.call(e,a))return!1;t.push(a)}return t}function Sd(e){if(!Lv(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Lv(n)||!n.hasOwnProperty("isPrototypeOf"))}function Lv(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $s(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0,a=e.length;r<a;r++)if(!$s(e[r],t[r],n))return!1;return!0}if(Sd(e)&&Sd(t)){const r=(n==null?void 0:n.ignoreUndefined)??!0;if(n!=null&&n.partial){for(const i in t)if((!r||t[i]!==void 0)&&!$s(e[i],t[i],n))return!1;return!0}let a=0;if(!r)a=Object.keys(e).length;else for(const i in e)e[i]!==void 0&&a++;let s=0;for(const i in t)if((!r||t[i]!==void 0)&&(s++,s>a||!$s(e[i],t[i],n)))return!1;return a===s}return!1}function so(e){let t,n;const r=new Promise((a,s)=>{t=a,n=s});return r.status="pending",r.resolve=a=>{r.status="resolved",r.value=a,t(a),e==null||e(a)},r.reject=a=>{r.status="rejected",n(a)},r}function Va(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}function d6(e){return e.replace(/[\x00-\x1f\x7f]/g,"")}function Uv(e){let t;try{t=decodeURI(e)}catch{t=e.replaceAll(/%[0-9A-F]{2}/gi,n=>{try{return decodeURI(n)}catch{return n}})}return d6(t)}const a1=["http:","https:","mailto:","tel:"];function wd(e){if(!e)return!1;try{const t=new URL(e);return!a1.includes(t.protocol)}catch{return!1}}const f6={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},h6=/[&><\u2028\u2029]/g;function p6(e){return e.replace(h6,t=>f6[t])}function yh(e,t){if(!e)return e;const n=/%25|%5C/gi;let r=0,a="",s;for(;(s=n.exec(e))!==null;)a+=Uv(e.slice(r,s.index))+s[0],r=n.lastIndex;return a=a+Uv(r?e.slice(r):e),a.startsWith("//")&&(a="/"+a.replace(/^\/+/,"")),a}var m6="Invariant failed";function sa(e,t){if(!e)throw new Error(m6)}function jd(e){const t=new Map;let n,r;const a=s=>{s.next&&(s.prev?(s.prev.next=s.next,s.next.prev=s.prev,s.next=void 0,r&&(r.next=s,s.prev=r)):(s.next.prev=void 0,n=s.next,s.next=void 0,r&&(s.prev=r,r.next=s)),r=s)};return{get(s){const i=t.get(s);if(i)return a(i),i.value},set(s,i){if(t.size>=e&&n){const l=n;t.delete(l.key),l.next&&(n=l.next,l.next.prev=void 0),l===r&&(r=void 0)}const o=t.get(s);if(o)o.value=i,a(o);else{const l={key:s,value:i,prev:r};r&&(r.next=l),r=l,n||(n=l),t.set(s,l)}},clear(){t.clear(),n=void 0,r=void 0}}}const io=0,Ys=1,Gs=2,Tl=3,ji=4,g6=5,y6=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,v6=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,b6=/^([^{]*)\{\$\}([^}]*)$/;function lg(e,t,n=new Uint16Array(6)){const r=e.indexOf("/",t),a=r===-1?e.length:r,s=e.substring(t,a);if(!s||!s.includes("$"))return n[0]=io,n[1]=t,n[2]=t,n[3]=a,n[4]=a,n[5]=a,n;if(s==="$"){const u=e.length;return n[0]=Gs,n[1]=t,n[2]=t,n[3]=u,n[4]=u,n[5]=u,n}if(s.charCodeAt(0)===36)return n[0]=Ys,n[1]=t,n[2]=t+1,n[3]=a,n[4]=a,n[5]=a,n;const i=s.match(b6);if(i){const f=i[1].length;return n[0]=Gs,n[1]=t+f,n[2]=t+f+1,n[3]=t+f+2,n[4]=t+f+3,n[5]=e.length,n}const o=s.match(v6);if(o){const u=o[1],f=o[2],h=o[3],p=u.length;return n[0]=Tl,n[1]=t+p,n[2]=t+p+3,n[3]=t+p+3+f.length,n[4]=a-h.length,n[5]=a,n}const l=s.match(y6);if(l){const u=l[1],f=l[2],h=l[3],p=u.length;return n[0]=Ys,n[1]=t+p,n[2]=t+p+2,n[3]=t+p+2+f.length,n[4]=a-h.length,n[5]=a,n}return n[0]=io,n[1]=t,n[2]=t,n[3]=a,n[4]=a,n[5]=a,n}function gf(e,t,n,r,a,s,i){var l,u,f,h,p,d,m,g,x,v,y,b,S;i==null||i(n);let o=r;{const j=n.fullPath??n.from,M=j.length,E=((l=n.options)==null?void 0:l.caseSensitive)??e,q=!!((f=(u=n.options)==null?void 0:u.params)!=null&&f.parse&&((p=(h=n.options)==null?void 0:h.skipRouteOnParseError)!=null&&p.params));for(;o<M;){const N=lg(j,o,t);let k;const P=o,F=N[5];switch(o=F+1,s++,N[0]){case io:{const Y=j.substring(N[2],N[3]);if(E){const U=(d=a.static)==null?void 0:d.get(Y);if(U)k=U;else{a.static??(a.static=new Map);const Q=Rs(n.fullPath??n.from);Q.parent=a,Q.depth=s,k=Q,a.static.set(Y,Q)}}else{const U=Y.toLowerCase(),Q=(m=a.staticInsensitive)==null?void 0:m.get(U);if(Q)k=Q;else{a.staticInsensitive??(a.staticInsensitive=new Map);const ae=Rs(n.fullPath??n.from);ae.parent=a,ae.depth=s,k=ae,a.staticInsensitive.set(U,ae)}}break}case Ys:{const Y=j.substring(P,N[1]),U=j.substring(N[4],F),Q=E&&!!(Y||U),ae=Y?Q?Y:Y.toLowerCase():void 0,ve=U?Q?U:U.toLowerCase():void 0,pe=!q&&((g=a.dynamic)==null?void 0:g.find(me=>!me.skipOnParamError&&me.caseSensitive===Q&&me.prefix===ae&&me.suffix===ve));if(pe)k=pe;else{const me=bh(Ys,n.fullPath??n.from,Q,ae,ve);k=me,me.depth=s,me.parent=a,a.dynamic??(a.dynamic=[]),a.dynamic.push(me)}break}case Tl:{const Y=j.substring(P,N[1]),U=j.substring(N[4],F),Q=E&&!!(Y||U),ae=Y?Q?Y:Y.toLowerCase():void 0,ve=U?Q?U:U.toLowerCase():void 0,pe=!q&&((x=a.optional)==null?void 0:x.find(me=>!me.skipOnParamError&&me.caseSensitive===Q&&me.prefix===ae&&me.suffix===ve));if(pe)k=pe;else{const me=bh(Tl,n.fullPath??n.from,Q,ae,ve);k=me,me.parent=a,me.depth=s,a.optional??(a.optional=[]),a.optional.push(me)}break}case Gs:{const Y=j.substring(P,N[1]),U=j.substring(N[4],F),Q=E&&!!(Y||U),ae=Y?Q?Y:Y.toLowerCase():void 0,ve=U?Q?U:U.toLowerCase():void 0,pe=bh(Gs,n.fullPath??n.from,Q,ae,ve);k=pe,pe.parent=a,pe.depth=s,a.wildcard??(a.wildcard=[]),a.wildcard.push(pe)}}a=k}if(q&&n.children&&!n.isRoot&&n.id&&n.id.charCodeAt(n.id.lastIndexOf("/")+1)===95){const N=Rs(n.fullPath??n.from);N.kind=g6,N.parent=a,s++,N.depth=s,a.pathless??(a.pathless=[]),a.pathless.push(N),a=N}const L=(n.path||!n.children)&&!n.isRoot;if(L&&j.endsWith("/")){const N=Rs(n.fullPath??n.from);N.kind=ji,N.parent=a,s++,N.depth=s,a.index=N,a=N}a.parse=((y=(v=n.options)==null?void 0:v.params)==null?void 0:y.parse)??null,a.skipOnParamError=q,a.parsingPriority=((S=(b=n.options)==null?void 0:b.skipRouteOnParseError)==null?void 0:S.priority)??0,L&&!a.route&&(a.route=n,a.fullPath=n.fullPath??n.from)}if(n.children)for(const j of n.children)gf(e,t,j,o,a,s,i)}function vh(e,t){if(e.skipOnParamError&&!t.skipOnParamError)return-1;if(!e.skipOnParamError&&t.skipOnParamError)return 1;if(e.skipOnParamError&&t.skipOnParamError&&(e.parsingPriority||t.parsingPriority))return t.parsingPriority-e.parsingPriority;if(e.prefix&&t.prefix&&e.prefix!==t.prefix){if(e.prefix.startsWith(t.prefix))return-1;if(t.prefix.startsWith(e.prefix))return 1}if(e.suffix&&t.suffix&&e.suffix!==t.suffix){if(e.suffix.endsWith(t.suffix))return-1;if(t.suffix.endsWith(e.suffix))return 1}return e.prefix&&!t.prefix?-1:!e.prefix&&t.prefix?1:e.suffix&&!t.suffix?-1:!e.suffix&&t.suffix?1:e.caseSensitive&&!t.caseSensitive?-1:!e.caseSensitive&&t.caseSensitive?1:0}function va(e){var t,n,r;if(e.pathless)for(const a of e.pathless)va(a);if(e.static)for(const a of e.static.values())va(a);if(e.staticInsensitive)for(const a of e.staticInsensitive.values())va(a);if((t=e.dynamic)!=null&&t.length){e.dynamic.sort(vh);for(const a of e.dynamic)va(a)}if((n=e.optional)!=null&&n.length){e.optional.sort(vh);for(const a of e.optional)va(a)}if((r=e.wildcard)!=null&&r.length){e.wildcard.sort(vh);for(const a of e.wildcard)va(a)}}function Rs(e){return{kind:io,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function bh(e,t,n,r,a){return{kind:e,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:n,prefix:r,suffix:a}}function _6(e,t){const n=Rs("/"),r=new Uint16Array(6);for(const a of e)gf(!1,r,a,1,n,0);va(n),t.masksTree=n,t.flatCache=jd(1e3)}function x6(e,t){e||(e="/");const n=t.flatCache.get(e);if(n)return n;const r=cg(e,t.masksTree);return t.flatCache.set(e,r),r}function S6(e,t,n,r,a){e||(e="/"),r||(r="/");const s=t?`case\0${e}`:e;let i=a.singleCache.get(s);if(!i){i=Rs("/");const o=new Uint16Array(6);gf(t,o,{from:e},1,i,0),a.singleCache.set(s,i)}return cg(r,i,n)}function w6(e,t,n=!1){const r=n?e:`nofuzz\0${e}`,a=t.matchCache.get(r);if(a!==void 0)return a;e||(e="/");let s;try{s=cg(e,t.segmentTree,n)}catch(i){if(i instanceof URIError)s=null;else throw i}return s&&(s.branch=E6(s.route)),t.matchCache.set(r,s),s}function j6(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function C6(e,t=!1,n){const r=Rs(e.fullPath),a=new Uint16Array(6),s={},i={};let o=0;return gf(t,a,e,1,r,0,u=>{if(n==null||n(u,o),sa(!(u.id in s),`Duplicate routes found with id: ${String(u.id)}`),s[u.id]=u,o!==0&&u.path){const f=j6(u.fullPath);(!i[f]||u.fullPath.endsWith("/"))&&(i[f]=u)}o++}),va(r),{processedTree:{segmentTree:r,singleCache:jd(1e3),matchCache:jd(1e3),flatCache:null,masksTree:null},routesById:s,routesByPath:i}}function cg(e,t,n=!1){const r=e.split("/"),a=N6(e,r,t,n);if(!a)return null;const[s]=s1(e,r,a);return{route:a.node.route,rawParams:s,parsedParams:a.parsedParams}}function s1(e,t,n){var u,f,h,p,d,m,g,x,v;const r=T6(n.node);let a=null;const s={};let i=((u=n.extract)==null?void 0:u.part)??0,o=((f=n.extract)==null?void 0:f.node)??0,l=((h=n.extract)==null?void 0:h.path)??0;for(;o<r.length;i++,o++,l++){const y=r[o],b=t[i],S=l;if(b&&(l+=b.length),y.kind===Ys){a??(a=n.node.fullPath.split("/"));const j=a[o],M=((p=y.prefix)==null?void 0:p.length)??0;if(j.charCodeAt(M)===123){const q=((d=y.suffix)==null?void 0:d.length)??0,L=j.substring(M+2,j.length-q-1),N=b.substring(M,b.length-q);s[L]=decodeURIComponent(N)}else{const q=j.substring(1);s[q]=decodeURIComponent(b)}}else if(y.kind===Tl){if(n.skipped&1<<o){i--;continue}a??(a=n.node.fullPath.split("/"));const j=a[o],M=((m=y.prefix)==null?void 0:m.length)??0,E=((g=y.suffix)==null?void 0:g.length)??0,q=j.substring(M+3,j.length-E-1),L=y.suffix||y.prefix?b.substring(M,b.length-E):b;L&&(s[q]=decodeURIComponent(L))}else if(y.kind===Gs){const j=y,M=e.substring(S+(((x=j.prefix)==null?void 0:x.length)??0),e.length-(((v=j.suffix)==null?void 0:v.length)??0)),E=decodeURIComponent(M);s["*"]=E,s._splat=E;break}}return n.rawParams&&Object.assign(s,n.rawParams),[s,{part:i,node:o,path:l}]}function E6(e){const t=[e];for(;e.parentRoute;)e=e.parentRoute,t.push(e);return t.reverse(),t}function T6(e){const t=Array(e.depth+1);do t[e.depth]=e,e=e.parent;while(e);return t}function N6(e,t,n,r){if(e==="/"&&n.index)return{node:n.index,skipped:0};const a=!xd(t),s=a&&e!=="/",i=t.length-(a?1:0),o=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let l=null,u=null,f=null;for(;o.length;){const h=o.pop(),{node:p,index:d,skipped:m,depth:g,statics:x,dynamics:v,optionals:y}=h;let{extract:b,rawParams:S,parsedParams:j}=h;if(p.skipOnParamError){if(!_h(e,t,h))continue;S=h.rawParams,b=h.extract,j=h.parsedParams}r&&p.route&&p.kind!==ji&&Lo(u,h)&&(u=h);const M=d===i;if(M&&(p.route&&!s&&Lo(f,h)&&(f=h),!p.optional&&!p.wildcard&&!p.index&&!p.pathless))continue;const E=M?void 0:t[d];let q;if(M&&p.index){const L={node:p.index,index:d,skipped:m,depth:g+1,statics:x,dynamics:v,optionals:y,extract:b,rawParams:S,parsedParams:j};if(p.index.skipOnParamError&&!_h(e,t,L))continue;if(x===i&&!v&&!y&&!m)return L;Lo(f,L)&&(f=L)}if(p.wildcard&&Lo(l,h))for(const L of p.wildcard){const{prefix:N,suffix:k}=L;if(N&&(M||!(L.caseSensitive?E:q??(q=E.toLowerCase())).startsWith(N)))continue;if(k){if(M)continue;const F=t.slice(d).join("/").slice(-k.length);if((L.caseSensitive?F:F.toLowerCase())!==k)continue}const P={node:L,index:i,skipped:m,depth:g,statics:x,dynamics:v,optionals:y,extract:b,rawParams:S,parsedParams:j};if(!(L.skipOnParamError&&!_h(e,t,P))){l=P;break}}if(p.optional){const L=m|1<<g,N=g+1;for(let k=p.optional.length-1;k>=0;k--){const P=p.optional[k];o.push({node:P,index:d,skipped:L,depth:N,statics:x,dynamics:v,optionals:y,extract:b,rawParams:S,parsedParams:j})}if(!M)for(let k=p.optional.length-1;k>=0;k--){const P=p.optional[k],{prefix:F,suffix:W}=P;if(F||W){const Y=P.caseSensitive?E:q??(q=E.toLowerCase());if(F&&!Y.startsWith(F)||W&&!Y.endsWith(W))continue}o.push({node:P,index:d+1,skipped:m,depth:N,statics:x,dynamics:v,optionals:y+1,extract:b,rawParams:S,parsedParams:j})}}if(!M&&p.dynamic&&E)for(let L=p.dynamic.length-1;L>=0;L--){const N=p.dynamic[L],{prefix:k,suffix:P}=N;if(k||P){const F=N.caseSensitive?E:q??(q=E.toLowerCase());if(k&&!F.startsWith(k)||P&&!F.endsWith(P))continue}o.push({node:N,index:d+1,skipped:m,depth:g+1,statics:x,dynamics:v+1,optionals:y,extract:b,rawParams:S,parsedParams:j})}if(!M&&p.staticInsensitive){const L=p.staticInsensitive.get(q??(q=E.toLowerCase()));L&&o.push({node:L,index:d+1,skipped:m,depth:g+1,statics:x+1,dynamics:v,optionals:y,extract:b,rawParams:S,parsedParams:j})}if(!M&&p.static){const L=p.static.get(E);L&&o.push({node:L,index:d+1,skipped:m,depth:g+1,statics:x+1,dynamics:v,optionals:y,extract:b,rawParams:S,parsedParams:j})}if(p.pathless){const L=g+1;for(let N=p.pathless.length-1;N>=0;N--){const k=p.pathless[N];o.push({node:k,index:d,skipped:m,depth:L,statics:x,dynamics:v,optionals:y,extract:b,rawParams:S,parsedParams:j})}}}if(f&&l)return Lo(l,f)?f:l;if(f)return f;if(l)return l;if(r&&u){let h=u.index;for(let d=0;d<u.index;d++)h+=t[d].length;const p=h===e.length?"/":e.slice(h);return u.rawParams??(u.rawParams={}),u.rawParams["**"]=decodeURIComponent(p),u}return null}function _h(e,t,n){try{const[r,a]=s1(e,t,n);n.rawParams=r,n.extract=a;const s=n.node.parse(r);return n.parsedParams=Object.assign({},n.parsedParams,s),!0}catch{return null}}function Lo(e,t){return e?t.statics>e.statics||t.statics===e.statics&&(t.dynamics>e.dynamics||t.dynamics===e.dynamics&&(t.optionals>e.optionals||t.optionals===e.optionals&&((t.node.kind===ji)>(e.node.kind===ji)||t.node.kind===ji==(e.node.kind===ji)&&t.depth>e.depth))):!0}function Xu(e){return ug(e.filter(t=>t!==void 0).join("/"))}function ug(e){return e.replace(/\/{2,}/g,"/")}function i1(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Wr(e){const t=e.length;return t>1&&e[t-1]==="/"?e.replace(/\/{1,}$/,""):e}function o1(e){return Wr(i1(e))}function Cd(e,t){return e!=null&&e.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function R6(e,t,n){return Cd(e,n)===Cd(t,n)}function k6({base:e,to:t,trailingSlash:n="never",cache:r}){const a=t.startsWith("/"),s=!a&&t===".";let i;if(r){i=a?t:s?e:e+"\0"+t;const h=r.get(i);if(h)return h}let o;if(s)o=e.split("/");else if(a)o=t.split("/");else{for(o=e.split("/");o.length>1&&xd(o)==="";)o.pop();const h=t.split("/");for(let p=0,d=h.length;p<d;p++){const m=h[p];m===""?p?p===d-1&&o.push(m):o=[m]:m===".."?o.pop():m==="."||o.push(m)}}o.length>1&&(xd(o)===""?n==="never"&&o.pop():n==="always"&&o.push(""));let l,u="";for(let h=0;h<o.length;h++){h>0&&(u+="/");const p=o[h];if(!p)continue;l=lg(p,0,l);const d=l[0];if(d===io){u+=p;continue}const m=l[5],g=p.substring(0,l[1]),x=p.substring(l[4],m),v=p.substring(l[2],l[3]);d===Ys?u+=g||x?`${g}{$${v}}${x}`:`$${v}`:d===Gs?u+=g||x?`${g}{$}${x}`:"$":u+=`${g}{-$${v}}${x}`}u=ug(u);const f=u||"/";return i&&r&&r.set(i,f),f}function xh(e,t,n){const r=t[e];return typeof r!="string"?r:e==="_splat"?encodeURI(r):O6(r,n)}function Sh({path:e,params:t,decodeCharMap:n}){let r=!1;const a={};if(!e||e==="/")return{interpolatedPath:"/",usedParams:a,isMissingParams:r};if(!e.includes("$"))return{interpolatedPath:e,usedParams:a,isMissingParams:r};const s=e.length;let i=0,o,l="";for(;i<s;){const f=i;o=lg(e,f,o);const h=o[5];if(i=h+1,f===h)continue;const p=o[0];if(p===io){l+="/"+e.substring(f,h);continue}if(p===Gs){const d=t._splat;a._splat=d,a["*"]=d;const m=e.substring(f,o[1]),g=e.substring(o[4],h);if(!d){r=!0,(m||g)&&(l+="/"+m+g);continue}const x=xh("_splat",t,n);l+="/"+m+x+g;continue}if(p===Ys){const d=e.substring(o[2],o[3]);!r&&!(d in t)&&(r=!0),a[d]=t[d];const m=e.substring(f,o[1]),g=e.substring(o[4],h),x=xh(d,t,n)??"undefined";l+="/"+m+x+g;continue}if(p===Tl){const d=e.substring(o[2],o[3]),m=t[d];if(m==null)continue;a[d]=m;const g=e.substring(f,o[1]),x=e.substring(o[4],h),v=xh(d,t,n)??"";l+="/"+g+v+x;continue}}return e.endsWith("/")&&(l+="/"),{usedParams:a,interpolatedPath:l||"/",isMissingParams:r}}function O6(e,t){let n=encodeURIComponent(e);if(t)for(const[r,a]of t)n=n.replaceAll(r,a);return n}function Pn(e){return!!(e!=null&&e.isNotFound)}function A6(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Ed="tsr-scroll-restoration-v1_3",D6=(e,t)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{e(...r),n=null},t))}};function M6(){const e=A6();if(!e)return null;const t=e.getItem(Ed);let n=t?JSON.parse(t):{};return{state:n,set:r=>{n=La(r,n)||n;try{e.setItem(Ed,JSON.stringify(n))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const kc=M6(),Up=e=>e.state.__TSR_key||e.href;function z6(e){const t=[];let n;for(;n=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,e)+1})`),e=n;return`${t.reverse().join(" > ")}`.toLowerCase()}let Td=!1;function l1({storageKey:e,key:t,behavior:n,shouldScrollRestoration:r,scrollToTopSelectors:a,location:s}){var u,f;let i;try{i=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(h){console.error(h);return}const o=t||((u=window.history.state)==null?void 0:u.__TSR_key),l=i[o];Td=!0;e:{if(r&&l&&Object.keys(l).length>0){for(const d in l){const m=l[d];if(d==="window")window.scrollTo({top:m.scrollY,left:m.scrollX,behavior:n});else if(d){const g=document.querySelector(d);g&&(g.scrollLeft=m.scrollX,g.scrollTop=m.scrollY)}}break e}const h=(s??window.location).hash.split("#",2)[1];if(h){const d=((f=window.history.state)==null?void 0:f.__hashScrollIntoViewOptions)??!0;if(d){const m=document.getElementById(h);m&&m.scrollIntoView(d)}break e}const p={top:0,left:0,behavior:n};if(window.scrollTo(p),a)for(const d of a){if(d==="window")continue;const m=typeof d=="function"?d():document.querySelector(d);m&&m.scrollTo(p)}}Td=!1}function L6(e,t){if(!kc&&!e.isServer||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isServer||e.isScrollRestorationSetup||!kc))return;e.isScrollRestorationSetup=!0,Td=!1;const r=e.options.getScrollRestorationKey||Up;window.history.scrollRestoration="manual";const a=s=>{if(Td||!e.isScrollRestoring)return;let i="";if(s.target===document||s.target===window)i="window";else{const l=s.target.getAttribute("data-scroll-restoration-id");l?i=`[data-scroll-restoration-id="${l}"]`:i=z6(s.target)}const o=r(e.state.location);kc.set(l=>{const u=l[o]||(l[o]={}),f=u[i]||(u[i]={});if(i==="window")f.scrollX=window.scrollX||0,f.scrollY=window.scrollY||0;else if(i){const h=document.querySelector(i);h&&(f.scrollX=h.scrollLeft||0,f.scrollY=h.scrollTop||0)}return l})};typeof document<"u"&&document.addEventListener("scroll",D6(a,100),!0),e.subscribe("onRendered",s=>{const i=r(s.toLocation);(s.toLocation.state.__TSR_resetScroll??!0)&&(typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||(l1({storageKey:Ed,key:i,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&kc.set(l=>(l[i]||(l[i]={}),l))))})}function P6(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function U6(e,t=String){const n=new URLSearchParams;for(const r in e){const a=e[r];a!==void 0&&n.set(r,t(a))}return n.toString()}function wh(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function q6(e){const t=new URLSearchParams(e),n={};for(const[r,a]of t.entries()){const s=n[r];s==null?n[r]=wh(a):Array.isArray(s)?s.push(wh(a)):n[r]=[s,wh(a)]}return n}const $6=B6(JSON.parse),H6=I6(JSON.stringify,JSON.parse);function B6(e){return t=>{t[0]==="?"&&(t=t.substring(1));const n=q6(t);for(const r in n){const a=n[r];if(typeof a=="string")try{n[r]=e(a)}catch{}}return n}}function I6(e,t){const n=typeof t=="function";function r(a){if(typeof a=="object"&&a!==null)try{return e(a)}catch{}else if(n&&typeof a=="string")try{return t(a),e(a)}catch{}return a}return a=>{const s=U6(a,r);return s?`?${s}`:""}}const wn="__root__";function dg(e){if(e.statusCode=e.statusCode||e.code||307,typeof e.href=="string"&&wd(e.href))throw new Error(`Redirect blocked: unsafe protocol in href "${e.href}". Only ${a1.join(", ")} protocols are allowed.`);if(!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const n=new Response(null,{status:e.statusCode,headers:t});if(n.options=e,e.throw)throw n;return n}function ar(e){return e instanceof Response&&!!e.options}const Wu=e=>{var t;if(!e.rendered)return e.rendered=!0,(t=e.onReady)==null?void 0:t.call(e)},yf=(e,t)=>!!(e.preload&&!e.router.state.matches.some(n=>n.id===t)),Ui=(e,t,n=!0)=>{const r={...e.router.options.context??{}},a=n?t:t-1;for(let s=0;s<=a;s++){const i=e.matches[s];if(!i)continue;const o=e.router.getMatch(i.id);o&&Object.assign(r,o.__routeContext,o.__beforeLoadContext)}return r},c1=(e,t)=>{var a;const n=e.router.routesById[t.routeId??""]??e.router.routeTree;!n.options.notFoundComponent&&((a=e.router.options)!=null&&a.defaultNotFoundComponent)&&(n.options.notFoundComponent=e.router.options.defaultNotFoundComponent),sa(n.options.notFoundComponent);const r=e.matches.find(s=>s.routeId===n.id);sa(r,"Could not find match for route: "+n.id),e.updateMatch(r.id,s=>({...s,status:"notFound",error:t,isFetching:!1})),t.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(t.routeId=n.parentRoute.id,c1(e,t))},Pa=(e,t,n)=>{var r,a,s;if(!(!ar(n)&&!Pn(n))){if(ar(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(t){(r=t._nonReactive.beforeLoadPromise)==null||r.resolve(),(a=t._nonReactive.loaderPromise)==null||a.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const i=ar(n)?"redirected":"notFound";t._nonReactive.error=n,e.updateMatch(t.id,o=>({...o,status:i,context:Ui(e,t.index),isFetching:!1,error:n})),Pn(n)&&!n.routeId&&(n.routeId=t.routeId),(s=t._nonReactive.loadPromise)==null||s.resolve()}throw ar(n)?(e.rendered=!0,n.options._fromLocation=e.location,n.redirectHandled=!0,n=e.router.resolveRedirect(n),n):(c1(e,n),n)}},u1=(e,t)=>{const n=e.router.getMatch(t);return!!(!e.router.isServer&&n._nonReactive.dehydrated||e.router.isServer&&n.ssr===!1)},Po=(e,t,n,r)=>{var o,l;const{id:a,routeId:s}=e.matches[t],i=e.router.looseRoutesById[s];if(n instanceof Promise)throw n;n.routerCode=r,e.firstBadMatchIndex??(e.firstBadMatchIndex=t),Pa(e,e.router.getMatch(a),n);try{(l=(o=i.options).onError)==null||l.call(o,n)}catch(u){n=u,Pa(e,e.router.getMatch(a),n)}e.updateMatch(a,u=>{var f,h;return(f=u._nonReactive.beforeLoadPromise)==null||f.resolve(),u._nonReactive.beforeLoadPromise=void 0,(h=u._nonReactive.loadPromise)==null||h.resolve(),{...u,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},F6=(e,t,n,r)=>{var d;const a=e.router.getMatch(t),s=(d=e.matches[n-1])==null?void 0:d.id,i=s?e.router.getMatch(s):void 0;if(e.router.isShell()){a.ssr=r.id===wn;return}if((i==null?void 0:i.ssr)===!1){a.ssr=!1;return}const o=m=>m===!0&&(i==null?void 0:i.ssr)==="data-only"?"data-only":m,l=e.router.options.defaultSsr??!0;if(r.options.ssr===void 0){a.ssr=o(l);return}if(typeof r.options.ssr!="function"){a.ssr=o(r.options.ssr);return}const{search:u,params:f}=a,h={search:Oc(u,a.searchError),params:Oc(f,a.paramsError),location:e.location,matches:e.matches.map(m=>({index:m.index,pathname:m.pathname,fullPath:m.fullPath,staticData:m.staticData,id:m.id,routeId:m.routeId,search:Oc(m.search,m.searchError),params:Oc(m.params,m.paramsError),ssr:m.ssr}))},p=r.options.ssr(h);if(Va(p))return p.then(m=>{a.ssr=o(m??l)});a.ssr=o(p??l)},d1=(e,t,n,r)=>{var i;if(r._nonReactive.pendingTimeout!==void 0)return;const a=n.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!e.router.isServer&&!yf(e,t)&&(n.options.loader||n.options.beforeLoad||p1(n))&&typeof a=="number"&&a!==1/0&&(n.options.pendingComponent??((i=e.router.options)==null?void 0:i.defaultPendingComponent)))){const o=setTimeout(()=>{Wu(e)},a);r._nonReactive.pendingTimeout=o}},V6=(e,t,n)=>{const r=e.router.getMatch(t);if(!r._nonReactive.beforeLoadPromise&&!r._nonReactive.loaderPromise)return;d1(e,t,n,r);const a=()=>{const s=e.router.getMatch(t);s.preload&&(s.status==="redirected"||s.status==="notFound")&&Pa(e,s,s.error)};return r._nonReactive.beforeLoadPromise?r._nonReactive.beforeLoadPromise.then(a):a()},Z6=(e,t,n,r)=>{var M;const a=e.router.getMatch(t),s=a._nonReactive.loadPromise;a._nonReactive.loadPromise=so(()=>{s==null||s.resolve()});const{paramsError:i,searchError:o}=a;i&&Po(e,n,i,"PARSE_PARAMS"),o&&Po(e,n,o,"VALIDATE_SEARCH"),d1(e,t,r,a);const l=new AbortController,u=(M=e.matches[n-1])==null?void 0:M.id,f=u?e.router.getMatch(u):void 0;(f==null?void 0:f.context)??e.router.options.context;let h=!1;const p=()=>{h||(h=!0,e.updateMatch(t,E=>({...E,isFetching:"beforeLoad",fetchCount:E.fetchCount+1,abortController:l})))},d=()=>{var E;(E=a._nonReactive.beforeLoadPromise)==null||E.resolve(),a._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,q=>({...q,isFetching:!1}))};if(!r.options.beforeLoad){ll(()=>{p(),d()});return}a._nonReactive.beforeLoadPromise=so();const m={...Ui(e,n,!1),...a.__routeContext},{search:g,params:x,cause:v}=a,y=yf(e,t),b={search:g,abortController:l,params:x,preload:y,context:m,location:e.location,navigate:E=>e.router.navigate({...E,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:y?"preload":v,matches:e.matches,...e.router.options.additionalContext},S=E=>{if(E===void 0){ll(()=>{p(),d()});return}(ar(E)||Pn(E))&&(p(),Po(e,n,E,"BEFORE_LOAD")),ll(()=>{p(),e.updateMatch(t,q=>({...q,__beforeLoadContext:E})),d()})};let j;try{if(j=r.options.beforeLoad(b),Va(j))return p(),j.catch(E=>{Po(e,n,E,"BEFORE_LOAD")}).then(S)}catch(E){p(),Po(e,n,E,"BEFORE_LOAD")}S(j)},K6=(e,t)=>{const{id:n,routeId:r}=e.matches[t],a=e.router.looseRoutesById[r],s=()=>{if(e.router.isServer){const l=F6(e,n,t,a);if(Va(l))return l.then(o)}return o()},i=()=>Z6(e,n,t,a),o=()=>{if(u1(e,n))return;const l=V6(e,n,a);return Va(l)?l.then(i):i()};return s()},Q6=(e,t,n)=>{var s,i,o,l,u,f;const r=e.router.getMatch(t);if(!r||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const a={ssr:e.router.options.ssr,matches:e.matches,match:r,params:r.params,loaderData:r.loaderData};return Promise.all([(i=(s=n.options).head)==null?void 0:i.call(s,a),(l=(o=n.options).scripts)==null?void 0:l.call(o,a),(f=(u=n.options).headers)==null?void 0:f.call(u,a)]).then(([h,p,d])=>{const m=h==null?void 0:h.meta,g=h==null?void 0:h.links,x=h==null?void 0:h.scripts,v=h==null?void 0:h.styles;return{meta:m,links:g,headScripts:x,headers:d,scripts:p,styles:v}})},f1=(e,t,n,r)=>{const a=e.matchPromises[n-1],{params:s,loaderDeps:i,abortController:o,cause:l}=e.router.getMatch(t),u=Ui(e,n),f=yf(e,t);return{params:s,deps:i,preload:!!f,parentMatchPromise:a,abortController:o,context:u,location:e.location,navigate:h=>e.router.navigate({...h,_fromLocation:e.location}),cause:f?"preload":l,route:r,...e.router.options.additionalContext}},qv=async(e,t,n,r)=>{var a,s,i,o,l,u;try{const f=e.router.getMatch(t);try{(!e.router.isServer||f.ssr===!0)&&h1(r);const h=(s=(a=r.options).loader)==null?void 0:s.call(a,f1(e,t,n,r)),p=r.options.loader&&Va(h);if(!!(p||r._lazyPromise||r._componentsPromise||r.options.head||r.options.scripts||r.options.headers||f._nonReactive.minPendingPromise)&&e.updateMatch(t,g=>({...g,isFetching:"loader"})),r.options.loader){const g=p?await h:h;Pa(e,e.router.getMatch(t),g),g!==void 0&&e.updateMatch(t,x=>({...x,loaderData:g}))}r._lazyPromise&&await r._lazyPromise;const m=f._nonReactive.minPendingPromise;m&&await m,r._componentsPromise&&await r._componentsPromise,e.updateMatch(t,g=>({...g,error:void 0,context:Ui(e,n),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(h){let p=h;if((p==null?void 0:p.name)==="AbortError"){e.updateMatch(t,m=>({...m,status:m.status==="pending"?"success":m.status,isFetching:!1,context:Ui(e,n)}));return}const d=f._nonReactive.minPendingPromise;d&&await d,Pn(h)&&await((o=(i=r.options.notFoundComponent)==null?void 0:i.preload)==null?void 0:o.call(i)),Pa(e,e.router.getMatch(t),h);try{(u=(l=r.options).onError)==null||u.call(l,h)}catch(m){p=m,Pa(e,e.router.getMatch(t),m)}e.updateMatch(t,m=>({...m,error:p,context:Ui(e,n),status:"error",isFetching:!1}))}}catch(f){const h=e.router.getMatch(t);h&&(h._nonReactive.loaderPromise=void 0),Pa(e,h,f)}},Y6=async(e,t)=>{var u,f;const{id:n,routeId:r}=e.matches[t];let a=!1,s=!1;const i=e.router.looseRoutesById[r];if(u1(e,n)){if(e.router.isServer)return e.router.getMatch(n)}else{const h=e.router.getMatch(n);if(h._nonReactive.loaderPromise){if(h.status==="success"&&!e.sync&&!h.preload)return h;await h._nonReactive.loaderPromise;const p=e.router.getMatch(n),d=p._nonReactive.error||p.error;d&&Pa(e,p,d)}else{const p=Date.now()-h.updatedAt,d=yf(e,n),m=d?i.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:i.options.staleTime??e.router.options.defaultStaleTime??0,g=i.options.shouldReload,x=typeof g=="function"?g(f1(e,n,t,i)):g,v=!!d&&!e.router.state.matches.some(j=>j.id===n),y=e.router.getMatch(n);y._nonReactive.loaderPromise=so(),v!==y.preload&&e.updateMatch(n,j=>({...j,preload:v}));const{status:b,invalid:S}=y;a=b==="success"&&(S||(x??p>m)),d&&i.options.preload===!1||(a&&!e.sync?(s=!0,(async()=>{var j,M;try{await qv(e,n,t,i);const E=e.router.getMatch(n);(j=E._nonReactive.loaderPromise)==null||j.resolve(),(M=E._nonReactive.loadPromise)==null||M.resolve(),E._nonReactive.loaderPromise=void 0}catch(E){ar(E)&&await e.router.navigate(E.options)}})()):(b!=="success"||a&&e.sync)&&await qv(e,n,t,i))}}const o=e.router.getMatch(n);s||((u=o._nonReactive.loaderPromise)==null||u.resolve(),(f=o._nonReactive.loadPromise)==null||f.resolve()),clearTimeout(o._nonReactive.pendingTimeout),o._nonReactive.pendingTimeout=void 0,s||(o._nonReactive.loaderPromise=void 0),o._nonReactive.dehydrated=void 0;const l=s?o.isFetching:!1;return l!==o.isFetching||o.invalid!==!1?(e.updateMatch(n,h=>({...h,isFetching:l,invalid:!1})),e.router.getMatch(n)):o};async function $v(e){const t=Object.assign(e,{matchPromises:[]});!t.router.isServer&&t.router.state.matches.some(n=>n._forcePending)&&Wu(t);try{for(let o=0;o<t.matches.length;o++){const l=K6(t,o);Va(l)&&await l}const n=t.firstBadMatchIndex??t.matches.length;for(let o=0;o<n;o++)t.matchPromises.push(Y6(t,o));const a=(await Promise.allSettled(t.matchPromises)).filter(o=>o.status==="rejected").map(o=>o.reason);let s;for(const o of a){if(ar(o))throw o;!s&&Pn(o)&&(s=o)}for(const o of t.matches){const{id:l,routeId:u}=o,f=t.router.looseRoutesById[u];try{const h=Q6(t,l,f);if(h){const p=await h;t.updateMatch(l,d=>({...d,...p}))}}catch(h){console.error(`Error executing head for route ${u}:`,h)}}if(s)throw s;const i=Wu(t);Va(i)&&await i}catch(n){if(Pn(n)&&!t.preload){const r=Wu(t);throw Va(r)&&await r,n}if(ar(n))throw n}return t.matches}async function h1(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:n,...r}=t.options;Object.assign(e.options,r),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{var r;const n=[];for(const a of m1){const s=(r=e.options[a])==null?void 0:r.preload;s&&n.push(s())}if(n.length)return Promise.all(n).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function Oc(e,t){return t?{status:"error",error:t}:{status:"success",value:e}}function p1(e){var t;for(const n of m1)if((t=e.options[n])!=null&&t.preload)return!0;return!1}const m1=["component","errorComponent","pendingComponent","notFoundComponent"];function G6(e){return{input:({url:t})=>{for(const n of e)t=qp(n,t);return t},output:({url:t})=>{for(let n=e.length-1;n>=0;n--)t=g1(e[n],t);return t}}}function J6(e){const t=o1(e.basepath),n=`/${t}`,r=`${n}/`,a=e.caseSensitive?n:n.toLowerCase(),s=e.caseSensitive?r:r.toLowerCase();return{input:({url:i})=>{const o=e.caseSensitive?i.pathname:i.pathname.toLowerCase();return o===a?i.pathname="/":o.startsWith(s)&&(i.pathname=i.pathname.slice(n.length)),i},output:({url:i})=>(i.pathname=Xu(["/",t,i.pathname]),i)}}function qp(e,t){var r;const n=(r=e==null?void 0:e.input)==null?void 0:r.call(e,{url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function g1(e,t){var r;const n=(r=e==null?void 0:e.output)==null?void 0:r.call(e,{url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function Hs(e){const t=e.resolvedLocation,n=e.location,r=(t==null?void 0:t.pathname)!==n.pathname,a=(t==null?void 0:t.href)!==n.href,s=(t==null?void 0:t.hash)!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:r,hrefChanged:a,hashChanged:s}}class X6{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{var p;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options,a=this.basepath??(r==null?void 0:r.basepath)??"/",s=this.basepath===void 0,i=r==null?void 0:r.rewrite;this.options={...r,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(d=>[encodeURIComponent(d),d])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=o6())),this.origin=this.options.origin,this.origin||(!this.isServer&&(window!=null&&window.origin)&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new s6(eE(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(d=>!["redirected"].includes(d.status))}}}),L6(this));let o=!1;const l=this.options.basepath??"/",u=this.options.rewrite;if(s||a!==l||i!==u){this.basepath=l;const d=[];o1(l)!==""&&d.push(J6({basepath:l})),u&&d.push(u),this.rewrite=d.length===0?void 0:d.length===1?d[0]:G6(d),this.history&&this.updateLatestLocation(),o=!0}o&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof((p=window.CSS)==null?void 0:p.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:r,processedTree:a}=C6(this.routeTree,this.options.caseSensitive,(i,o)=>{i.init({originalIndex:o})});this.options.routeMasks&&_6(this.options.routeMasks,a),this.routesById=n,this.routesByPath=r,this.processedTree=a;const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999}),this.routesById[s.id]=s)},this.subscribe=(n,r)=>{const a={eventType:n,fn:r};return this.subscribers.add(a),()=>{this.subscribers.delete(a)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const a=({href:l,state:u})=>{const f=new URL(l,this.origin),h=qp(this.rewrite,f),p=this.options.parseSearch(h.search),d=this.options.stringifySearch(p);return h.search=d,{href:h.href.replace(h.origin,""),publicHref:l,url:h,pathname:yh(h.pathname),searchStr:d,search:Qn(r==null?void 0:r.search,p),hash:yh(h.hash.split("#").reverse()[0]??""),state:Qn(r==null?void 0:r.state,u)}},s=a(n),{__tempLocation:i,__tempKey:o}=s.state;if(i&&(!o||o===this.tempLocationKey)){const l=a(i);return l.state.key=s.state.key,l.state.__TSR_key=s.state.__TSR_key,delete l.state.__tempLocation,{...l,maskedLocation:s}}return s},this.resolvePathCache=jd(1e3),this.resolvePathWithBase=(n,r)=>k6({base:n,to:ug(r),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,r,a)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:r},a):this.matchRoutesInternal(n,r),this.getMatchedRoutes=n=>tE({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r._nonReactive.pendingTimeout),r._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(s=>s.status==="pending"),r=this.state.matches.filter(s=>s.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...r]).forEach(s=>{this.cancelMatch(s.id)})},this.buildLocation=n=>{const r=(s={})=>{var W,Y;const i=s._fromLocation||this.pendingBuiltLocation||this.latestLocation,o=this.matchRoutes(i,{_buildLocation:!0}),l=xd(o);s.from;const u=s.unsafeRelative==="path"?i.pathname:s.from??l.fullPath,f=this.resolvePathWithBase(u,"."),h=l.search,p={...l.params},d=s.to?this.resolvePathWithBase(f,`${s.to}`):this.resolvePathWithBase(f,"."),m=s.params===!1||s.params===null?{}:(s.params??!0)===!0?p:Object.assign(p,La(s.params,p)),g=Sh({path:d,params:m}).interpolatedPath,x=this.matchRoutes(g,void 0,{_buildLocation:!0}),v=x.map(U=>this.looseRoutesById[U.routeId]),y=x.find(U=>U.globalNotFound);if(Object.keys(m).length>0)for(const U of v){const Q=((W=U.options.params)==null?void 0:W.stringify)??U.options.stringifyParams;Q&&Object.assign(m,Q(m))}const b=n.leaveParams?d:yh(Sh({path:d,params:m,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let S=h;if(n._includeValidateSearch&&((Y=this.options.search)!=null&&Y.strict)){const U={};v.forEach(Q=>{if(Q.options.validateSearch)try{Object.assign(U,$p(Q.options.validateSearch,{...U,...S}))}catch{}}),S=U}S=aE({search:S,dest:s,destRoutes:v,_includeValidateSearch:n._includeValidateSearch}),S=Qn(h,S);const j=this.options.stringifySearch(S),M=s.hash===!0?i.hash:s.hash?La(s.hash,i.hash):void 0,E=M?`#${M}`:"";let q=s.state===!0?i.state:s.state?La(s.state,i.state):{};q=Qn(i.state,q);const L=rE({routes:v,params:m,searchStr:j,globalNotFoundRouteId:y==null?void 0:y.routeId}),N=`${b}${j}${E}`,k=new URL(N,this.origin),P=g1(this.rewrite,k),F=k.href.replace(k.origin,"");return{publicHref:P.pathname+P.search+P.hash,href:F,url:P,pathname:b,search:S,searchStr:j,state:q,hash:M??"",unmaskOnReload:s.unmaskOnReload,_matchSnapshot:L}},a=(s={},i)=>{const o=r(s);let l=i?r(i):void 0;if(!l){const u={};if(this.options.routeMasks){const f=x6(o.pathname,this.processedTree);if(f){Object.assign(u,f.rawParams);const{from:h,params:p,...d}=f.route,m=p===!1||p===null?{}:(p??!0)===!0?u:Object.assign(u,La(p,u));i={from:n.from,...d,params:m},l=r(i)}}}return l&&(o.maskedLocation=l),o};return n.mask?a(n,{from:n.from,...n.mask}):a(n)},this.commitLocation=async({viewTransition:n,ignoreBlocker:r,...a})=>{var m;const s=()=>{const g=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];g.forEach(v=>{a.state[v]=this.latestLocation.state[v]});const x=$s(a.state,this.latestLocation.state);return g.forEach(v=>{delete a.state[v]}),x},i=Wr(this.latestLocation.href)===Wr(a.href),o=this.commitLocationPromise;if(this.commitLocationPromise=so(()=>{o==null||o.resolve()}),i&&s())return this.load(),this.commitLocationPromise;let{maskedLocation:l,hashScrollIntoView:u,url:f,...h}=a;l&&(h={...l,state:{...l.state,__tempKey:void 0,__tempLocation:{...h,search:h.searchStr,state:{...h.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(h.unmaskOnReload??this.options.unmaskOnReload??!1)&&(h.state.__tempKey=this.tempLocationKey)),h.state.__hashScrollIntoViewOptions=u??this.options.defaultHashScrollIntoView??!0,h.state.__TSR_resetScroll=a.resetScroll??!0,this.shouldViewTransition=n,h.state.__TSR_sessionId=this.sessionId,h.state.__TSR_matches=a._matchSnapshot??nE({matchResult:this.getMatchedRoutes(a.pathname),pathname:a.pathname,searchStr:a.searchStr,notFoundRoute:this.options.notFoundRoute,notFoundMode:this.options.notFoundMode});const p={...a,publicHref:h.publicHref,state:h.state,maskedLocation:l};return(await this.history[a.replace?"replace":"push"](h.publicHref,h.state,{ignoreBlocker:r,skipTransitionerLoad:!0})).type==="BLOCKED"?((m=this.commitLocationPromise)==null||m.resolve(),this.commitLocationPromise):this.history.location.href!==h.publicHref?this.commitLocationPromise:(this.latestLocation=p,this.load({_skipUpdateLatestLocation:!0}),this.commitLocationPromise)},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:a,viewTransition:s,ignoreBlocker:i,href:o,...l}={})=>{if(o){const h=this.history.location.state.__TSR_index,p=_d(o,{__TSR_index:n?h:h+1}),d=new URL(p.pathname,this.origin),m=qp(this.rewrite,d);l.to=m.pathname,l.search=this.options.parseSearch(p.search),l.hash=p.hash.slice(1)}const u=this.buildLocation({...l,_includeValidateSearch:!0});this.pendingBuiltLocation=u;const f=this.commitLocation({...u,viewTransition:s,replace:n,resetScroll:r,hashScrollIntoView:a,ignoreBlocker:i});return Promise.resolve().then(()=>{this.pendingBuiltLocation===u&&(this.pendingBuiltLocation=void 0)}),f},this.navigate=async({to:n,reloadDocument:r,href:a,publicHref:s,...i})=>{var l;let o=!1;if(a)try{new URL(`${a}`),o=!0}catch{}if(o&&!r&&(r=!0),r){if(n!==void 0||!a){const f=this.buildLocation({to:n,...i});a=a??f.url.href,s=s??f.url.href}const u=!o&&s?s:a;if(wd(u))return Promise.resolve();if(!i.ignoreBlocker){const f=this.history,h=((l=f.getBlockers)==null?void 0:l.call(f))??[];for(const p of h)if(p!=null&&p.blockerFn&&await p.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return i.replace?window.location.replace(u):window.location.href=u,Promise.resolve()}return this.buildAndCommitLocation({...i,href:a,to:n,_isNavigate:!0})},this.beforeLoad=n=>{if(this.cancelMatches(),n!=null&&n._skipUpdateLatestLocation||this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==s.publicHref||s.url.origin!==this.origin){const i=this.getParsedLocationHref(s);throw dg({href:i})}}const r=this.latestLocation.state.__TSR_sessionId===this.sessionId?this.latestLocation.state.__TSR_matches:void 0,a=this.matchRoutes(this.latestLocation,{snapshot:r});this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:a,cachedMatches:s.cachedMatches.filter(i=>!a.some(o=>o.id===i.id))}))},this.load=async n=>{let r,a,s;for(s=new Promise(o=>{this.startTransition(async()=>{var l;try{this.beforeLoad({_skipUpdateLatestLocation:n==null?void 0:n._skipUpdateLatestLocation});const u=this.latestLocation,f=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Hs({resolvedLocation:f,location:u})}),this.emit({type:"onBeforeLoad",...Hs({resolvedLocation:f,location:u})}),await $v({router:this,sync:n==null?void 0:n.sync,matches:this.state.pendingMatches,location:u,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let h=[],p=[],d=[];ll(()=>{this.__store.setState(m=>{const g=m.matches,x=m.pendingMatches||m.matches;return h=g.filter(v=>!x.some(y=>y.id===v.id)),p=x.filter(v=>!g.some(y=>y.id===v.id)),d=x.filter(v=>g.some(y=>y.id===v.id)),{...m,isLoading:!1,loadedAt:Date.now(),matches:x,pendingMatches:void 0,cachedMatches:[...m.cachedMatches,...h.filter(v=>v.status!=="error"&&v.status!=="notFound")]}}),this.clearExpiredCache()}),[[h,"onLeave"],[p,"onEnter"],[d,"onStay"]].forEach(([m,g])=>{m.forEach(x=>{var v,y;(y=(v=this.looseRoutesById[x.routeId].options)[g])==null||y.call(v,x)})})})})}})}catch(u){ar(u)?(r=u,this.isServer||this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):Pn(u)&&(a=u),this.__store.setState(f=>({...f,statusCode:r?r.status:a?404:f.matches.some(h=>h.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise;let i;this.hasNotFoundMatch()?i=404:this.__store.state.matches.some(o=>o.status==="error")&&(i=500),i!==void 0&&this.__store.setState(o=>({...o,statusCode:i}))},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let a;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const s=this.latestLocation,i=this.state.resolvedLocation,o=typeof r.types=="function"?r.types(Hs({resolvedLocation:i,location:s})):r.types;if(o===!1){n();return}a={update:n,types:o}}else a=n;document.startViewTransition(a)}else n()},this.updateMatch=(n,r)=>{this.startTransition(()=>{var s;const a=(s=this.state.pendingMatches)!=null&&s.some(i=>i.id===n)?"pendingMatches":this.state.matches.some(i=>i.id===n)?"matches":this.state.cachedMatches.some(i=>i.id===n)?"cachedMatches":"";a&&this.__store.setState(i=>{var o;return{...i,[a]:(o=i[a])==null?void 0:o.map(l=>l.id===n?r(l):l)}})})},this.getMatch=n=>{var a;const r=s=>s.id===n;return this.state.cachedMatches.find(r)??((a=this.state.pendingMatches)==null?void 0:a.find(r))??this.state.matches.find(r)},this.invalidate=n=>{const r=a=>{var s;return((s=n==null?void 0:n.filter)==null?void 0:s.call(n,a))??!0?{...a,invalid:!0,...n!=null&&n.forcePending||a.status==="error"||a.status==="notFound"?{status:"pending",error:void 0}:void 0}:a};return this.__store.setState(a=>{var s;return{...a,matches:a.matches.map(r),cachedMatches:a.cachedMatches.map(r),pendingMatches:(s=a.pendingMatches)==null?void 0:s.map(r)}}),this.shouldViewTransition=!1,this.load({sync:n==null?void 0:n.sync})},this.getParsedLocationHref=n=>{let r=n.url.href;return this.origin&&n.url.origin===this.origin&&(r=r.replace(this.origin,"")||"/"),r},this.resolveRedirect=n=>{const r=n.headers.get("Location");if(n.options.href){if(r)try{const a=new URL(r);if(this.origin&&a.origin===this.origin){const s=a.pathname+a.search+a.hash;n.options.href=s,n.headers.set("Location",s)}}catch{}}else{const a=this.buildLocation(n.options),s=this.getParsedLocationHref(a);n.options.href=s,n.headers.set("Location",s)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const r=n==null?void 0:n.filter;r!==void 0?this.__store.setState(a=>({...a,cachedMatches:a.cachedMatches.filter(s=>!r(s))})):this.__store.setState(a=>({...a,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const a=this.looseRoutesById[r.routeId];if(!a.options.loader)return!0;const s=(r.preload?a.options.preloadGcTime??this.options.defaultPreloadGcTime:a.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return r.status==="error"?!0:Date.now()-r.updatedAt>=s};this.clearCache({filter:n})},this.loadRouteChunk=h1,this.preloadRoute=async n=>{const r=this.buildLocation(n);let a=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(o=>o.id)),i=new Set([...s,...this.state.cachedMatches.map(o=>o.id)]);ll(()=>{a.forEach(o=>{i.has(o.id)||this.__store.setState(l=>({...l,cachedMatches:[...l.cachedMatches,o]}))})});try{return a=await $v({router:this,matches:a,location:r,preload:!0,updateMatch:(o,l)=>{s.has(o)?a=a.map(u=>u.id===o?l(u):u):this.updateMatch(o,l)}}),a}catch(o){if(ar(o))return o.options.reloadDocument?void 0:await this.preloadRoute({...o.options,_fromLocation:r});Pn(o)||console.error(o);return}},this.matchRoute=(n,r)=>{const a={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},s=this.buildLocation(a);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const o=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,l=S6(s.pathname,(r==null?void 0:r.caseSensitive)??!1,(r==null?void 0:r.fuzzy)??!1,o.pathname,this.processedTree);return!l||n.params&&!$s(l.rawParams,n.params,{partial:!0})?!1:(r==null?void 0:r.includeSearch)??!0?$s(o.search,s.search,{partial:!0})?l.rawParams:!1:l.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.sessionId=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).slice(2)}`,this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??H6,parseSearch:t.parseSearch??$6}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(t,n){var d,m;const r=n==null?void 0:n.snapshot,a=r&&r.routeIds.length>0&&r.routeIds.every(g=>this.routesById[g]);let s,i,o,l;if(a)s=r.routeIds.map(g=>this.routesById[g]),i={...r.params},o=r.globalNotFoundRouteId,l=r.parsedParams;else{const g=this.getMatchedRoutes(t.pathname),{foundRoute:x,routeParams:v}=g;i=v,s=g.matchedRoutes,l=g.parsedParams;let y=!1;(x?x.path!=="/"&&i["**"]:Wr(t.pathname))&&(this.options.notFoundRoute?s=[...s,this.options.notFoundRoute]:y=!0),o=(()=>{if(y){if(this.options.notFoundMode!=="root")for(let b=s.length-1;b>=0;b--){const S=s[b];if(S.children)return S.id}return wn}})()}const u=[],f=g=>(g==null?void 0:g.id)?g.context??this.options.context??void 0:this.options.context??void 0,h=a&&r.searchStr===t.searchStr&&((d=r.validatedSearches)==null?void 0:d.length)===s.length,p=[];if(s.forEach((g,x)=>{var Q,ae,ve;const v=u[x-1],[y,b,S]=(()=>{if(h){const Oe=r.validatedSearches[x];return[Oe.search,Oe.strictSearch,void 0]}const pe=(v==null?void 0:v.search)??t.search,me=(v==null?void 0:v._strictSearch)??void 0;try{const Oe=$p(g.options.validateSearch,{...pe})??void 0;return[{...pe,...Oe},{...me,...Oe},void 0]}catch(Oe){let Ke=Oe;if(Oe instanceof Nd||(Ke=new Nd(Oe.message,{cause:Oe})),n!=null&&n.throwOnError)throw Ke;return[pe,{},Ke]}})();h||p.push({search:y,strictSearch:b});const j=((ae=(Q=g.options).loaderDeps)==null?void 0:ae.call(Q,{search:y}))??"",M=j?JSON.stringify(j):"",{interpolatedPath:E,usedParams:q}=Sh({path:g.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),L=g.id+E+M,N=this.getMatch(L),k=this.state.matches.find(pe=>pe.routeId===g.id),P=(N==null?void 0:N._strictParams)??q;let F;if(!N)if(g.options.skipRouteOnParseError)for(const pe in q)pe in l&&(P[pe]=l[pe]);else{const pe=((ve=g.options.params)==null?void 0:ve.parse)??g.options.parseParams;if(pe)try{Object.assign(P,pe(P))}catch(me){if(Pn(me)||ar(me)?F=me:F=new W6(me.message,{cause:me}),n!=null&&n.throwOnError)throw F}}Object.assign(i,P);const W=k?"stay":"enter";let Y;if(N)Y={...N,cause:W,params:k?Qn(k.params,i):i,_strictParams:P,search:Qn(k?k.search:N.search,y),_strictSearch:b};else{const pe=g.options.loader||g.options.beforeLoad||g.lazyFn||p1(g)?"pending":"success";Y={id:L,ssr:this.isServer?void 0:g.options.ssr,index:x,routeId:g.id,params:k?Qn(k.params,i):i,_strictParams:P,pathname:E,updatedAt:Date.now(),search:k?Qn(k.search,y):y,_strictSearch:b,searchError:void 0,status:pe,isFetching:!1,error:void 0,paramsError:F,__routeContext:void 0,_nonReactive:{loadPromise:so()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:W,loaderDeps:k?Qn(k.loaderDeps,j):j,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:g.options.staticData||{},fullPath:g.fullPath}}n!=null&&n.preload||(Y.globalNotFound=o===g.id),Y.searchError=S;const U=f(v);Y.context={...U,...Y.__routeContext,...Y.__beforeLoadContext},u.push(Y)}),!h&&p.length>0){const g=(m=t.state)==null?void 0:m.__TSR_matches;g&&(g.searchStr=t.searchStr,g.validatedSearches=p)}return u.forEach((g,x)=>{const v=this.looseRoutesById[g.routeId];if(!this.getMatch(g.id)&&(n==null?void 0:n._buildLocation)!==!0){const b=u[x-1],S=f(b);if(v.options.context){const j={deps:g.loaderDeps,params:g.params,context:S??{},location:t,navigate:M=>this.navigate({...M,_fromLocation:t}),buildLocation:this.buildLocation,cause:g.cause,abortController:g.abortController,preload:!!g.preload,matches:u};g.__routeContext=v.options.context(j)??void 0}g.context={...S,...g.__routeContext,...g.__beforeLoadContext}}}),u}}class Nd extends Error{}class W6 extends Error{}function eE(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function $p(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new Nd("Async validation not supported");if(n.issues)throw new Nd(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function tE({pathname:e,routesById:t,processedTree:n}){const r={},a=Wr(e);let s,i={};const o=w6(a,n,!0);return o&&(s=o.route,Object.assign(r,o.rawParams),i=Object.assign({},o.parsedParams)),{matchedRoutes:(o==null?void 0:o.branch)||[t[wn]],routeParams:r,foundRoute:s,parsedParams:i}}function nE({matchResult:e,pathname:t,searchStr:n,notFoundRoute:r,notFoundMode:a}){const s={routeIds:e.matchedRoutes.map(o=>o.id),params:e.routeParams,parsedParams:e.parsedParams,searchStr:n};if(e.foundRoute?e.foundRoute.path!=="/"&&e.routeParams["**"]:Wr(t))if(r)s.globalNotFoundRouteId=r.id;else{if(a!=="root")for(let o=e.matchedRoutes.length-1;o>=0;o--){const l=e.matchedRoutes[o];if(l.children){s.globalNotFoundRouteId=l.id;break}}s.globalNotFoundRouteId||(s.globalNotFoundRouteId=wn)}return s}function rE({routes:e,params:t,searchStr:n,globalNotFoundRouteId:r}){const a={};for(const i in t){const o=t[i];o!=null&&(a[i]=String(o))}const s={routeIds:e.map(i=>i.id),params:a,parsedParams:t,searchStr:n};return r&&(s.globalNotFoundRouteId=r),s}function aE({search:e,dest:t,destRoutes:n,_includeValidateSearch:r}){const a=n.reduce((o,l)=>{var f;const u=[];if("search"in l.options)(f=l.options.search)!=null&&f.middlewares&&u.push(...l.options.search.middlewares);else if(l.options.preSearchFilters||l.options.postSearchFilters){const h=({search:p,next:d})=>{let m=p;"preSearchFilters"in l.options&&l.options.preSearchFilters&&(m=l.options.preSearchFilters.reduce((x,v)=>v(x),p));const g=d(m);return"postSearchFilters"in l.options&&l.options.postSearchFilters?l.options.postSearchFilters.reduce((x,v)=>v(x),g):g};u.push(h)}if(r&&l.options.validateSearch){const h=({search:p,next:d})=>{const m=d(p);try{return{...m,...$p(l.options.validateSearch,m)??void 0}}catch{return m}};u.push(h)}return o.concat(u)},[])??[],s=({search:o})=>t.search?t.search===!0?o:La(t.search,o):{};a.push(s);const i=(o,l)=>{if(o>=a.length)return l;const u=a[o];return u({search:l,next:h=>i(o+1,h)})};return i(0,e)}const sE="Error preloading route! ";class y1{constructor(t){if(this.init=n=>{var u,f;this.originalIndex=n.originalIndex;const r=this.options,a=!(r!=null&&r.path)&&!(r!=null&&r.id);this.parentRoute=(f=(u=this.options).getParentRoute)==null?void 0:f.call(u),a?this._path=wn:this.parentRoute||sa(!1);let s=a?wn:r==null?void 0:r.path;s&&s!=="/"&&(s=i1(s));const i=(r==null?void 0:r.id)||s;let o=a?wn:Xu([this.parentRoute.id===wn?"":this.parentRoute.id,i]);s===wn&&(s="/"),o!==wn&&(o=Xu(["/",o]));const l=o===wn?"/":Xu([this.parentRoute.fullPath,s]);this._path=s,this._id=o,this._fullPath=l,this._to=Wr(l)},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.redirect=n=>dg({from:this.fullPath,...n}),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),t!=null&&t.id&&(t!=null&&t.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class iE extends y1{constructor(t){super(t)}}const Ac=typeof window<"u"?T.useLayoutEffect:T.useEffect;function jh(e){const t=T.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function oE(e,t,n={},r={}){T.useEffect(()=>{if(!e.current||r.disabled||typeof IntersectionObserver!="function")return;const a=new IntersectionObserver(([s])=>{t(s)},n);return a.observe(e.current),()=>{a.disconnect()}},[t,n,r.disabled,e])}function lE(e){const t=T.useRef(null);return T.useImperativeHandle(e,()=>t.current,[]),t}function fg(e){const t=e.errorComponent??vf;return c.jsx(cE,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:r})=>n?T.createElement(t,{error:n,reset:r}):e.children})}class cE extends T.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function vf({error:e}){const[t,n]=T.useState(!1);return c.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[c.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),c.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:t?"Hide Error":"Show Error"})]}),c.jsx("div",{style:{height:".25rem"}}),t?c.jsx("div",{children:c.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?c.jsx("code",{children:e.message}):null})}):null]})}function uE({children:e,fallback:t=null}){return dE()?c.jsx(pt.Fragment,{children:e}):c.jsx(pt.Fragment,{children:t})}function dE(){return pt.useSyncExternalStore(fE,()=>!0,()=>!1)}function fE(){return()=>{}}var v1={exports:{}},b1={},_1={exports:{}},x1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=T;function hE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pE=typeof Object.is=="function"?Object.is:hE,mE=oo.useState,gE=oo.useEffect,yE=oo.useLayoutEffect,vE=oo.useDebugValue;function bE(e,t){var n=t(),r=mE({inst:{value:n,getSnapshot:t}}),a=r[0].inst,s=r[1];return yE(function(){a.value=n,a.getSnapshot=t,Ch(a)&&s({inst:a})},[e,n,t]),gE(function(){return Ch(a)&&s({inst:a}),e(function(){Ch(a)&&s({inst:a})})},[e]),vE(n),n}function Ch(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pE(e,n)}catch{return!0}}function _E(e,t){return t()}var xE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_E:bE;x1.useSyncExternalStore=oo.useSyncExternalStore!==void 0?oo.useSyncExternalStore:xE;_1.exports=x1;var SE=_1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=T,wE=SE;function jE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CE=typeof Object.is=="function"?Object.is:jE,EE=wE.useSyncExternalStore,TE=bf.useRef,NE=bf.useEffect,RE=bf.useMemo,kE=bf.useDebugValue;b1.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var s=TE(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=RE(function(){function l(d){if(!u){if(u=!0,f=d,d=r(d),a!==void 0&&i.hasValue){var m=i.value;if(a(m,d))return h=m}return h=d}if(m=h,CE(f,d))return m;var g=r(d);return a!==void 0&&a(m,g)?(f=d,m):(f=d,h=g)}var u=!1,f,h,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var o=EE(e,s[0],s[1]);return NE(function(){i.hasValue=!0,i.value=o},[o]),kE(o),o};v1.exports=b1;var OE=v1.exports;function AE(e,t=r=>r,n={}){const r=n.equal??DE;return OE.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,r)}function DE(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!t.has(r)||!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=Hv(e);if(n.length!==Hv(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Hv(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const Eh=T.createContext(null);function S1(){return typeof document>"u"?Eh:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Eh,Eh)}function Vn(e){const t=T.useContext(S1());return e==null||e.warn,t}function hn(e){const t=Vn({warn:(e==null?void 0:e.router)===void 0}),n=(e==null?void 0:e.router)||t,r=T.useRef(void 0);return AE(n.__store,a=>{if(e!=null&&e.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const s=Qn(r.current,e.select(a));return r.current=s,s}return e.select(a)}return a})}const _f=T.createContext(void 0),ME=T.createContext(void 0);function Dr(e){const t=T.useContext(e.from?ME:_f);return hn({select:r=>{const a=r.matches.find(s=>e.from?e.from===s.routeId:s.id===t);if(sa(!((e.shouldThrow??!0)&&!a),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),a!==void 0)return e.select?e.select(a):a},structuralSharing:e.structuralSharing})}function hg(e){return Dr({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function pg(e){const{select:t,...n}=e;return Dr({...n,select:r=>t?t(r.loaderDeps):r.loaderDeps})}function mg(e){return Dr({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const n=e.strict===!1?t.params:t._strictParams;return e.select?e.select(n):n}})}function xf(e){return Dr({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function cr(e){const t=Vn();return T.useCallback(n=>t.navigate({...n,from:n.from??(e==null?void 0:e.from)}),[e==null?void 0:e.from,t])}var w1={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE=T;function j1(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ga(){}var dn={d:{f:ga,r:function(){throw Error(j1(522))},D:ga,C:ga,L:ga,m:ga,X:ga,S:ga,M:ga},p:0,findDOMNode:null},LE=Symbol.for("react.portal");function PE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:LE,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var cl=zE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Sf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dn;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(j1(299));return PE(e,t,null,n)};pn.flushSync=function(e){var t=cl.T,n=dn.p;try{if(cl.T=null,dn.p=2,e)return e()}finally{cl.T=t,dn.p=n,dn.d.f()}};pn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,dn.d.C(e,t))};pn.prefetchDNS=function(e){typeof e=="string"&&dn.d.D(e)};pn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=Sf(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?dn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):n==="script"&&dn.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};pn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Sf(t.as,t.crossOrigin);dn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&dn.d.M(e)};pn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=Sf(n,t.crossOrigin);dn.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};pn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Sf(t.as,t.crossOrigin);dn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else dn.d.m(e)};pn.requestFormReset=function(e){dn.d.r(e)};pn.unstable_batchedUpdates=function(e,t){return e(t)};pn.useFormState=function(e,t,n){return cl.H.useFormState(e,t,n)};pn.useFormStatus=function(){return cl.H.useHostTransitionStatus()};pn.version="19.2.3";function C1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C1)}catch(e){console.error(e)}}C1(),w1.exports=pn;var wf=w1.exports;function UE(e,t){const n=Vn(),[r,a]=T.useState(!1),s=T.useRef(!1),i=lE(t),{activeProps:o,inactiveProps:l,activeOptions:u,to:f,preload:h,preloadDelay:p,hashScrollIntoView:d,replace:m,startTransition:g,resetScroll:x,viewTransition:v,children:y,target:b,disabled:S,style:j,className:M,onClick:E,onFocus:q,onMouseEnter:L,onMouseLeave:N,onTouchStart:k,ignoreBlocker:P,params:F,search:W,hash:Y,state:U,mask:Q,reloadDocument:ae,unsafeRelative:ve,from:pe,_fromLocation:me,...Oe}=e,Ke=hn({select:I=>I.location.search,structuralSharing:!0}),oe=e.from,de=T.useMemo(()=>({...e,from:oe}),[n,Ke,oe,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),Be=T.useMemo(()=>n.buildLocation({...de}),[n,de]),Ie=T.useMemo(()=>{if(S)return;let I=Be.maskedLocation?Be.maskedLocation.url.href:Be.url.href,te=!1;return n.origin&&(I.startsWith(n.origin)?I=n.history.createHref(I.replace(n.origin,""))||"/":te=!0),{href:I,external:te}},[S,Be.maskedLocation,Be.url,n.origin,n.history]),lt=T.useMemo(()=>{if(Ie!=null&&Ie.external)return wd(Ie.href)?void 0:Ie.href;try{return new URL(f),wd(f)?void 0:f}catch{}},[f,Ie]),tt=e.reloadDocument||lt?!1:h??n.options.defaultPreload,Ye=p??n.options.defaultPreloadDelay??0,nt=hn({select:I=>{if(lt)return!1;if(u!=null&&u.exact){if(!R6(I.location.pathname,Be.pathname,n.basepath))return!1}else{const te=Cd(I.location.pathname,n.basepath),ee=Cd(Be.pathname,n.basepath);if(!(te.startsWith(ee)&&(te.length===ee.length||te[ee.length]==="/")))return!1}return((u==null?void 0:u.includeSearch)??!0)&&!$s(I.location.search,Be.search,{partial:!(u!=null&&u.exact),ignoreUndefined:!(u!=null&&u.explicitUndefined)})?!1:u!=null&&u.includeHash?I.location.hash===Be.hash:!0}}),Ee=T.useCallback(()=>{n.preloadRoute({...de}).catch(I=>{console.warn(I),console.warn(sE)})},[n,de]),Kt=T.useCallback(I=>{I!=null&&I.isIntersecting&&Ee()},[Ee]);oE(i,Kt,IE,{disabled:!!S||tt!=="viewport"}),T.useEffect(()=>{s.current||!S&&tt==="render"&&(Ee(),s.current=!0)},[S,Ee,tt]);const zt=I=>{const te=I.currentTarget.getAttribute("target"),ee=b!==void 0?b:te;if(!S&&!FE(I)&&!I.defaultPrevented&&(!ee||ee==="_self")&&I.button===0){I.preventDefault(),wf.flushSync(()=>{a(!0)});const O=n.subscribe("onResolved",()=>{O(),a(!1)});n.navigate({...de,replace:m,resetScroll:x,hashScrollIntoView:d,startTransition:g,viewTransition:v,ignoreBlocker:P})}};if(lt)return{...Oe,ref:i,href:lt,...y&&{children:y},...b&&{target:b},...S&&{disabled:S},...j&&{style:j},...M&&{className:M},...E&&{onClick:E},...q&&{onFocus:q},...L&&{onMouseEnter:L},...N&&{onMouseLeave:N},...k&&{onTouchStart:k}};const K=I=>{S||tt&&Ee()},$=K,Z=I=>{if(!(S||!tt))if(!Ye)Ee();else{const te=I.target;if(Uo.has(te))return;const ee=setTimeout(()=>{Uo.delete(te),Ee()},Ye);Uo.set(te,ee)}},ne=I=>{if(S||!tt||!Ye)return;const te=I.target,ee=Uo.get(te);ee&&(clearTimeout(ee),Uo.delete(te))},fe=nt?La(o,{})??qE:Th,ce=nt?Th:La(l,{})??Th,D=[M,fe.className,ce.className].filter(Boolean).join(" "),H=(j||fe.style||ce.style)&&{...j,...fe.style,...ce.style};return{...Oe,...fe,...ce,href:Ie==null?void 0:Ie.href,ref:i,onClick:qo([E,zt]),onFocus:qo([q,K]),onMouseEnter:qo([L,Z]),onMouseLeave:qo([N,ne]),onTouchStart:qo([k,$]),disabled:!!S,target:b,...H&&{style:H},...D&&{className:D},...S&&$E,...nt&&HE,...r&&BE}}const Th={},qE={className:"active"},$E={role:"link","aria-disabled":!0},HE={"data-status":"active","aria-current":"page"},BE={"data-transitioning":"transitioning"},Uo=new WeakMap,IE={rootMargin:"100px"},qo=e=>t=>{for(const n of e)if(n){if(t.defaultPrevented)return;n(t)}},yr=T.forwardRef((e,t)=>{const{_asChild:n,...r}=e,{type:a,ref:s,...i}=UE(r,t),o=typeof r.children=="function"?r.children({isActive:i["data-status"]==="active"}):r.children;return n===void 0&&delete i.disabled,T.createElement(n||"a",{...i,ref:s},o)});function FE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let VE=class extends y1{constructor(t){super(t),this.useMatch=n=>Dr({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Dr({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>xf({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>mg({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>pg({...n,from:this.id}),this.useLoaderData=n=>hg({...n,from:this.id}),this.useNavigate=()=>cr({from:this.fullPath}),this.Link=pt.forwardRef((n,r)=>c.jsx(yr,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function ZE(e){return new VE(e)}class KE extends iE{constructor(t){super(t),this.useMatch=n=>Dr({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Dr({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>xf({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>mg({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>pg({...n,from:this.id}),this.useLoaderData=n=>hg({...n,from:this.id}),this.useNavigate=()=>cr({from:this.fullPath}),this.Link=pt.forwardRef((n,r)=>c.jsx(yr,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function QE(e){return new KE(e)}function or(e){return typeof e=="object"?new Bv(e,{silent:!0}).createRoute(e):new Bv(e,{silent:!0}).createRoute}class Bv{constructor(t,n){this.path=t,this.createRoute=r=>{this.silent;const a=ZE(r);return a.isRoot=!1,a},this.silent=n==null?void 0:n.silent}}class Iv{constructor(t){this.useMatch=n=>Dr({select:n==null?void 0:n.select,from:this.options.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Dr({from:this.options.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>xf({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useParams=n=>mg({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>pg({...n,from:this.options.id}),this.useLoaderData=n=>hg({...n,from:this.options.id}),this.useNavigate=()=>{const n=Vn();return cr({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function Fv(e){return typeof e=="object"?new Iv(e):t=>new Iv({id:e,...t})}function YE(){const e=Vn(),t=T.useRef({router:e,mounted:!1}),[n,r]=T.useState(!1),{hasPendingMatches:a,isLoading:s}=hn({select:h=>({isLoading:h.isLoading,hasPendingMatches:h.matches.some(p=>p.status==="pending")}),structuralSharing:!0}),i=jh(s),o=s||n||a,l=jh(o),u=s||a,f=jh(u);return e.startTransition=h=>{r(!0),T.startTransition(()=>{h(),r(!1)})},T.useEffect(()=>{const h=e.history.subscribe(({navigateOpts:d})=>{d!=null&&d.skipTransitionerLoad||e.load()}),p=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Wr(e.latestLocation.publicHref)!==Wr(p.publicHref)&&e.commitLocation({...p,replace:!0}),()=>{h()}},[e,e.history]),Ac(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(p){console.error(p)}})()},[e]),Ac(()=>{i&&!s&&e.emit({type:"onLoad",...Hs(e.state)})},[i,e,s]),Ac(()=>{f&&!u&&e.emit({type:"onBeforeRouteMount",...Hs(e.state)})},[u,f,e]),Ac(()=>{if(l&&!o){const h=Hs(e.state);e.emit({type:"onResolved",...h}),e.__store.setState(p=>({...p,status:"idle",resolvedLocation:p.location})),h.hrefChanged&&P6(e)}},[o,l,e]),null}function GE(e){const t=hn({select:n=>`not-found-${n.location.pathname}-${n.status}`});return c.jsx(fg,{getResetKey:()=>t,onCatch:(n,r)=>{var a;if(Pn(n))(a=e.onCatch)==null||a.call(e,n,r);else throw n},errorComponent:({error:n})=>{var r;if(Pn(n))return(r=e.fallback)==null?void 0:r.call(e,n);throw n},children:e.children})}function JE(){return c.jsx("p",{children:"Not Found"})}function _i(e){return c.jsx(c.Fragment,{children:e.children})}function E1(e,t,n){return t.options.notFoundComponent?c.jsx(t.options.notFoundComponent,{...n}):e.options.defaultNotFoundComponent?c.jsx(e.options.defaultNotFoundComponent,{...n}):c.jsx(JE,{})}function XE({children:e}){var n;const t=Vn();return t.isServer?c.jsx("script",{nonce:(n=t.options.ssr)==null?void 0:n.nonce,dangerouslySetInnerHTML:{__html:e+";document.currentScript.remove()"}}):null}function WE(){const e=Vn();if(!e.isScrollRestoring||!e.isServer||typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation}))return null;const n=(e.options.getScrollRestorationKey||Up)(e.latestLocation),r=n!==Up(e.latestLocation)?n:void 0,a={storageKey:Ed,shouldScrollRestoration:!0};return r&&(a.key=r),c.jsx(XE,{children:`(${l1.toString()})(${p6(JSON.stringify(a))})`})}const T1=T.memo(function({matchId:t}){var v,y;const n=Vn(),r=hn({select:b=>{const S=b.matches.find(j=>j.id===t);return sa(S),{routeId:S.routeId,ssr:S.ssr,_displayPending:S._displayPending}},structuralSharing:!0}),a=n.routesById[r.routeId],s=a.options.pendingComponent??n.options.defaultPendingComponent,i=s?c.jsx(s,{}):null,o=a.options.errorComponent??n.options.defaultErrorComponent,l=a.options.onCatch??n.options.defaultOnCatch,u=a.isRoot?a.options.notFoundComponent??((v=n.options.notFoundRoute)==null?void 0:v.options.component):a.options.notFoundComponent,f=r.ssr===!1||r.ssr==="data-only",h=(!a.isRoot||a.options.wrapInSuspense||f)&&(a.options.wrapInSuspense??s??(((y=a.options.errorComponent)==null?void 0:y.preload)||f))?T.Suspense:_i,p=o?fg:_i,d=u?GE:_i,m=hn({select:b=>b.loadedAt}),g=hn({select:b=>{var j;const S=b.matches.findIndex(M=>M.id===t);return(j=b.matches[S-1])==null?void 0:j.routeId}}),x=a.isRoot?a.options.shellComponent??_i:_i;return c.jsxs(x,{children:[c.jsx(_f.Provider,{value:t,children:c.jsx(h,{fallback:i,children:c.jsx(p,{getResetKey:()=>m,errorComponent:o||vf,onCatch:(b,S)=>{if(Pn(b))throw b;l==null||l(b,S)},children:c.jsx(d,{fallback:b=>{if(!u||b.routeId&&b.routeId!==r.routeId||!b.routeId&&!a.isRoot)throw b;return T.createElement(u,b)},children:f||r._displayPending?c.jsx(uE,{fallback:i,children:c.jsx(Vv,{matchId:t})}):c.jsx(Vv,{matchId:t})})})})}),g===wn&&n.options.scrollRestoration?c.jsxs(c.Fragment,{children:[c.jsx(eT,{}),c.jsx(WE,{})]}):null]})});function eT(){const e=Vn(),t=T.useRef(void 0);return c.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...Hs(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const Vv=T.memo(function({matchId:t}){var l,u,f,h;const n=Vn(),{match:r,key:a,routeId:s}=hn({select:p=>{const d=p.matches.find(y=>y.id===t),m=d.routeId,g=n.routesById[m].options.remountDeps??n.options.defaultRemountDeps,x=g==null?void 0:g({routeId:m,loaderDeps:d.loaderDeps,params:d._strictParams,search:d._strictSearch});return{key:x?JSON.stringify(x):void 0,routeId:m,match:{id:d.id,status:d.status,error:d.error,invalid:d.invalid,_forcePending:d._forcePending,_displayPending:d._displayPending}}},structuralSharing:!0}),i=n.routesById[s],o=T.useMemo(()=>{const p=i.options.component??n.options.defaultComponent;return p?c.jsx(p,{},a):c.jsx(jf,{})},[a,i.options.component,n.options.defaultComponent]);if(r._displayPending)throw(l=n.getMatch(r.id))==null?void 0:l._nonReactive.displayPendingPromise;if(r._forcePending)throw(u=n.getMatch(r.id))==null?void 0:u._nonReactive.minPendingPromise;if(r.status==="pending"){const p=i.options.pendingMinMs??n.options.defaultPendingMinMs;if(p){const d=n.getMatch(r.id);if(d&&!d._nonReactive.minPendingPromise&&!n.isServer){const m=so();d._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),d._nonReactive.minPendingPromise=void 0},p)}}throw(f=n.getMatch(r.id))==null?void 0:f._nonReactive.loadPromise}if(r.status==="notFound")return sa(Pn(r.error)),E1(n,i,r.error);if(r.status==="redirected")throw sa(ar(r.error)),(h=n.getMatch(r.id))==null?void 0:h._nonReactive.loadPromise;if(r.status==="error"){if(n.isServer){const p=(i.options.errorComponent??n.options.defaultErrorComponent)||vf;return c.jsx(p,{error:r.error,reset:void 0,info:{componentStack:""}})}throw r.error}return o}),jf=T.memo(function(){const t=Vn(),n=T.useContext(_f),r=hn({select:u=>{var f;return(f=u.matches.find(h=>h.id===n))==null?void 0:f.routeId}}),a=t.routesById[r],s=hn({select:u=>{const h=u.matches.find(p=>p.id===n);return sa(h),h.globalNotFound}}),i=hn({select:u=>{var p;const f=u.matches,h=f.findIndex(d=>d.id===n);return(p=f[h+1])==null?void 0:p.id}}),o=t.options.defaultPendingComponent?c.jsx(t.options.defaultPendingComponent,{}):null;if(s)return E1(t,a,void 0);if(!i)return null;const l=c.jsx(T1,{matchId:i});return r===wn?c.jsx(T.Suspense,{fallback:o,children:l}):l});function tT(){const e=Vn(),n=e.routesById[wn].options.pendingComponent??e.options.defaultPendingComponent,r=n?c.jsx(n,{}):null,a=e.isServer||typeof document<"u"&&e.ssr?_i:T.Suspense,s=c.jsxs(a,{fallback:r,children:[!e.isServer&&c.jsx(YE,{}),c.jsx(nT,{})]});return e.options.InnerWrap?c.jsx(e.options.InnerWrap,{children:s}):s}function nT(){const e=Vn(),t=hn({select:a=>{var s;return(s=a.matches[0])==null?void 0:s.id}}),n=hn({select:a=>a.loadedAt}),r=t?c.jsx(T1,{matchId:t}):null;return c.jsx(_f.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?r:c.jsx(fg,{getResetKey:()=>n,errorComponent:vf,onCatch:a=>{a.message||a.toString()},children:r})})}const rT=e=>new aT(e);class aT extends X6{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=or,globalThis.createLazyFileRoute=Fv):typeof window<"u"&&(window.createFileRoute=or,window.createLazyFileRoute=Fv);function sT({router:e,children:t,...n}){Object.keys(n).length>0&&e.update({...e.options,...n,context:{...e.options.context,...n.context}});const r=S1(),a=c.jsx(r.Provider,{value:e,children:t});return e.options.Wrap?c.jsx(e.options.Wrap,{children:a}):a}function iT({router:e,...t}){return c.jsx(sT,{router:e,...t,children:c.jsx(tT,{})})}function gg(e){return hn({select:t=>t.location})}var N1={exports:{}},Cf={},R1={exports:{}},k1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,Q){var ae=U.length;U.push(Q);e:for(;0<ae;){var ve=ae-1>>>1,pe=U[ve];if(0<a(pe,Q))U[ve]=Q,U[ae]=pe,ae=ve;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Q=U[0],ae=U.pop();if(ae!==Q){U[0]=ae;e:for(var ve=0,pe=U.length,me=pe>>>1;ve<me;){var Oe=2*(ve+1)-1,Ke=U[Oe],oe=Oe+1,de=U[oe];if(0>a(Ke,ae))oe<pe&&0>a(de,Ke)?(U[ve]=de,U[oe]=ae,ve=oe):(U[ve]=Ke,U[Oe]=ae,ve=Oe);else if(oe<pe&&0>a(de,ae))U[ve]=de,U[oe]=ae,ve=oe;else break e}}return Q}function a(U,Q){var ae=U.sortIndex-Q.sortIndex;return ae!==0?ae:U.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],u=[],f=1,h=null,p=3,d=!1,m=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function S(U){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=U)r(u),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=n(u)}}function j(U){if(g=!1,S(U),!m)if(n(l)!==null)m=!0,M||(M=!0,P());else{var Q=n(u);Q!==null&&Y(j,Q.startTime-U)}}var M=!1,E=-1,q=5,L=-1;function N(){return x?!0:!(e.unstable_now()-L<q)}function k(){if(x=!1,M){var U=e.unstable_now();L=U;var Q=!0;try{e:{m=!1,g&&(g=!1,y(E),E=-1),d=!0;var ae=p;try{t:{for(S(U),h=n(l);h!==null&&!(h.expirationTime>U&&N());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,p=h.priorityLevel;var pe=ve(h.expirationTime<=U);if(U=e.unstable_now(),typeof pe=="function"){h.callback=pe,S(U),Q=!0;break t}h===n(l)&&r(l),S(U)}else r(l);h=n(l)}if(h!==null)Q=!0;else{var me=n(u);me!==null&&Y(j,me.startTime-U),Q=!1}}break e}finally{h=null,p=ae,d=!1}Q=void 0}}finally{Q?P():M=!1}}}var P;if(typeof b=="function")P=function(){b(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,W=F.port2;F.port1.onmessage=k,P=function(){W.postMessage(null)}}else P=function(){v(k,0)};function Y(U,Q){E=v(function(){U(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var ae=p;p=Q;try{return U()}finally{p=ae}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=p;p=U;try{return Q()}finally{p=ae}},e.unstable_scheduleCallback=function(U,Q,ae){var ve=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ve+ae:ve):ae=ve,U){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ae+pe,U={id:f++,callback:Q,priorityLevel:U,startTime:ae,expirationTime:pe,sortIndex:-1},ae>ve?(U.sortIndex=ae,t(u,U),n(l)===null&&U===n(u)&&(g?(y(E),E=-1):g=!0,Y(j,ae-ve))):(U.sortIndex=pe,t(l,U),m||d||(m=!0,M||(M=!0,P()))),U},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(U){var Q=p;return function(){var ae=p;p=Q;try{return U.apply(this,arguments)}finally{p=ae}}}})(k1);R1.exports=k1;var oT=R1.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht=oT,O1=T,lT=wf;function G(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function D1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M1(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zv(e){if(Jl(e)!==e)throw Error(G(188))}function cT(e){var t=e.alternate;if(!t){if(t=Jl(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Zv(a),e;if(s===r)return Zv(a),t;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,r=s;break}if(o===r){i=!0,r=a,n=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===n){i=!0,n=s,r=a;break}if(o===r){i=!0,r=s,n=a;break}o=o.sibling}if(!i)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function z1(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=z1(e),t!==null)return t;e=e.sibling}return null}var ft=Object.assign,uT=Symbol.for("react.element"),Dc=Symbol.for("react.transitional.element"),el=Symbol.for("react.portal"),Ci=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),P1=Symbol.for("react.consumer"),Gr=Symbol.for("react.context"),yg=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),Ip=Symbol.for("react.suspense_list"),vg=Symbol.for("react.memo"),ba=Symbol.for("react.lazy"),Fp=Symbol.for("react.activity"),dT=Symbol.for("react.memo_cache_sentinel"),Kv=Symbol.iterator;function $o(e){return e===null||typeof e!="object"?null:(e=Kv&&e[Kv]||e["@@iterator"],typeof e=="function"?e:null)}var fT=Symbol.for("react.client.reference");function Vp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fT?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ci:return"Fragment";case Hp:return"Profiler";case L1:return"StrictMode";case Bp:return"Suspense";case Ip:return"SuspenseList";case Fp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case el:return"Portal";case Gr:return e.displayName||"Context";case P1:return(e._context.displayName||"Context")+".Consumer";case yg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vg:return t=e.displayName||null,t!==null?t:Vp(e.type)||"Memo";case ba:t=e._payload,e=e._init;try{return Vp(e(t))}catch{}}return null}var tl=Array.isArray,je=O1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ze=lT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Bs={pending:!1,data:null,method:null,action:null},Zp=[],Ei=-1;function zr(e){return{current:e}}function Zt(e){0>Ei||(e.current=Zp[Ei],Zp[Ei]=null,Ei--)}function ot(e,t){Ei++,Zp[Ei]=e.current,e.current=t}var Ar=zr(null),Nl=zr(null),Za=zr(null),Rd=zr(null);function kd(e,t){switch(ot(Za,t),ot(Nl,e),ot(Ar,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wb(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wb(t),e=r2(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Zt(Ar),ot(Ar,e)}function lo(){Zt(Ar),Zt(Nl),Zt(Za)}function Kp(e){e.memoizedState!==null&&ot(Rd,e);var t=Ar.current,n=r2(t,e.type);t!==n&&(ot(Nl,e),ot(Ar,n))}function Od(e){Nl.current===e&&(Zt(Ar),Zt(Nl)),Rd.current===e&&(Zt(Rd),ql._currentValue=Bs)}var Nh,Qv;function js(e){if(Nh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nh=t&&t[1]||"",Qv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nh+e+Qv}var Rh=!1;function kh(e,t){if(!e||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(d){var p=d}Reflect.construct(e,[],h)}else{try{h.call()}catch(d){p=d}e.call(h.prototype)}}else{try{throw Error()}catch(d){p=d}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(d){if(d&&p&&typeof d.stack=="string")return[d.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split(`
`),u=o.split(`
`);for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===u.length)for(r=l.length-1,a=u.length-1;1<=r&&0<=a&&l[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||l[r]!==u[a]){var f=`
`+l[r].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=r&&0<=a);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?js(n):""}function hT(e,t){switch(e.tag){case 26:case 27:case 5:return js(e.type);case 16:return js("Lazy");case 13:return e.child!==t&&t!==null?js("Suspense Fallback"):js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return kh(e.type,!1);case 11:return kh(e.type.render,!1);case 1:return kh(e.type,!0);case 31:return js("Activity");default:return""}}function Yv(e){try{var t="",n=null;do t+=hT(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Qp=Object.prototype.hasOwnProperty,bg=Ht.unstable_scheduleCallback,Oh=Ht.unstable_cancelCallback,pT=Ht.unstable_shouldYield,mT=Ht.unstable_requestPaint,Un=Ht.unstable_now,gT=Ht.unstable_getCurrentPriorityLevel,U1=Ht.unstable_ImmediatePriority,q1=Ht.unstable_UserBlockingPriority,Ad=Ht.unstable_NormalPriority,yT=Ht.unstable_LowPriority,$1=Ht.unstable_IdlePriority,vT=Ht.log,bT=Ht.unstable_setDisableYieldValue,Xl=null,qn=null;function Ua(e){if(typeof vT=="function"&&bT(e),qn&&typeof qn.setStrictMode=="function")try{qn.setStrictMode(Xl,e)}catch{}}var $n=Math.clz32?Math.clz32:ST,_T=Math.log,xT=Math.LN2;function ST(e){return e>>>=0,e===0?32:31-(_T(e)/xT|0)|0}var Mc=256,zc=262144,Lc=4194304;function Cs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ef(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?a=Cs(r):(i&=o,i!==0?a=Cs(i):n||(n=o&~e,n!==0&&(a=Cs(n))))):(o=r&~s,o!==0?a=Cs(o):i!==0?a=Cs(i):n||(n=r&~e,n!==0&&(a=Cs(n)))),a===0?0:t!==0&&t!==a&&!(t&s)&&(s=a&-a,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:a}function Wl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function wT(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H1(){var e=Lc;return Lc<<=1,!(Lc&62914560)&&(Lc=4194304),e}function Ah(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ec(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jT(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=i&~n;0<n;){var f=31-$n(n),h=1<<f;o[f]=0,l[f]=-1;var p=u[f];if(p!==null)for(u[f]=null,f=0;f<p.length;f++){var d=p[f];d!==null&&(d.lane&=-536870913)}n&=~h}r!==0&&B1(e,r,0),s!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=s&~(i&~t))}function B1(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-$n(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function I1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$n(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function F1(e,t){var n=t&-t;return n=n&42?1:_g(n),n&(e.suspendedLanes|t)?0:n}function _g(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xg(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function V1(){var e=Ze.p;return e!==0?e:(e=window.event,e===void 0?32:p2(e.type))}function Gv(e,t){var n=Ze.p;try{return Ze.p=e,t()}finally{Ze.p=n}}var ls=Math.random().toString(36).slice(2),Yt="__reactFiber$"+ls,Cn="__reactProps$"+ls,jo="__reactContainer$"+ls,Yp="__reactEvents$"+ls,CT="__reactListeners$"+ls,ET="__reactHandles$"+ls,Jv="__reactResources$"+ls,tc="__reactMarker$"+ls;function Sg(e){delete e[Yt],delete e[Cn],delete e[Yp],delete e[CT],delete e[ET]}function Ti(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jo]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=a0(e);e!==null;){if(n=e[Yt])return n;e=a0(e)}return t}e=n,n=e.parentNode}return null}function Co(e){if(e=e[Yt]||e[jo]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function nl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(G(33))}function qi(e){var t=e[Jv];return t||(t=e[Jv]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Vt(e){e[tc]=!0}var Z1=new Set,K1={};function si(e,t){co(e,t),co(e+"Capture",t)}function co(e,t){for(K1[e]=t,e=0;e<t.length;e++)Z1.add(t[e])}var TT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xv={},Wv={};function NT(e){return Qp.call(Wv,e)?!0:Qp.call(Xv,e)?!1:TT.test(e)?Wv[e]=!0:(Xv[e]=!0,!1)}function ed(e,t,n){if(NT(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Pc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Pr(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Xn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Q1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RT(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gp(e){if(!e._valueTracker){var t=Q1(e)?"checked":"value";e._valueTracker=RT(e,t,""+e[t])}}function Y1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Dd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kT=/[\n"\\]/g;function tr(e){return e.replace(kT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Jp(e,t,n,r,a,s,i,o){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xn(t)):e.value!==""+Xn(t)&&(e.value=""+Xn(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?Xp(e,i,Xn(t)):n!=null?Xp(e,i,Xn(n)):r!=null&&e.removeAttribute("value"),a==null&&s!=null&&(e.defaultChecked=!!s),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Xn(o):e.removeAttribute("name")}function G1(e,t,n,r,a,s,i,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Gp(e);return}n=n!=null?""+Xn(n):"",t=t!=null?""+Xn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),Gp(e)}function Xp(e,t,n){t==="number"&&Dd(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function $i(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function J1(e,t,n){if(t!=null&&(t=""+Xn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Xn(n):""}function X1(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(G(92));if(tl(r)){if(1<r.length)throw Error(G(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Xn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Gp(e)}function uo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var OT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eb(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||OT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function W1(e,t,n){if(t!=null&&typeof t!="object")throw Error(G(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&eb(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&eb(e,s,t[s])}function wg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function td(e){return DT.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jr(){}var Wp=null;function jg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,Hi=null;function tb(e){var t=Co(e);if(t&&(e=t.stateNode)){var n=e[Cn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Jp(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+tr(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Cn]||null;if(!a)throw Error(G(90));Jp(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Y1(r)}break e;case"textarea":J1(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&$i(e,!!n.multiple,t,!1)}}}var Dh=!1;function eS(e,t,n){if(Dh)return e(t,n);Dh=!0;try{var r=e(t);return r}finally{if(Dh=!1,(Ni!==null||Hi!==null)&&(Uf(),Ni&&(t=Ni,e=Hi,Hi=Ni=null,tb(t),e)))for(t=0;t<e.length;t++)tb(e[t])}}function Rl(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Cn]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),em=!1;if(ia)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){em=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{em=!1}var qa=null,Cg=null,nd=null;function tS(){if(nd)return nd;var e,t=Cg,n=t.length,r,a="value"in qa?qa.value:qa.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===a[s-r];r++);return nd=a.slice(e,1<r?1-r:void 0)}function rd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function nb(){return!1}function En(e){function t(n,r,a,s,i){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Uc:nb,this.isPropagationStopped=nb,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tf=En(ii),nc=ft({},ii,{view:0,detail:0}),MT=En(nc),Mh,zh,Bo,Nf=ft({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bo&&(Bo&&e.type==="mousemove"?(Mh=e.screenX-Bo.screenX,zh=e.screenY-Bo.screenY):zh=Mh=0,Bo=e),Mh)},movementY:function(e){return"movementY"in e?e.movementY:zh}}),rb=En(Nf),zT=ft({},Nf,{dataTransfer:0}),LT=En(zT),PT=ft({},nc,{relatedTarget:0}),Lh=En(PT),UT=ft({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),qT=En(UT),$T=ft({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HT=En($T),BT=ft({},ii,{data:0}),ab=En(BT),IT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VT[e])?!!t[e]:!1}function Eg(){return ZT}var KT=ft({},nc,{key:function(e){if(e.key){var t=IT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eg,charCode:function(e){return e.type==="keypress"?rd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QT=En(KT),YT=ft({},Nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sb=En(YT),GT=ft({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eg}),JT=En(GT),XT=ft({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),WT=En(XT),eN=ft({},Nf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tN=En(eN),nN=ft({},ii,{newState:0,oldState:0}),rN=En(nN),aN=[9,13,27,32],Tg=ia&&"CompositionEvent"in window,ul=null;ia&&"documentMode"in document&&(ul=document.documentMode);var sN=ia&&"TextEvent"in window&&!ul,nS=ia&&(!Tg||ul&&8<ul&&11>=ul),ib=" ",ob=!1;function rS(e,t){switch(e){case"keyup":return aN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function iN(e,t){switch(e){case"compositionend":return aS(t);case"keypress":return t.which!==32?null:(ob=!0,ib);case"textInput":return e=t.data,e===ib&&ob?null:e;default:return null}}function oN(e,t){if(Ri)return e==="compositionend"||!Tg&&rS(e,t)?(e=tS(),nd=Cg=qa=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nS&&t.locale!=="ko"?null:t.data;default:return null}}var lN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lN[e.type]:t==="textarea"}function sS(e,t,n,r){Ni?Hi?Hi.push(r):Hi=[r]:Ni=r,t=Jd(t,"onChange"),0<t.length&&(n=new Tf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dl=null,kl=null;function cN(e){e2(e,0)}function Rf(e){var t=nl(e);if(Y1(t))return e}function cb(e,t){if(e==="change")return t}var iS=!1;if(ia){var Ph;if(ia){var Uh="oninput"in document;if(!Uh){var ub=document.createElement("div");ub.setAttribute("oninput","return;"),Uh=typeof ub.oninput=="function"}Ph=Uh}else Ph=!1;iS=Ph&&(!document.documentMode||9<document.documentMode)}function db(){dl&&(dl.detachEvent("onpropertychange",oS),kl=dl=null)}function oS(e){if(e.propertyName==="value"&&Rf(kl)){var t=[];sS(t,kl,e,jg(e)),eS(cN,t)}}function uN(e,t,n){e==="focusin"?(db(),dl=t,kl=n,dl.attachEvent("onpropertychange",oS)):e==="focusout"&&db()}function dN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rf(kl)}function fN(e,t){if(e==="click")return Rf(t)}function hN(e,t){if(e==="input"||e==="change")return Rf(t)}function pN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var In=typeof Object.is=="function"?Object.is:pN;function Ol(e,t){if(In(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Qp.call(t,a)||!In(e[a],t[a]))return!1}return!0}function fb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hb(e,t){var n=fb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fb(n)}}function lS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Dd(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Dd(e.document)}return t}function Ng(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var mN=ia&&"documentMode"in document&&11>=document.documentMode,ki=null,tm=null,fl=null,nm=!1;function pb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nm||ki==null||ki!==Dd(r)||(r=ki,"selectionStart"in r&&Ng(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Ol(fl,r)||(fl=r,r=Jd(tm,"onSelect"),0<r.length&&(t=new Tf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ki)))}function xs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oi={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},qh={},uS={};ia&&(uS=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function oi(e){if(qh[e])return qh[e];if(!Oi[e])return e;var t=Oi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uS)return qh[e]=t[n];return e}var dS=oi("animationend"),fS=oi("animationiteration"),hS=oi("animationstart"),gN=oi("transitionrun"),yN=oi("transitionstart"),vN=oi("transitioncancel"),pS=oi("transitionend"),mS=new Map,rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rm.push("scrollEnd");function xr(e,t){mS.set(e,t),si(t,[e])}var Md=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gn=[],Ai=0,Rg=0;function kf(){for(var e=Ai,t=Rg=Ai=0;t<e;){var n=Gn[t];Gn[t++]=null;var r=Gn[t];Gn[t++]=null;var a=Gn[t];Gn[t++]=null;var s=Gn[t];if(Gn[t++]=null,r!==null&&a!==null){var i=r.pending;i===null?a.next=a:(a.next=i.next,i.next=a),r.pending=a}s!==0&&gS(n,a,s)}}function Of(e,t,n,r){Gn[Ai++]=e,Gn[Ai++]=t,Gn[Ai++]=n,Gn[Ai++]=r,Rg|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function kg(e,t,n,r){return Of(e,t,n,r),zd(e)}function li(e,t){return Of(e,null,null,t),zd(e)}function gS(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var a=!1,s=e.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(a=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,a&&t!==null&&(a=31-$n(n),e=s.hiddenUpdates,r=e[a],r===null?e[a]=[t]:r.push(t),t.lane=n|536870912),s):null}function zd(e){if(50<xl)throw xl=0,jm=null,Error(G(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Di={};function bN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,r){return new bN(e,t,n,r)}function Og(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ea(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function yS(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ad(e,t,n,r,a,s){var i=0;if(r=e,typeof e=="function")Og(e)&&(i=1);else if(typeof e=="string")i=jR(e,n,Ar.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Fp:return e=Mn(31,n,t,a),e.elementType=Fp,e.lanes=s,e;case Ci:return Is(n.children,a,s,t);case L1:i=8,a|=24;break;case Hp:return e=Mn(12,n,t,a|2),e.elementType=Hp,e.lanes=s,e;case Bp:return e=Mn(13,n,t,a),e.elementType=Bp,e.lanes=s,e;case Ip:return e=Mn(19,n,t,a),e.elementType=Ip,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gr:i=10;break e;case P1:i=9;break e;case yg:i=11;break e;case vg:i=14;break e;case ba:i=16,r=null;break e}i=29,n=Error(G(130,e===null?"null":typeof e,"")),r=null}return t=Mn(i,n,t,a),t.elementType=e,t.type=r,t.lanes=s,t}function Is(e,t,n,r){return e=Mn(7,e,r,t),e.lanes=n,e}function $h(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function vS(e){var t=Mn(18,null,null,0);return t.stateNode=e,t}function Hh(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var mb=new WeakMap;function nr(e,t){if(typeof e=="object"&&e!==null){var n=mb.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Yv(t)},mb.set(e,t),t)}return{value:e,source:t,stack:Yv(t)}}var Mi=[],zi=0,Ld=null,Al=0,Wn=[],er=0,rs=null,Rr=1,kr="";function Fr(e,t){Mi[zi++]=Al,Mi[zi++]=Ld,Ld=e,Al=t}function bS(e,t,n){Wn[er++]=Rr,Wn[er++]=kr,Wn[er++]=rs,rs=e;var r=Rr;e=kr;var a=32-$n(r)-1;r&=~(1<<a),n+=1;var s=32-$n(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Rr=1<<32-$n(t)+a|n<<a|r,kr=s+e}else Rr=1<<s|n<<a|r,kr=e}function Ag(e){e.return!==null&&(Fr(e,1),bS(e,1,0))}function Dg(e){for(;e===Ld;)Ld=Mi[--zi],Mi[zi]=null,Al=Mi[--zi],Mi[zi]=null;for(;e===rs;)rs=Wn[--er],Wn[er]=null,kr=Wn[--er],Wn[er]=null,Rr=Wn[--er],Wn[er]=null}function _S(e,t){Wn[er++]=Rr,Wn[er++]=kr,Wn[er++]=rs,Rr=t.id,kr=t.overflow,rs=e}var Gt=null,ut=null,Pe=!1,Ka=null,rr=!1,am=Error(G(519));function as(e){var t=Error(G(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(nr(t,e)),am}function gb(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Yt]=e,t[Cn]=r,n){case"dialog":Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":case"embed":Ae("load",t);break;case"video":case"audio":for(n=0;n<Pl.length;n++)Ae(Pl[n],t);break;case"source":Ae("error",t);break;case"img":case"image":case"link":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"input":Ae("invalid",t),G1(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ae("invalid",t);break;case"textarea":Ae("invalid",t),X1(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||n2(t.textContent,n)?(r.popover!=null&&(Ae("beforetoggle",t),Ae("toggle",t)),r.onScroll!=null&&Ae("scroll",t),r.onScrollEnd!=null&&Ae("scrollend",t),r.onClick!=null&&(t.onclick=Jr),t=!0):t=!1,t||as(e,!0)}function yb(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:Gt=Gt.return}}function mi(e){if(e!==Gt)return!1;if(!Pe)return yb(e),Pe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Rm(e.type,e.memoizedProps)),n=!n),n&&ut&&as(e),yb(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));ut=r0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));ut=r0(e)}else t===27?(t=ut,cs(e.type)?(e=Dm,Dm=null,ut=e):ut=t):ut=Gt?ir(e.stateNode.nextSibling):null;return!0}function Js(){ut=Gt=null,Pe=!1}function Bh(){var e=Ka;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),Ka=null),e}function Dl(e){Ka===null?Ka=[e]:Ka.push(e)}var sm=zr(null),ci=null,Xr=null;function Sa(e,t,n){ot(sm,t._currentValue),t._currentValue=n}function ta(e){e._currentValue=sm.current,Zt(sm)}function im(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function om(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){var i=a.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=a;for(var l=0;l<t.length;l++)if(o.context===t[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),im(s.return,n,e),r||(i=null);break e}s=o.next}}else if(a.tag===18){if(i=a.return,i===null)throw Error(G(341));i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),im(i,n,e),i=null}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===e){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}}function Eo(e,t,n,r){e=null;for(var a=t,s=!1;a!==null;){if(!s){if(a.flags&524288)s=!0;else if(a.flags&262144)break}if(a.tag===10){var i=a.alternate;if(i===null)throw Error(G(387));if(i=i.memoizedProps,i!==null){var o=a.type;In(a.pendingProps.value,i.value)||(e!==null?e.push(o):e=[o])}}else if(a===Rd.current){if(i=a.alternate,i===null)throw Error(G(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(ql):e=[ql])}a=a.return}e!==null&&om(t,e,n,r),t.flags|=262144}function Pd(e){for(e=e.firstContext;e!==null;){if(!In(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xs(e){ci=e,Xr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Jt(e){return xS(ci,e)}function qc(e,t){return ci===null&&Xs(e),xS(e,t)}function xS(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Xr===null){if(e===null)throw Error(G(308));Xr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xr=Xr.next=t;return n}var _N=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},xN=Ht.unstable_scheduleCallback,SN=Ht.unstable_NormalPriority,At={$$typeof:Gr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mg(){return{controller:new _N,data:new Map,refCount:0}}function rc(e){e.refCount--,e.refCount===0&&xN(SN,function(){e.controller.abort()})}var hl=null,lm=0,fo=0,Bi=null;function wN(e,t){if(hl===null){var n=hl=[];lm=0,fo=sy(),Bi={status:"pending",value:void 0,then:function(r){n.push(r)}}}return lm++,t.then(vb,vb),t}function vb(){if(--lm===0&&hl!==null){Bi!==null&&(Bi.status="fulfilled");var e=hl;hl=null,fo=0,Bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jN(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var bb=je.S;je.S=function(e,t){zw=Un(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&wN(e,t),bb!==null&&bb(e,t)};var Fs=zr(null);function zg(){var e=Fs.current;return e!==null?e:at.pooledCache}function sd(e,t){t===null?ot(Fs,Fs.current):ot(Fs,t.pool)}function SS(){var e=zg();return e===null?null:{parent:At._currentValue,pool:e}}var To=Error(G(460)),Lg=Error(G(474)),Af=Error(G(542)),Ud={then:function(){}};function _b(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wS(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Jr,Jr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sb(e),e;default:if(typeof t.status=="string")t.then(Jr,Jr);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(G(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=r}},function(r){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sb(e),e}throw Vs=t,To}}function Es(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Vs=n,To):n}}var Vs=null;function xb(){if(Vs===null)throw Error(G(459));var e=Vs;return Vs=null,e}function Sb(e){if(e===To||e===Af)throw Error(G(483))}var Ii=null,Ml=0;function $c(e){var t=Ml;return Ml+=1,Ii===null&&(Ii=[]),wS(Ii,e,t)}function Io(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hc(e,t){throw t.$$typeof===uT?Error(G(525)):(e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jS(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v){for(var y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(v,y){return v=ea(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=67108866,y):b):(v.flags|=67108866,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function o(v,y,b,S){return y===null||y.tag!==6?(y=$h(b,v.mode,S),y.return=v,y):(y=a(y,b),y.return=v,y)}function l(v,y,b,S){var j=b.type;return j===Ci?f(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ba&&Es(j)===y.type)?(y=a(y,b.props),Io(y,b),y.return=v,y):(y=ad(b.type,b.key,b.props,null,v.mode,S),Io(y,b),y.return=v,y)}function u(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Hh(b,v.mode,S),y.return=v,y):(y=a(y,b.children||[]),y.return=v,y)}function f(v,y,b,S,j){return y===null||y.tag!==7?(y=Is(b,v.mode,S,j),y.return=v,y):(y=a(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=$h(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dc:return b=ad(y.type,y.key,y.props,null,v.mode,b),Io(b,y),b.return=v,b;case el:return y=Hh(y,v.mode,b),y.return=v,y;case ba:return y=Es(y),h(v,y,b)}if(tl(y)||$o(y))return y=Is(y,v.mode,b,null),y.return=v,y;if(typeof y.then=="function")return h(v,$c(y),b);if(y.$$typeof===Gr)return h(v,qc(v,y),b);Hc(v,y)}return null}function p(v,y,b,S){var j=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return j!==null?null:o(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Dc:return b.key===j?l(v,y,b,S):null;case el:return b.key===j?u(v,y,b,S):null;case ba:return b=Es(b),p(v,y,b,S)}if(tl(b)||$o(b))return j!==null?null:f(v,y,b,S,null);if(typeof b.then=="function")return p(v,y,$c(b),S);if(b.$$typeof===Gr)return p(v,y,qc(v,b),S);Hc(v,b)}return null}function d(v,y,b,S,j){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return v=v.get(b)||null,o(y,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Dc:return v=v.get(S.key===null?b:S.key)||null,l(y,v,S,j);case el:return v=v.get(S.key===null?b:S.key)||null,u(y,v,S,j);case ba:return S=Es(S),d(v,y,b,S,j)}if(tl(S)||$o(S))return v=v.get(b)||null,f(y,v,S,j,null);if(typeof S.then=="function")return d(v,y,b,$c(S),j);if(S.$$typeof===Gr)return d(v,y,b,qc(y,S),j);Hc(y,S)}return null}function m(v,y,b,S){for(var j=null,M=null,E=y,q=y=0,L=null;E!==null&&q<b.length;q++){E.index>q?(L=E,E=null):L=E.sibling;var N=p(v,E,b[q],S);if(N===null){E===null&&(E=L);break}e&&E&&N.alternate===null&&t(v,E),y=s(N,y,q),M===null?j=N:M.sibling=N,M=N,E=L}if(q===b.length)return n(v,E),Pe&&Fr(v,q),j;if(E===null){for(;q<b.length;q++)E=h(v,b[q],S),E!==null&&(y=s(E,y,q),M===null?j=E:M.sibling=E,M=E);return Pe&&Fr(v,q),j}for(E=r(E);q<b.length;q++)L=d(E,v,q,b[q],S),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?q:L.key),y=s(L,y,q),M===null?j=L:M.sibling=L,M=L);return e&&E.forEach(function(k){return t(v,k)}),Pe&&Fr(v,q),j}function g(v,y,b,S){if(b==null)throw Error(G(151));for(var j=null,M=null,E=y,q=y=0,L=null,N=b.next();E!==null&&!N.done;q++,N=b.next()){E.index>q?(L=E,E=null):L=E.sibling;var k=p(v,E,N.value,S);if(k===null){E===null&&(E=L);break}e&&E&&k.alternate===null&&t(v,E),y=s(k,y,q),M===null?j=k:M.sibling=k,M=k,E=L}if(N.done)return n(v,E),Pe&&Fr(v,q),j;if(E===null){for(;!N.done;q++,N=b.next())N=h(v,N.value,S),N!==null&&(y=s(N,y,q),M===null?j=N:M.sibling=N,M=N);return Pe&&Fr(v,q),j}for(E=r(E);!N.done;q++,N=b.next())N=d(E,v,q,N.value,S),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?q:N.key),y=s(N,y,q),M===null?j=N:M.sibling=N,M=N);return e&&E.forEach(function(P){return t(v,P)}),Pe&&Fr(v,q),j}function x(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===Ci&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Dc:e:{for(var j=b.key;y!==null;){if(y.key===j){if(j=b.type,j===Ci){if(y.tag===7){n(v,y.sibling),S=a(y,b.props.children),S.return=v,v=S;break e}}else if(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ba&&Es(j)===y.type){n(v,y.sibling),S=a(y,b.props),Io(S,b),S.return=v,v=S;break e}n(v,y);break}else t(v,y);y=y.sibling}b.type===Ci?(S=Is(b.props.children,v.mode,S,b.key),S.return=v,v=S):(S=ad(b.type,b.key,b.props,null,v.mode,S),Io(S,b),S.return=v,v=S)}return i(v);case el:e:{for(j=b.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),S=a(y,b.children||[]),S.return=v,v=S;break e}else{n(v,y);break}else t(v,y);y=y.sibling}S=Hh(b,v.mode,S),S.return=v,v=S}return i(v);case ba:return b=Es(b),x(v,y,b,S)}if(tl(b))return m(v,y,b,S);if($o(b)){if(j=$o(b),typeof j!="function")throw Error(G(150));return b=j.call(b),g(v,y,b,S)}if(typeof b.then=="function")return x(v,y,$c(b),S);if(b.$$typeof===Gr)return x(v,y,qc(v,b),S);Hc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),S=a(y,b),S.return=v,v=S):(n(v,y),S=$h(b,v.mode,S),S.return=v,v=S),i(v)):n(v,y)}return function(v,y,b,S){try{Ml=0;var j=x(v,y,b,S);return Ii=null,j}catch(E){if(E===To||E===Af)throw E;var M=Mn(29,E,null,v.mode);return M.lanes=S,M.return=v,M}finally{}}}var Ws=jS(!0),CS=jS(!1),_a=!1;function Pg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=zd(e),gS(e,null,n),t}return Of(e,r,t,n),zd(e)}function pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,I1(e,n)}}function Ih(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?a=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var um=!1;function ml(){if(um){var e=Bi;if(e!==null)throw e}}function gl(e,t,n,r){um=!1;var a=e.updateQueue;_a=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,i===null?s=u:i.next=u,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(s!==null){var h=a.baseState;i=0,f=u=l=null,o=s;do{var p=o.lane&-536870913,d=p!==o.lane;if(d?(Me&p)===p:(r&p)===p){p!==0&&p===fo&&(um=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;p=t;var x=n;switch(g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(x,h,p);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(x,h,p):m,p==null)break e;h=ft({},h,p);break e;case 2:_a=!0}}p=o.callback,p!==null&&(e.flags|=64,d&&(e.flags|=8192),d=a.callbacks,d===null?a.callbacks=[p]:d.push(p))}else d={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=d,l=h):f=f.next=d,i|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;d=o,o=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);f===null&&(l=h),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=f,s===null&&(a.shared.lanes=0),is|=i,e.lanes=i,e.memoizedState=h}}function ES(e,t){if(typeof e!="function")throw Error(G(191,e));e.call(t)}function TS(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ES(n[e],t)}var ho=zr(null),qd=zr(0);function wb(e,t){e=ua,ot(qd,e),ot(ho,t),ua=e|t.baseLanes}function dm(){ot(qd,ua),ot(ho,ho.current)}function Ug(){ua=qd.current,Zt(ho),Zt(qd)}var Fn=zr(null),sr=null;function wa(e){var t=e.alternate;ot(wt,wt.current&1),ot(Fn,e),sr===null&&(t===null||ho.current!==null||t.memoizedState!==null)&&(sr=e)}function fm(e){ot(wt,wt.current),ot(Fn,e),sr===null&&(sr=e)}function NS(e){e.tag===22?(ot(wt,wt.current),ot(Fn,e),sr===null&&(sr=e)):ja()}function ja(){ot(wt,wt.current),ot(Fn,Fn.current)}function Dn(e){Zt(Fn),sr===e&&(sr=null),Zt(wt)}var wt=zr(0);function $d(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Om(n)||Am(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oa=0,Re=null,et=null,kt=null,Hd=!1,Fi=!1,ei=!1,Bd=0,zl=0,Vi=null,CN=0;function _t(){throw Error(G(321))}function qg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!In(e[n],t[n]))return!1;return!0}function $g(e,t,n,r,a,s){return oa=s,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,je.H=e===null||e.memoizedState===null?sw:Jg,ei=!1,s=n(r,a),ei=!1,Fi&&(s=kS(t,n,r,a)),RS(e),s}function RS(e){je.H=Ll;var t=et!==null&&et.next!==null;if(oa=0,kt=et=Re=null,Hd=!1,zl=0,Vi=null,t)throw Error(G(300));e===null||Dt||(e=e.dependencies,e!==null&&Pd(e)&&(Dt=!0))}function kS(e,t,n,r){Re=e;var a=0;do{if(Fi&&(Vi=null),zl=0,Fi=!1,25<=a)throw Error(G(301));if(a+=1,kt=et=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}je.H=iw,s=t(n,r)}while(Fi);return s}function EN(){var e=je.H,t=e.useState()[0];return t=typeof t.then=="function"?ac(t):t,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Re.flags|=1024),t}function Hg(){var e=Bd!==0;return Bd=0,e}function Bg(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ig(e){if(Hd){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Hd=!1}oa=0,kt=et=Re=null,Fi=!1,zl=Bd=0,Vi=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Re.memoizedState=kt=e:kt=kt.next=e,kt}function jt(){if(et===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=kt===null?Re.memoizedState:kt.next;if(t!==null)kt=t,et=e;else{if(e===null)throw Re.alternate===null?Error(G(467)):Error(G(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},kt===null?Re.memoizedState=kt=e:kt=kt.next=e}return kt}function Df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(e){var t=zl;return zl+=1,Vi===null&&(Vi=[]),e=wS(Vi,e,t),t=Re,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,je.H=t===null||t.memoizedState===null?sw:Jg),e}function Mf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ac(e);if(e.$$typeof===Gr)return Jt(e)}throw Error(G(438,String(e)))}function Fg(e){var t=null,n=Re.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Re.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Df(),Re.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=dT;return t.index++,n}function la(e,t){return typeof t=="function"?t(e):t}function id(e){var t=jt();return Vg(t,et,e)}function Vg(e,t,n){var r=e.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,a===null)e.memoizedState=s;else{t=a.next;var o=i=null,l=null,u=t,f=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Me&h)===h:(oa&h)===h){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===fo&&(f=!0);else if((oa&p)===p){u=u.next,p===fo&&(f=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=h,i=s):l=l.next=h,Re.lanes|=p,is|=p;h=u.action,ei&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=p,i=s):l=l.next=p,Re.lanes|=h,is|=h;u=u.next}while(u!==null&&u!==t);if(l===null?i=s:l.next=o,!In(s,e.memoizedState)&&(Dt=!0,f&&(n=Bi,n!==null)))throw n;e.memoizedState=s,e.baseState=i,e.baseQueue=l,r.lastRenderedState=s}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Fh(e){var t=jt(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);In(s,t.memoizedState)||(Dt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function OS(e,t,n){var r=Re,a=jt(),s=Pe;if(s){if(n===void 0)throw Error(G(407));n=n()}else n=t();var i=!In((et||a).memoizedState,n);if(i&&(a.memoizedState=n,Dt=!0),a=a.queue,Zg(MS.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,po(9,{destroy:void 0},DS.bind(null,r,a,n,t),null),at===null)throw Error(G(349));s||oa&127||AS(r,t,n)}return n}function AS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t=Df(),Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DS(e,t,n,r){t.value=n,t.getSnapshot=r,zS(t)&&LS(e)}function MS(e,t,n){return n(function(){zS(t)&&LS(e)})}function zS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!In(e,n)}catch{return!0}}function LS(e){var t=li(e,2);t!==null&&jn(t,e,2)}function hm(e){var t=ln();if(typeof e=="function"){var n=e;if(e=n(),ei){Ua(!0);try{n()}finally{Ua(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function PS(e,t,n,r){return e.baseState=n,Vg(e,et,typeof r=="function"?r:la)}function TN(e,t,n,r,a){if(Lf(e))throw Error(G(485));if(e=t.action,e!==null){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){s.listeners.push(i)}};je.T!==null?n(!0):s.isTransition=!1,r(s),n=t.pending,n===null?(s.next=t.pending=s,US(t,s)):(s.next=n.next,t.pending=n.next=s)}}function US(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=je.T,i={};je.T=i;try{var o=n(a,r),l=je.S;l!==null&&l(i,o),jb(e,t,o)}catch(u){pm(e,t,u)}finally{s!==null&&i.types!==null&&(s.types=i.types),je.T=s}}else try{s=n(a,r),jb(e,t,s)}catch(u){pm(e,t,u)}}function jb(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Cb(e,t,r)},function(r){return pm(e,t,r)}):Cb(e,t,n)}function Cb(e,t,n){t.status="fulfilled",t.value=n,qS(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,US(e,n)))}function pm(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,qS(t),t=t.next;while(t!==r)}e.action=null}function qS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $S(e,t){return t}function Eb(e,t){if(Pe){var n=at.formState;if(n!==null){e:{var r=Re;if(Pe){if(ut){t:{for(var a=ut,s=rr;a.nodeType!==8;){if(!s){a=null;break t}if(a=ir(a.nextSibling),a===null){a=null;break t}}s=a.data,a=s==="F!"||s==="F"?a:null}if(a){ut=ir(a.nextSibling),r=a.data==="F!";break e}}as(r)}r=!1}r&&(t=n[0])}}return n=ln(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$S,lastRenderedState:t},n.queue=r,n=nw.bind(null,Re,r),r.dispatch=n,r=hm(!1),s=Gg.bind(null,Re,!1,r.queue),r=ln(),a={state:t,dispatch:null,action:e,pending:null},r.queue=a,n=TN.bind(null,Re,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Tb(e){var t=jt();return HS(t,et,e)}function HS(e,t,n){if(t=Vg(e,t,$S)[0],e=id(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ac(t)}catch(i){throw i===To?Af:i}else r=t;t=jt();var a=t.queue,s=a.dispatch;return n!==t.memoizedState&&(Re.flags|=2048,po(9,{destroy:void 0},NN.bind(null,a,n),null)),[r,s,e]}function NN(e,t){e.action=t}function Nb(e){var t=jt(),n=et;if(n!==null)return HS(t,n,e);jt(),t=t.memoizedState,n=jt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Re.updateQueue,t===null&&(t=Df(),Re.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function BS(){return jt().memoizedState}function od(e,t,n,r){var a=ln();Re.flags|=e,a.memoizedState=po(1|t,{destroy:void 0},n,r===void 0?null:r)}function zf(e,t,n,r){var a=jt();r=r===void 0?null:r;var s=a.memoizedState.inst;et!==null&&r!==null&&qg(r,et.memoizedState.deps)?a.memoizedState=po(t,s,n,r):(Re.flags|=e,a.memoizedState=po(1|t,s,n,r))}function Rb(e,t){od(8390656,8,e,t)}function Zg(e,t){zf(2048,8,e,t)}function RN(e){Re.flags|=4;var t=Re.updateQueue;if(t===null)t=Df(),Re.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function IS(e){var t=jt().memoizedState;return RN({ref:t,nextImpl:e}),function(){if(Ve&2)throw Error(G(440));return t.impl.apply(void 0,arguments)}}function FS(e,t){return zf(4,2,e,t)}function VS(e,t){return zf(4,4,e,t)}function ZS(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KS(e,t,n){n=n!=null?n.concat([e]):null,zf(4,4,ZS.bind(null,t,e),n)}function Kg(){}function QS(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&qg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function YS(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&qg(t,r[1]))return r[0];if(r=e(),ei){Ua(!0);try{e()}finally{Ua(!1)}}return n.memoizedState=[r,t],r}function Qg(e,t,n){return n===void 0||oa&1073741824&&!(Me&261930)?e.memoizedState=t:(e.memoizedState=n,e=Pw(),Re.lanes|=e,is|=e,n)}function GS(e,t,n,r){return In(n,t)?n:ho.current!==null?(e=Qg(e,n,r),In(e,t)||(Dt=!0),e):!(oa&42)||oa&1073741824&&!(Me&261930)?(Dt=!0,e.memoizedState=n):(e=Pw(),Re.lanes|=e,is|=e,t)}function JS(e,t,n,r,a){var s=Ze.p;Ze.p=s!==0&&8>s?s:8;var i=je.T,o={};je.T=o,Gg(e,!1,t,n);try{var l=a(),u=je.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=jN(l,r);yl(e,t,f,Hn(e))}else yl(e,t,r,Hn(e))}catch(h){yl(e,t,{then:function(){},status:"rejected",reason:h},Hn())}finally{Ze.p=s,i!==null&&o.types!==null&&(i.types=o.types),je.T=i}}function kN(){}function mm(e,t,n,r){if(e.tag!==5)throw Error(G(476));var a=XS(e).queue;JS(e,a,t,Bs,n===null?kN:function(){return WS(e),n(r)})}function XS(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Bs,baseState:Bs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:Bs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function WS(e){var t=XS(e);t.next===null&&(t=e.alternate.memoizedState),yl(e,t.next.queue,{},Hn())}function Yg(){return Jt(ql)}function ew(){return jt().memoizedState}function tw(){return jt().memoizedState}function ON(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Hn();e=Qa(n);var r=Ya(t,e,n);r!==null&&(jn(r,t,n),pl(r,t,n)),t={cache:Mg()},e.payload=t;return}t=t.return}}function AN(e,t,n){var r=Hn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Lf(e)?rw(t,n):(n=kg(e,t,n,r),n!==null&&(jn(n,e,r),aw(n,t,r)))}function nw(e,t,n){var r=Hn();yl(e,t,n,r)}function yl(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lf(e))rw(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,In(o,i))return Of(e,t,a,0),at===null&&kf(),!1}catch{}finally{}if(n=kg(e,t,a,r),n!==null)return jn(n,e,r),aw(n,t,r),!0}return!1}function Gg(e,t,n,r){if(r={lane:2,revertLane:sy(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Lf(e)){if(t)throw Error(G(479))}else t=kg(e,n,r,2),t!==null&&jn(t,e,2)}function Lf(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function rw(e,t){Fi=Hd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aw(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,I1(e,n)}}var Ll={readContext:Jt,use:Mf,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Ll.useEffectEvent=_t;var sw={readContext:Jt,use:Mf,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:Rb,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,od(4194308,4,ZS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return od(4194308,4,e,t)},useInsertionEffect:function(e,t){od(4,2,e,t)},useMemo:function(e,t){var n=ln();t=t===void 0?null:t;var r=e();if(ei){Ua(!0);try{e()}finally{Ua(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ln();if(n!==void 0){var a=n(t);if(ei){Ua(!0);try{n(t)}finally{Ua(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=AN.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:function(e){e=hm(e);var t=e.queue,n=nw.bind(null,Re,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Kg,useDeferredValue:function(e,t){var n=ln();return Qg(n,e,t)},useTransition:function(){var e=hm(!1);return e=JS.bind(null,Re,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Re,a=ln();if(Pe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),at===null)throw Error(G(349));Me&127||AS(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Rb(MS.bind(null,r,s,e),[e]),r.flags|=2048,po(9,{destroy:void 0},DS.bind(null,r,s,n,t),null),n},useId:function(){var e=ln(),t=at.identifierPrefix;if(Pe){var n=kr,r=Rr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Bd++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=CN++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Yg,useFormState:Eb,useActionState:Eb,useOptimistic:function(e){var t=ln();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Gg.bind(null,Re,!0,n),n.dispatch=t,[e,t]},useMemoCache:Fg,useCacheRefresh:function(){return ln().memoizedState=ON.bind(null,Re)},useEffectEvent:function(e){var t=ln(),n={impl:e};return t.memoizedState=n,function(){if(Ve&2)throw Error(G(440));return n.impl.apply(void 0,arguments)}}},Jg={readContext:Jt,use:Mf,useCallback:QS,useContext:Jt,useEffect:Zg,useImperativeHandle:KS,useInsertionEffect:FS,useLayoutEffect:VS,useMemo:YS,useReducer:id,useRef:BS,useState:function(){return id(la)},useDebugValue:Kg,useDeferredValue:function(e,t){var n=jt();return GS(n,et.memoizedState,e,t)},useTransition:function(){var e=id(la)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:ac(e),t]},useSyncExternalStore:OS,useId:ew,useHostTransitionStatus:Yg,useFormState:Tb,useActionState:Tb,useOptimistic:function(e,t){var n=jt();return PS(n,et,e,t)},useMemoCache:Fg,useCacheRefresh:tw};Jg.useEffectEvent=IS;var iw={readContext:Jt,use:Mf,useCallback:QS,useContext:Jt,useEffect:Zg,useImperativeHandle:KS,useInsertionEffect:FS,useLayoutEffect:VS,useMemo:YS,useReducer:Fh,useRef:BS,useState:function(){return Fh(la)},useDebugValue:Kg,useDeferredValue:function(e,t){var n=jt();return et===null?Qg(n,e,t):GS(n,et.memoizedState,e,t)},useTransition:function(){var e=Fh(la)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:ac(e),t]},useSyncExternalStore:OS,useId:ew,useHostTransitionStatus:Yg,useFormState:Nb,useActionState:Nb,useOptimistic:function(e,t){var n=jt();return et!==null?PS(n,et,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Fg,useCacheRefresh:tw};iw.useEffectEvent=IS;function Vh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gm={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hn(),a=Qa(r);a.payload=t,n!=null&&(a.callback=n),t=Ya(e,a,r),t!==null&&(jn(t,e,r),pl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hn(),a=Qa(r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ya(e,a,r),t!==null&&(jn(t,e,r),pl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hn(),r=Qa(n);r.tag=2,t!=null&&(r.callback=t),t=Ya(e,r,n),t!==null&&(jn(t,e,n),pl(t,e,n))}};function kb(e,t,n,r,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ol(n,r)||!Ol(a,s):!0}function Ob(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gm.enqueueReplaceState(t,t.state,null)}function ti(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=ft({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function ow(e){Md(e)}function lw(e){console.error(e)}function cw(e){Md(e)}function Id(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Ab(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function ym(e,t,n){return n=Qa(n),n.tag=3,n.payload={element:null},n.callback=function(){Id(e,t)},n}function uw(e){return e=Qa(e),e.tag=3,e}function dw(e,t,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){Ab(t,n,r)}}var i=n.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Ab(t,n,r),typeof a!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function DN(e,t,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Eo(t,n,a,!0),n=Fn.current,n!==null){switch(n.tag){case 31:case 13:return sr===null?Qd():n.alternate===null&&St===0&&(St=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ud?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),np(e,r,a)),!1;case 22:return n.flags|=65536,r===Ud?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),np(e,r,a)),!1}throw Error(G(435,n.tag))}return np(e,r,a),Qd(),!1}if(Pe)return t=Fn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==am&&(e=Error(G(422),{cause:r}),Dl(nr(e,n)))):(r!==am&&(t=Error(G(423),{cause:r}),Dl(nr(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=nr(r,n),a=ym(e.stateNode,r,a),Ih(e,a),St!==4&&(St=2)),!1;var s=Error(G(520),{cause:r});if(s=nr(s,n),_l===null?_l=[s]:_l.push(s),St!==4&&(St=2),t===null)return!0;r=nr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=ym(n.stateNode,r,e),Ih(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ga===null||!Ga.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,a=uw(a),dw(a,e,n,r),Ih(n,a),!1}n=n.return}while(n!==null);return!1}var Xg=Error(G(461)),Dt=!1;function Qt(e,t,n,r){t.child=e===null?CS(t,null,n,r):Ws(t,e.child,n,r)}function Db(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var o in r)o!=="ref"&&(i[o]=r[o])}else i=r;return Xs(t),r=$g(e,t,n,i,s,a),o=Hg(),e!==null&&!Dt?(Bg(e,t,a),ca(e,t,a)):(Pe&&o&&Ag(t),t.flags|=1,Qt(e,t,r,a),t.child)}function Mb(e,t,n,r,a){if(e===null){var s=n.type;return typeof s=="function"&&!Og(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,fw(e,t,s,r,a)):(e=ad(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Wg(e,a)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ol,n(i,r)&&e.ref===t.ref)return ca(e,t,a)}return t.flags|=1,e=ea(s,r),e.ref=t.ref,e.return=t,t.child=e}function fw(e,t,n,r,a){if(e!==null){var s=e.memoizedProps;if(Ol(s,r)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=r=s,Wg(e,a))e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,ca(e,t,a)}return vm(e,t,n,r,a)}function hw(e,t,n,r){var a=r.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~s}else r=0,t.child=null;return zb(e,t,s,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&sd(t,s!==null?s.cachePool:null),s!==null?wb(t,s):dm(),NS(t);else return r=t.lanes=536870912,zb(e,t,s!==null?s.baseLanes|n:n,n,r)}else s!==null?(sd(t,s.cachePool),wb(t,s),ja(),t.memoizedState=null):(e!==null&&sd(t,null),dm(),ja());return Qt(e,t,a,n),t.child}function rl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zb(e,t,n,r,a){var s=zg();return s=s===null?null:{parent:At._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&sd(t,null),dm(),NS(t),e!==null&&Eo(e,t,r,!0),t.childLanes=a,null}function ld(e,t){return t=Fd({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Lb(e,t,n){return Ws(t,e.child,null,n),e=ld(t,t.pendingProps),e.flags|=2,Dn(t),t.memoizedState=null,e}function MN(e,t,n){var r=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Pe){if(r.mode==="hidden")return e=ld(t,r),t.lanes=536870912,rl(null,e);if(fm(t),(e=ut)?(e=s2(e,rr),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:rs!==null?{id:Rr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},n=vS(e),n.return=t,t.child=n,Gt=t,ut=null)):e=null,e===null)throw as(t);return t.lanes=536870912,null}return ld(t,r)}var s=e.memoizedState;if(s!==null){var i=s.dehydrated;if(fm(t),a)if(t.flags&256)t.flags&=-257,t=Lb(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(G(558));else if(Dt||Eo(e,t,n,!1),a=(n&e.childLanes)!==0,Dt||a){if(r=at,r!==null&&(i=F1(r,n),i!==0&&i!==s.retryLane))throw s.retryLane=i,li(e,i),jn(r,e,i),Xg;Qd(),t=Lb(e,t,n)}else e=s.treeContext,ut=ir(i.nextSibling),Gt=t,Pe=!0,Ka=null,rr=!1,e!==null&&_S(t,e),t=ld(t,r),t.flags|=4096;return t}return e=ea(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cd(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(G(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function vm(e,t,n,r,a){return Xs(t),n=$g(e,t,n,r,void 0,a),r=Hg(),e!==null&&!Dt?(Bg(e,t,a),ca(e,t,a)):(Pe&&r&&Ag(t),t.flags|=1,Qt(e,t,n,a),t.child)}function Pb(e,t,n,r,a,s){return Xs(t),t.updateQueue=null,n=kS(t,r,n,a),RS(e),r=Hg(),e!==null&&!Dt?(Bg(e,t,s),ca(e,t,s)):(Pe&&r&&Ag(t),t.flags|=1,Qt(e,t,n,s),t.child)}function Ub(e,t,n,r,a){if(Xs(t),t.stateNode===null){var s=Di,i=n.contextType;typeof i=="object"&&i!==null&&(s=Jt(i)),s=new n(r,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=gm,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=r,s.state=t.memoizedState,s.refs={},Pg(t),i=n.contextType,s.context=typeof i=="object"&&i!==null?Jt(i):Di,s.state=t.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(Vh(t,n,i,r),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(i=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),i!==s.state&&gm.enqueueReplaceState(s,s.state,null),gl(t,r,s,a),ml(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){s=t.stateNode;var o=t.memoizedProps,l=ti(n,o);s.props=l;var u=s.context,f=n.contextType;i=Di,typeof f=="object"&&f!==null&&(i=Jt(f));var h=n.getDerivedStateFromProps;f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==i)&&Ob(t,s,r,i),_a=!1;var p=t.memoizedState;s.state=p,gl(t,r,s,a),ml(),u=t.memoizedState,o||p!==u||_a?(typeof h=="function"&&(Vh(t,n,h,r),u=t.memoizedState),(l=_a||kb(t,n,l,r,p,u,i))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=i,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,cm(e,t),i=t.memoizedProps,f=ti(n,i),s.props=f,h=t.pendingProps,p=s.context,u=n.contextType,l=Di,typeof u=="object"&&u!==null&&(l=Jt(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==h||p!==l)&&Ob(t,s,r,l),_a=!1,p=t.memoizedState,s.state=p,gl(t,r,s,a),ml();var d=t.memoizedState;i!==h||p!==d||_a||e!==null&&e.dependencies!==null&&Pd(e.dependencies)?(typeof o=="function"&&(Vh(t,n,o,r),d=t.memoizedState),(f=_a||kb(t,n,f,r,p,d,l)||e!==null&&e.dependencies!==null&&Pd(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,d,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,d,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=l,r=f):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,cd(e,t),r=(t.flags&128)!==0,s||r?(s=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&r?(t.child=Ws(t,e.child,null,a),t.child=Ws(t,null,n,a)):Qt(e,t,n,a),t.memoizedState=s.state,e=t.child):e=ca(e,t,a),e}function qb(e,t,n,r){return Js(),t.flags|=256,Qt(e,t,n,r),t.child}var Zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(e){return{baseLanes:e,cachePool:SS()}}function Qh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ln),e}function pw(e,t,n){var r=t.pendingProps,a=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(wt.current&2)!==0),i&&(a=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(a?wa(t):ja(),(e=ut)?(e=s2(e,rr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:rs!==null?{id:Rr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},n=vS(e),n.return=t,t.child=n,Gt=t,ut=null)):e=null,e===null)throw as(t);return Am(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,a?(ja(),a=t.mode,o=Fd({mode:"hidden",children:o},a),r=Is(r,a,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r=t.child,r.memoizedState=Kh(n),r.childLanes=Qh(e,i,n),t.memoizedState=Zh,rl(null,r)):(wa(t),bm(t,o))}var l=e.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(s)t.flags&256?(wa(t),t.flags&=-257,t=Yh(e,t,n)):t.memoizedState!==null?(ja(),t.child=e.child,t.flags|=128,t=null):(ja(),o=r.fallback,a=t.mode,r=Fd({mode:"visible",children:r.children},a),o=Is(o,a,n,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,Ws(t,e.child,null,n),r=t.child,r.memoizedState=Kh(n),r.childLanes=Qh(e,i,n),t.memoizedState=Zh,t=rl(null,r));else if(wa(t),Am(o)){if(i=o.nextSibling&&o.nextSibling.dataset,i)var u=i.dgst;i=u,r=Error(G(419)),r.stack="",r.digest=i,Dl({value:r,source:null,stack:null}),t=Yh(e,t,n)}else if(Dt||Eo(e,t,n,!1),i=(n&e.childLanes)!==0,Dt||i){if(i=at,i!==null&&(r=F1(i,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,li(e,r),jn(i,e,r),Xg;Om(o)||Qd(),t=Yh(e,t,n)}else Om(o)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ut=ir(o.nextSibling),Gt=t,Pe=!0,Ka=null,rr=!1,e!==null&&_S(t,e),t=bm(t,r.children),t.flags|=4096);return t}return a?(ja(),o=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=ea(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=ea(u,o):(o=Is(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,rl(null,r),r=t.child,o=e.child.memoizedState,o===null?o=Kh(n):(a=o.cachePool,a!==null?(l=At._currentValue,a=a.parent!==l?{parent:l,pool:l}:a):a=SS(),o={baseLanes:o.baseLanes|n,cachePool:a}),r.memoizedState=o,r.childLanes=Qh(e,i,n),t.memoizedState=Zh,rl(e.child,r)):(wa(t),n=e.child,e=n.sibling,n=ea(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function bm(e,t){return t=Fd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fd(e,t){return e=Mn(22,e,null,t),e.lanes=0,e}function Yh(e,t,n){return Ws(t,e.child,null,n),e=bm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $b(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),im(e.return,t,n)}function Gh(e,t,n,r,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=s)}function mw(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;r=r.children;var i=wt.current,o=(i&2)!==0;if(o?(i=i&1|2,t.flags|=128):i&=1,ot(wt,i),Qt(e,t,r,n),r=Pe?Al:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$b(e,n,t);else if(e.tag===19)$b(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&$d(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Gh(t,!1,a,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&$d(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Gh(t,!0,n,null,s,r);break;case"together":Gh(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ca(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,!(n&t.childLanes))if(e!==null){if(Eo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=ea(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ea(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wg(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Pd(e)))}function zN(e,t,n){switch(t.tag){case 3:kd(t,t.stateNode.containerInfo),Sa(t,At,e.memoizedState.cache),Js();break;case 27:case 5:Kp(t);break;case 4:kd(t,t.stateNode.containerInfo);break;case 10:Sa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,fm(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(wa(t),t.flags|=128,null):n&t.child.childLanes?pw(e,t,n):(wa(t),e=ca(e,t,n),e!==null?e.sibling:null);wa(t);break;case 19:var a=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Eo(e,t,n,!1),r=(n&t.childLanes)!==0),a){if(r)return mw(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ot(wt,wt.current),r)break;return null;case 22:return t.lanes=0,hw(e,t,n,t.pendingProps);case 24:Sa(t,At,e.memoizedState.cache)}return ca(e,t,n)}function gw(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Dt=!0;else{if(!Wg(e,n)&&!(t.flags&128))return Dt=!1,zN(e,t,n);Dt=!!(e.flags&131072)}else Dt=!1,Pe&&t.flags&1048576&&bS(t,Al,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Es(t.elementType),t.type=e,typeof e=="function")Og(e)?(r=ti(e,r),t.tag=1,t=Ub(null,t,e,r,n)):(t.tag=0,t=vm(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===yg){t.tag=11,t=Db(null,t,e,r,n);break e}else if(a===vg){t.tag=14,t=Mb(null,t,e,r,n);break e}}throw t=Vp(e)||e,Error(G(306,t,""))}}return t;case 0:return vm(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=ti(r,t.pendingProps),Ub(e,t,r,a,n);case 3:e:{if(kd(t,t.stateNode.containerInfo),e===null)throw Error(G(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,cm(e,t),gl(t,r,null,n);var i=t.memoizedState;if(r=i.cache,Sa(t,At,r),r!==s.cache&&om(t,[At],n,!0),ml(),r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=qb(e,t,r,n);break e}else if(r!==a){a=nr(Error(G(424)),t),Dl(a),t=qb(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ut=ir(e.firstChild),Gt=t,Pe=!0,Ka=null,rr=!0,n=CS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Js(),r===a){t=ca(e,t,n);break e}Qt(e,t,r,n)}t=t.child}return t;case 26:return cd(e,t),e===null?(n=i0(t.type,null,t.pendingProps,null))?t.memoizedState=n:Pe||(n=t.type,e=t.pendingProps,r=Xd(Za.current).createElement(n),r[Yt]=t,r[Cn]=e,Xt(r,n,e),Vt(r),t.stateNode=r):t.memoizedState=i0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Kp(t),e===null&&Pe&&(r=t.stateNode=i2(t.type,t.pendingProps,Za.current),Gt=t,rr=!0,a=ut,cs(t.type)?(Dm=a,ut=ir(r.firstChild)):ut=a),Qt(e,t,t.pendingProps.children,n),cd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((a=r=ut)&&(r=dR(r,t.type,t.pendingProps,rr),r!==null?(t.stateNode=r,Gt=t,ut=ir(r.firstChild),rr=!1,a=!0):a=!1),a||as(t)),Kp(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,r=s.children,Rm(a,s)?r=null:i!==null&&Rm(a,i)&&(t.flags|=32),t.memoizedState!==null&&(a=$g(e,t,EN,null,null,n),ql._currentValue=a),cd(e,t),Qt(e,t,r,n),t.child;case 6:return e===null&&Pe&&((e=n=ut)&&(n=fR(n,t.pendingProps,rr),n!==null?(t.stateNode=n,Gt=t,ut=null,e=!0):e=!1),e||as(t)),null;case 13:return pw(e,t,n);case 4:return kd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ws(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return Db(e,t,t.type,t.pendingProps,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Sa(t,t.type,r.value),Qt(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Xs(t),a=Jt(a),r=r(a),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return Mb(e,t,t.type,t.pendingProps,n);case 15:return fw(e,t,t.type,t.pendingProps,n);case 19:return mw(e,t,n);case 31:return MN(e,t,n);case 22:return hw(e,t,n,t.pendingProps);case 24:return Xs(t),r=Jt(At),e===null?(a=zg(),a===null&&(a=at,s=Mg(),a.pooledCache=s,s.refCount++,s!==null&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},Pg(t),Sa(t,At,a)):(e.lanes&n&&(cm(e,t),gl(t,null,null,n),ml()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Sa(t,At,r)):(r=s.cache,Sa(t,At,r),r!==a.cache&&om(t,[At],n,!0))),Qt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(G(156,t.tag))}function Ur(e){e.flags|=4}function Jh(e,t,n,r,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if($w())e.flags|=8192;else throw Vs=Ud,Lg}else e.flags&=-16777217}function Hb(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!c2(t))if($w())e.flags|=8192;else throw Vs=Ud,Lg}function Bc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?H1():536870912,e.lanes|=t,mo|=t)}function Fo(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function LN(e,t,n){var r=t.pendingProps;switch(Dg(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return ct(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ta(At),lo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mi(t)?Ur(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bh())),ct(t),null;case 26:var a=t.type,s=t.memoizedState;return e===null?(Ur(t),s!==null?(ct(t),Hb(t,s)):(ct(t),Jh(t,a,null,r,n))):s?s!==e.memoizedState?(Ur(t),ct(t),Hb(t,s)):(ct(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Ur(t),ct(t),Jh(t,a,e,r,n)),null;case 27:if(Od(t),n=Za.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(!r){if(t.stateNode===null)throw Error(G(166));return ct(t),null}e=Ar.current,mi(t)?gb(t):(e=i2(a,r,n),t.stateNode=e,Ur(t))}return ct(t),null;case 5:if(Od(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(!r){if(t.stateNode===null)throw Error(G(166));return ct(t),null}if(s=Ar.current,mi(t))gb(t);else{var i=Xd(Za.current);switch(s){case 1:s=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=i.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s=typeof r.is=="string"?i.createElement(a,{is:r.is}):i.createElement(a)}}s[Yt]=t,s[Cn]=r;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)s.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=s;e:switch(Xt(s,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ur(t)}}return ct(t),Jh(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(e=Za.current,mi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Gt,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Yt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||n2(e.nodeValue,n)),e||as(t,!0)}else e=Xd(e).createTextNode(r),e[Yt]=t,t.stateNode=e}return ct(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=mi(t),n!==null){if(e===null){if(!r)throw Error(G(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(557));e[Yt]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),e=!1}else n=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Dn(t),t):(Dn(t),null);if(t.flags&128)throw Error(G(558))}return ct(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(G(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[Yt]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),a=!1}else a=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Dn(t),t):(Dn(t),null)}return Dn(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Bc(t,t.updateQueue),ct(t),null);case 4:return lo(),e===null&&iy(t.stateNode.containerInfo),ct(t),null;case 10:return ta(t.type),ct(t),null;case 19:if(Zt(wt),r=t.memoizedState,r===null)return ct(t),null;if(a=(t.flags&128)!==0,s=r.rendering,s===null)if(a)Fo(r,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$d(e),s!==null){for(t.flags|=128,Fo(r,!1),e=s.updateQueue,t.updateQueue=e,Bc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)yS(n,e),n=n.sibling;return ot(wt,wt.current&1|2),Pe&&Fr(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Un()>Zd&&(t.flags|=128,a=!0,Fo(r,!1),t.lanes=4194304)}else{if(!a)if(e=$d(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Bc(t,e),Fo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Pe)return ct(t),null}else 2*Un()-r.renderingStartTime>Zd&&n!==536870912&&(t.flags|=128,a=!0,Fo(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Un(),e.sibling=null,n=wt.current,ot(wt,a?n&1|2:n&1),Pe&&Fr(t,r.treeForkCount),e):(ct(t),null);case 22:case 23:return Dn(t),Ug(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),n=t.updateQueue,n!==null&&Bc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Zt(Fs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ta(At),ct(t),null;case 25:return null;case 30:return null}throw Error(G(156,t.tag))}function PN(e,t){switch(Dg(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ta(At),lo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Od(t),null;case 31:if(t.memoizedState!==null){if(Dn(t),t.alternate===null)throw Error(G(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(wt),null;case 4:return lo(),null;case 10:return ta(t.type),null;case 22:case 23:return Dn(t),Ug(),e!==null&&Zt(Fs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ta(At),null;case 25:return null;default:return null}}function yw(e,t){switch(Dg(t),t.tag){case 3:ta(At),lo();break;case 26:case 27:case 5:Od(t);break;case 4:lo();break;case 31:t.memoizedState!==null&&Dn(t);break;case 13:Dn(t);break;case 19:Zt(wt);break;case 10:ta(t.type);break;case 22:case 23:Dn(t),Ug(),e!==null&&Zt(Fs);break;case 24:ta(At)}}function sc(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(o){Je(t,t.return,o)}}function ss(e,t,n){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(o!==void 0){i.destroy=void 0,a=t;var l=n,u=o;try{u()}catch(f){Je(a,l,f)}}}r=r.next}while(r!==s)}}catch(f){Je(t,t.return,f)}}function vw(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{TS(t,n)}catch(r){Je(e,e.return,r)}}}function bw(e,t,n){n.props=ti(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Je(e,t,r)}}function vl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){Je(e,t,a)}}function Or(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Je(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Je(e,t,a)}else n.current=null}function _w(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Je(e,e.return,a)}}function Xh(e,t,n){try{var r=e.stateNode;sR(r,e.type,n,t),r[Cn]=t}catch(a){Je(e,e.return,a)}}function xw(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cs(e.type)||e.tag===4}function Wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _m(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jr));else if(r!==4&&(r===27&&cs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(_m(e,t,n),e=e.sibling;e!==null;)_m(e,t,n),e=e.sibling}function Vd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&cs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Vd(e,t,n),e=e.sibling;e!==null;)Vd(e,t,n),e=e.sibling}function Sw(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Xt(t,r,n),t[Yt]=e,t[Cn]=n}catch(s){Je(e,e.return,s)}}var Yr=!1,Ot=!1,ep=!1,Bb=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function UN(e,t){if(e=e.containerInfo,Tm=nf,e=cS(e),Ng(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,o=-1,l=-1,u=0,f=0,h=e,p=null;t:for(;;){for(var d;h!==n||a!==0&&h.nodeType!==3||(o=i+a),h!==s||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(d=h.firstChild)!==null;)p=h,h=d;for(;;){if(h===e)break t;if(p===n&&++u===a&&(o=i),p===s&&++f===r&&(l=i),(d=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=d}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nm={focusedElem:e,selectionRange:n},nf=!1,Ft=t;Ft!==null;)if(t=Ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ft=e;else for(;Ft!==null;){switch(t=Ft,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=ti(n.type,a);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){Je(n,n.return,g)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)km(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":km(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(G(163))}if(e=t.sibling,e!==null){e.return=t.return,Ft=e;break}Ft=t.return}}function ww(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$r(e,n),r&4&&sc(5,n);break;case 1:if($r(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(i){Je(n,n.return,i)}else{var a=ti(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Je(n,n.return,i)}}r&64&&vw(n),r&512&&vl(n,n.return);break;case 3:if($r(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{TS(e,t)}catch(i){Je(n,n.return,i)}}break;case 27:t===null&&r&4&&Sw(n);case 26:case 5:$r(e,n),t===null&&r&4&&_w(n),r&512&&vl(n,n.return);break;case 12:$r(e,n);break;case 31:$r(e,n),r&4&&Ew(e,n);break;case 13:$r(e,n),r&4&&Tw(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=KN.bind(null,n),hR(e,n))));break;case 22:if(r=n.memoizedState!==null||Yr,!r){t=t!==null&&t.memoizedState!==null||Ot,a=Yr;var s=Ot;Yr=r,(Ot=t)&&!s?Ir(e,n,(n.subtreeFlags&8772)!==0):$r(e,n),Yr=a,Ot=s}break;case 30:break;default:$r(e,n)}}function jw(e){var t=e.alternate;t!==null&&(e.alternate=null,jw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Sg(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,_n=!1;function qr(e,t,n){for(n=n.child;n!==null;)Cw(e,t,n),n=n.sibling}function Cw(e,t,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Xl,n)}catch{}switch(n.tag){case 26:Ot||Or(n,t),qr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ot||Or(n,t);var r=ht,a=_n;cs(n.type)&&(ht=n.stateNode,_n=!1),qr(e,t,n),Sl(n.stateNode),ht=r,_n=a;break;case 5:Ot||Or(n,t);case 6:if(r=ht,a=_n,ht=null,qr(e,t,n),ht=r,_n=a,ht!==null)if(_n)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(n.stateNode)}catch(s){Je(n,t,s)}else try{ht.removeChild(n.stateNode)}catch(s){Je(n,t,s)}break;case 18:ht!==null&&(_n?(e=ht,t0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),bo(e)):t0(ht,n.stateNode));break;case 4:r=ht,a=_n,ht=n.stateNode.containerInfo,_n=!0,qr(e,t,n),ht=r,_n=a;break;case 0:case 11:case 14:case 15:ss(2,n,t),Ot||ss(4,n,t),qr(e,t,n);break;case 1:Ot||(Or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&bw(n,t,r)),qr(e,t,n);break;case 21:qr(e,t,n);break;case 22:Ot=(r=Ot)||n.memoizedState!==null,qr(e,t,n),Ot=r;break;default:qr(e,t,n)}}function Ew(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{bo(e)}catch(n){Je(t,t.return,n)}}}function Tw(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bo(e)}catch(n){Je(t,t.return,n)}}function qN(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Bb),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Bb),t;default:throw Error(G(435,e.tag))}}function Ic(e,t){var n=qN(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var a=QN.bind(null,e,r);r.then(a,a)}})}function gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 27:if(cs(o.type)){ht=o.stateNode,_n=!1;break e}break;case 5:ht=o.stateNode,_n=!1;break e;case 3:case 4:ht=o.stateNode.containerInfo,_n=!0;break e}o=o.return}if(ht===null)throw Error(G(160));Cw(s,i,a),ht=null,_n=!1,s=a.alternate,s!==null&&(s.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Nw(t,e),t=t.sibling}var gr=null;function Nw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(t,e),yn(e),r&4&&(ss(3,e,e.return),sc(3,e),ss(5,e,e.return));break;case 1:gn(t,e),yn(e),r&512&&(Ot||n===null||Or(n,n.return)),r&64&&Yr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=gr;if(gn(t,e),yn(e),r&512&&(Ot||n===null||Or(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":s=a.getElementsByTagName("title")[0],(!s||s[tc]||s[Yt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),Xt(s,r,n),s[Yt]=e,Vt(s),r=s;break e;case"link":var i=l0("link","href",a).get(r+(n.href||""));if(i){for(var o=0;o<i.length;o++)if(s=i[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){i.splice(o,1);break t}}s=a.createElement(r),Xt(s,r,n),a.head.appendChild(s);break;case"meta":if(i=l0("meta","content",a).get(r+(n.content||""))){for(o=0;o<i.length;o++)if(s=i[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){i.splice(o,1);break t}}s=a.createElement(r),Xt(s,r,n),a.head.appendChild(s);break;default:throw Error(G(468,r))}s[Yt]=e,Vt(s),r=s}e.stateNode=r}else c0(a,e.type,e.stateNode);else e.stateNode=o0(a,r,e.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?c0(a,e.type,e.stateNode):o0(a,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Xh(e,e.memoizedProps,n.memoizedProps)}break;case 27:gn(t,e),yn(e),r&512&&(Ot||n===null||Or(n,n.return)),n!==null&&r&4&&Xh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(gn(t,e),yn(e),r&512&&(Ot||n===null||Or(n,n.return)),e.flags&32){a=e.stateNode;try{uo(a,"")}catch(m){Je(e,e.return,m)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Xh(e,a,n!==null?n.memoizedProps:a)),r&1024&&(ep=!0);break;case 6:if(gn(t,e),yn(e),r&4){if(e.stateNode===null)throw Error(G(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Je(e,e.return,m)}}break;case 3:if(fd=null,a=gr,gr=Wd(t.containerInfo),gn(t,e),gr=a,yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bo(t.containerInfo)}catch(m){Je(e,e.return,m)}ep&&(ep=!1,Rw(e));break;case 4:r=gr,gr=Wd(e.stateNode.containerInfo),gn(t,e),yn(e),gr=r;break;case 12:gn(t,e),yn(e);break;case 31:gn(t,e),yn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ic(e,r)));break;case 13:gn(t,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Pf=Un()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ic(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Yr,f=Ot;if(Yr=u||a,Ot=f||l,gn(t,e),Ot=f,Yr=u,yn(e),r&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Yr||Ot||Ts(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(s=l.stateNode,a)i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{o=l.stateNode;var h=l.memoizedProps.style,p=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(m){Je(l,l.return,m)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(m){Je(l,l.return,m)}}}else if(t.tag===18){if(n===null){l=t;try{var d=l.stateNode;a?n0(d,!0):n0(l.stateNode,!1)}catch(m){Je(l,l.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ic(e,n))));break;case 19:gn(t,e),yn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ic(e,r)));break;case 30:break;case 21:break;default:gn(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(xw(r)){n=r;break}r=r.return}if(n==null)throw Error(G(160));switch(n.tag){case 27:var a=n.stateNode,s=Wh(e);Vd(e,s,a);break;case 5:var i=n.stateNode;n.flags&32&&(uo(i,""),n.flags&=-33);var o=Wh(e);Vd(e,o,i);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Wh(e);_m(e,u,l);break;default:throw Error(G(161))}}catch(f){Je(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rw(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Rw(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function $r(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ww(e,t.alternate,t),t=t.sibling}function Ts(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ss(4,t,t.return),Ts(t);break;case 1:Or(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&bw(t,t.return,n),Ts(t);break;case 27:Sl(t.stateNode);case 26:case 5:Or(t,t.return),Ts(t);break;case 22:t.memoizedState===null&&Ts(t);break;case 30:Ts(t);break;default:Ts(t)}e=e.sibling}}function Ir(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Ir(a,s,n),sc(4,s);break;case 1:if(Ir(a,s,n),r=s,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Je(r,r.return,u)}if(r=s,a=r.updateQueue,a!==null){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(l!==null)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)ES(l[a],o)}catch(u){Je(r,r.return,u)}}n&&i&64&&vw(s),vl(s,s.return);break;case 27:Sw(s);case 26:case 5:Ir(a,s,n),n&&r===null&&i&4&&_w(s),vl(s,s.return);break;case 12:Ir(a,s,n);break;case 31:Ir(a,s,n),n&&i&4&&Ew(a,s);break;case 13:Ir(a,s,n),n&&i&4&&Tw(a,s);break;case 22:s.memoizedState===null&&Ir(a,s,n),vl(s,s.return);break;case 30:break;default:Ir(a,s,n)}t=t.sibling}}function ey(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&rc(n))}function ty(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rc(e))}function hr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kw(e,t,n,r),t=t.sibling}function kw(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:hr(e,t,n,r),a&2048&&sc(9,t);break;case 1:hr(e,t,n,r);break;case 3:hr(e,t,n,r),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rc(e)));break;case 12:if(a&2048){hr(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;typeof o=="function"&&o(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Je(t,t.return,l)}}else hr(e,t,n,r);break;case 31:hr(e,t,n,r);break;case 13:hr(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,t.memoizedState!==null?s._visibility&2?hr(e,t,n,r):bl(e,t):s._visibility&2?hr(e,t,n,r):(s._visibility|=2,xi(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),a&2048&&ey(i,t);break;case 24:hr(e,t,n,r),a&2048&&ty(t.alternate,t);break;default:hr(e,t,n,r)}}function xi(e,t,n,r,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,i=t,o=n,l=r,u=i.flags;switch(i.tag){case 0:case 11:case 15:xi(s,i,o,l,a),sc(8,i);break;case 23:break;case 22:var f=i.stateNode;i.memoizedState!==null?f._visibility&2?xi(s,i,o,l,a):bl(s,i):(f._visibility|=2,xi(s,i,o,l,a)),a&&u&2048&&ey(i.alternate,i);break;case 24:xi(s,i,o,l,a),a&&u&2048&&ty(i.alternate,i);break;default:xi(s,i,o,l,a)}t=t.sibling}}function bl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:bl(n,r),a&2048&&ey(r.alternate,r);break;case 24:bl(n,r),a&2048&&ty(r.alternate,r);break;default:bl(n,r)}t=t.sibling}}var al=8192;function gi(e,t,n){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Ow(e,t,n),e=e.sibling}function Ow(e,t,n){switch(e.tag){case 26:gi(e,t,n),e.flags&al&&e.memoizedState!==null&&CR(n,gr,e.memoizedState,e.memoizedProps);break;case 5:gi(e,t,n);break;case 3:case 4:var r=gr;gr=Wd(e.stateNode.containerInfo),gi(e,t,n),gr=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=al,al=16777216,gi(e,t,n),al=r):gi(e,t,n));break;default:gi(e,t,n)}}function Aw(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Ft=r,Mw(r,e)}Aw(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dw(e),e=e.sibling}function Dw(e){switch(e.tag){case 0:case 11:case 15:Vo(e),e.flags&2048&&ss(9,e,e.return);break;case 3:Vo(e);break;case 12:Vo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ud(e)):Vo(e);break;default:Vo(e)}}function ud(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Ft=r,Mw(r,e)}Aw(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ss(8,t,t.return),ud(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ud(t));break;default:ud(t)}e=e.sibling}}function Mw(e,t){for(;Ft!==null;){var n=Ft;switch(n.tag){case 0:case 11:case 15:ss(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:rc(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Ft=r;else e:for(n=e;Ft!==null;){r=Ft;var a=r.sibling,s=r.return;if(jw(r),r===n){Ft=null;break e}if(a!==null){a.return=s,Ft=a;break e}Ft=s}}}var $N={getCacheForType:function(e){var t=Jt(At),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Jt(At).controller.signal}},HN=typeof WeakMap=="function"?WeakMap:Map,Ve=0,at=null,De=null,Me=0,Ge=0,An=null,$a=!1,No=!1,ny=!1,ua=0,St=0,is=0,Zs=0,ry=0,Ln=0,mo=0,_l=null,xn=null,xm=!1,Pf=0,zw=0,Zd=1/0,Kd=null,Ga=null,$t=0,Ja=null,go=null,na=0,Sm=0,wm=null,Lw=null,xl=0,jm=null;function Hn(){return Ve&2&&Me!==0?Me&-Me:je.T!==null?sy():V1()}function Pw(){if(Ln===0)if(!(Me&536870912)||Pe){var e=zc;zc<<=1,!(zc&3932160)&&(zc=262144),Ln=e}else Ln=536870912;return e=Fn.current,e!==null&&(e.flags|=32),Ln}function jn(e,t,n){(e===at&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(yo(e,0),Ha(e,Me,Ln,!1)),ec(e,n),(!(Ve&2)||e!==at)&&(e===at&&(!(Ve&2)&&(Zs|=n),St===4&&Ha(e,Me,Ln,!1)),Lr(e))}function Uw(e,t,n){if(Ve&6)throw Error(G(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Wl(e,t),a=r?FN(e,t):tp(e,t,!0),s=r;do{if(a===0){No&&!r&&Ha(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!BN(n)){a=tp(e,t,!1),s=!1;continue}if(a===2){if(s=t,e.errorRecoveryDisabledLanes&s)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var o=e;a=_l;var l=o.current.memoizedState.isDehydrated;if(l&&(yo(o,i).flags|=256),i=tp(o,i,!1),i!==2){if(ny&&!l){o.errorRecoveryDisabledLanes|=s,Zs|=s,a=4;break e}s=xn,xn=a,s!==null&&(xn===null?xn=s:xn.push.apply(xn,s))}a=i}if(s=!1,a!==2)continue}}if(a===1){yo(e,0),Ha(e,t,0,!0);break}e:{switch(r=e,s=a,s){case 0:case 1:throw Error(G(345));case 4:if((t&4194048)!==t)break;case 6:Ha(r,t,Ln,!$a);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(G(329))}if((t&62914560)===t&&(a=Pf+300-Un(),10<a)){if(Ha(r,t,Ln,!$a),Ef(r,0,!0)!==0)break e;na=t,r.timeoutHandle=a2(Ib.bind(null,r,n,xn,Kd,xm,t,Ln,Zs,mo,$a,s,"Throttled",-0,0),a);break e}Ib(r,n,xn,Kd,xm,t,Ln,Zs,mo,$a,s,null,-0,0)}}break}while(!0);Lr(e)}function Ib(e,t,n,r,a,s,i,o,l,u,f,h,p,d){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jr},Ow(t,s,h);var m=(s&62914560)===s?Pf-Un():(s&4194048)===s?zw-Un():0;if(m=ER(h,m),m!==null){na=s,e.cancelPendingCommit=m(Vb.bind(null,e,t,s,n,r,a,i,o,l,f,h,null,p,d)),Ha(e,s,i,!u);return}}Vb(e,t,s,n,r,a,i,o,l)}function BN(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!In(s(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ha(e,t,n,r){t&=~ry,t&=~Zs,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-$n(a),i=1<<s;r[s]=-1,a&=~i}n!==0&&B1(e,n,t)}function Uf(){return Ve&6?!0:(ic(0),!1)}function ay(){if(De!==null){if(Ge===0)var e=De.return;else e=De,Xr=ci=null,Ig(e),Ii=null,Ml=0,e=De;for(;e!==null;)yw(e.alternate,e),e=e.return;De=null}}function yo(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,lR(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),na=0,ay(),at=e,De=n=ea(e.current,null),Me=t,Ge=0,An=null,$a=!1,No=Wl(e,t),ny=!1,mo=Ln=ry=Zs=is=St=0,xn=_l=null,xm=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var a=31-$n(r),s=1<<a;t|=e[a],r&=~s}return ua=t,kf(),n}function qw(e,t){Re=null,je.H=Ll,t===To||t===Af?(t=xb(),Ge=3):t===Lg?(t=xb(),Ge=4):Ge=t===Xg?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,An=t,De===null&&(St=1,Id(e,nr(t,e.current)))}function $w(){var e=Fn.current;return e===null?!0:(Me&4194048)===Me?sr===null:(Me&62914560)===Me||Me&536870912?e===sr:!1}function Hw(){var e=je.H;return je.H=Ll,e===null?Ll:e}function Bw(){var e=je.A;return je.A=$N,e}function Qd(){St=4,$a||(Me&4194048)!==Me&&Fn.current!==null||(No=!0),!(is&134217727)&&!(Zs&134217727)||at===null||Ha(at,Me,Ln,!1)}function tp(e,t,n){var r=Ve;Ve|=2;var a=Hw(),s=Bw();(at!==e||Me!==t)&&(Kd=null,yo(e,t)),t=!1;var i=St;e:do try{if(Ge!==0&&De!==null){var o=De,l=An;switch(Ge){case 8:ay(),i=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(t=!0);var u=Ge;if(Ge=0,An=null,Li(e,o,l,u),n&&No){i=0;break e}break;default:u=Ge,Ge=0,An=null,Li(e,o,l,u)}}IN(),i=St;break}catch(f){qw(e,f)}while(!0);return t&&e.shellSuspendCounter++,Xr=ci=null,Ve=r,je.H=a,je.A=s,De===null&&(at=null,Me=0,kf()),i}function IN(){for(;De!==null;)Iw(De)}function FN(e,t){var n=Ve;Ve|=2;var r=Hw(),a=Bw();at!==e||Me!==t?(Kd=null,Zd=Un()+500,yo(e,t)):No=Wl(e,t);e:do try{if(Ge!==0&&De!==null){t=De;var s=An;t:switch(Ge){case 1:Ge=0,An=null,Li(e,t,s,1);break;case 2:case 9:if(_b(s)){Ge=0,An=null,Fb(t);break}t=function(){Ge!==2&&Ge!==9||at!==e||(Ge=7),Lr(e)},s.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:_b(s)?(Ge=0,An=null,Fb(t)):(Ge=0,An=null,Li(e,t,s,7));break;case 5:var i=null;switch(De.tag){case 26:i=De.memoizedState;case 5:case 27:var o=De;if(i?c2(i):o.stateNode.complete){Ge=0,An=null;var l=o.sibling;if(l!==null)De=l;else{var u=o.return;u!==null?(De=u,qf(u)):De=null}break t}}Ge=0,An=null,Li(e,t,s,5);break;case 6:Ge=0,An=null,Li(e,t,s,6);break;case 8:ay(),St=6;break e;default:throw Error(G(462))}}VN();break}catch(f){qw(e,f)}while(!0);return Xr=ci=null,je.H=r,je.A=a,Ve=n,De!==null?0:(at=null,Me=0,kf(),St)}function VN(){for(;De!==null&&!pT();)Iw(De)}function Iw(e){var t=gw(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?qf(e):De=t}function Fb(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Pb(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=Pb(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:Ig(t);default:yw(n,t),t=De=yS(t,ua),t=gw(n,t,ua)}e.memoizedProps=e.pendingProps,t===null?qf(e):De=t}function Li(e,t,n,r){Xr=ci=null,Ig(t),Ii=null,Ml=0;var a=t.return;try{if(DN(e,a,t,n,Me)){St=1,Id(e,nr(n,e.current)),De=null;return}}catch(s){if(a!==null)throw De=a,s;St=1,Id(e,nr(n,e.current)),De=null;return}t.flags&32768?(Pe||r===1?e=!0:No||Me&536870912?e=!1:($a=e=!0,(r===2||r===9||r===3||r===6)&&(r=Fn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Fw(t,e)):qf(t)}function qf(e){var t=e;do{if(t.flags&32768){Fw(t,$a);return}e=t.return;var n=LN(t.alternate,t,ua);if(n!==null){De=n;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);St===0&&(St=5)}function Fw(e,t){do{var n=PN(e.alternate,e);if(n!==null){n.flags&=32767,De=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){De=e;return}De=e=n}while(e!==null);St=6,De=null}function Vb(e,t,n,r,a,s,i,o,l){e.cancelPendingCommit=null;do $f();while($t!==0);if(Ve&6)throw Error(G(327));if(t!==null){if(t===e.current)throw Error(G(177));if(s=t.lanes|t.childLanes,s|=Rg,jT(e,n,s,i,o,l),e===at&&(De=at=null,Me=0),go=t,Ja=e,na=n,Sm=s,wm=a,Lw=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,YN(Ad,function(){return Yw(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=je.T,je.T=null,a=Ze.p,Ze.p=2,i=Ve,Ve|=4;try{UN(e,t,n)}finally{Ve=i,Ze.p=a,je.T=r}}$t=1,Vw(),Zw(),Kw()}}function Vw(){if($t===1){$t=0;var e=Ja,t=go,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=je.T,je.T=null;var r=Ze.p;Ze.p=2;var a=Ve;Ve|=4;try{Nw(t,e);var s=Nm,i=cS(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&lS(o.ownerDocument.documentElement,o)){if(l!==null&&Ng(o)){var u=l.start,f=l.end;if(f===void 0&&(f=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(f,o.value.length);else{var h=o.ownerDocument||document,p=h&&h.defaultView||window;if(p.getSelection){var d=p.getSelection(),m=o.textContent.length,g=Math.min(l.start,m),x=l.end===void 0?g:Math.min(l.end,m);!d.extend&&g>x&&(i=x,x=g,g=i);var v=hb(o,g),y=hb(o,x);if(v&&y&&(d.rangeCount!==1||d.anchorNode!==v.node||d.anchorOffset!==v.offset||d.focusNode!==y.node||d.focusOffset!==y.offset)){var b=h.createRange();b.setStart(v.node,v.offset),d.removeAllRanges(),g>x?(d.addRange(b),d.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),d.addRange(b))}}}}for(h=[],d=o;d=d.parentNode;)d.nodeType===1&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var S=h[o];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}nf=!!Tm,Nm=Tm=null}finally{Ve=a,Ze.p=r,je.T=n}}e.current=t,$t=2}}function Zw(){if($t===2){$t=0;var e=Ja,t=go,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=je.T,je.T=null;var r=Ze.p;Ze.p=2;var a=Ve;Ve|=4;try{ww(e,t.alternate,t)}finally{Ve=a,Ze.p=r,je.T=n}}$t=3}}function Kw(){if($t===4||$t===3){$t=0,mT();var e=Ja,t=go,n=na,r=Lw;t.subtreeFlags&10256||t.flags&10256?$t=5:($t=0,go=Ja=null,Qw(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Ga=null),xg(n),t=t.stateNode,qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Xl,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=je.T,a=Ze.p,Ze.p=2,je.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];s(o.value,{componentStack:o.stack})}}finally{je.T=t,Ze.p=a}}na&3&&$f(),Lr(e),a=e.pendingLanes,n&261930&&a&42?e===jm?xl++:(xl=0,jm=e):xl=0,ic(0)}}function Qw(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rc(t)))}function $f(){return Vw(),Zw(),Kw(),Yw()}function Yw(){if($t!==5)return!1;var e=Ja,t=Sm;Sm=0;var n=xg(na),r=je.T,a=Ze.p;try{Ze.p=32>n?32:n,je.T=null,n=wm,wm=null;var s=Ja,i=na;if($t=0,go=Ja=null,na=0,Ve&6)throw Error(G(331));var o=Ve;if(Ve|=4,Dw(s.current),kw(s,s.current,i,n),Ve=o,ic(0,!1),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Xl,s)}catch{}return!0}finally{Ze.p=a,je.T=r,Qw(e,t)}}function Zb(e,t,n){t=nr(n,t),t=ym(e.stateNode,t,2),e=Ya(e,t,2),e!==null&&(ec(e,2),Lr(e))}function Je(e,t,n){if(e.tag===3)Zb(e,e,n);else for(;t!==null;){if(t.tag===3){Zb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ga===null||!Ga.has(r))){e=nr(n,e),n=uw(2),r=Ya(t,n,2),r!==null&&(dw(n,r,t,e),ec(r,2),Lr(r));break}}t=t.return}}function np(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new HN;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(ny=!0,a.add(n),e=ZN.bind(null,e,t,n),t.then(e,e))}function ZN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,at===e&&(Me&n)===n&&(St===4||St===3&&(Me&62914560)===Me&&300>Un()-Pf?!(Ve&2)&&yo(e,0):ry|=n,mo===Me&&(mo=0)),Lr(e)}function Gw(e,t){t===0&&(t=H1()),e=li(e,t),e!==null&&(ec(e,t),Lr(e))}function KN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gw(e,n)}function QN(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(G(314))}r!==null&&r.delete(t),Gw(e,n)}function YN(e,t){return bg(e,t)}var Yd=null,Si=null,Cm=!1,Gd=!1,rp=!1,Ba=0;function Lr(e){e!==Si&&e.next===null&&(Si===null?Yd=Si=e:Si=Si.next=e),Gd=!0,Cm||(Cm=!0,JN())}function ic(e,t){if(!rp&&Gd){rp=!0;do for(var n=!1,r=Yd;r!==null;){if(e!==0){var a=r.pendingLanes;if(a===0)var s=0;else{var i=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-$n(42|e)+1)-1,s&=a&~(i&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Kb(r,s))}else s=Me,s=Ef(r,r===at?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||Wl(r,s)||(n=!0,Kb(r,s));r=r.next}while(n);rp=!1}}function GN(){Jw()}function Jw(){Gd=Cm=!1;var e=0;Ba!==0&&oR()&&(e=Ba);for(var t=Un(),n=null,r=Yd;r!==null;){var a=r.next,s=Xw(r,t);s===0?(r.next=null,n===null?Yd=a:n.next=a,a===null&&(Si=n)):(n=r,(e!==0||s&3)&&(Gd=!0)),r=a}$t!==0&&$t!==5||ic(e),Ba!==0&&(Ba=0)}function Xw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var i=31-$n(s),o=1<<i,l=a[i];l===-1?(!(o&n)||o&r)&&(a[i]=wT(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(t=at,n=Me,n=Ef(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Oh(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Wl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Oh(r),xg(n)){case 2:case 8:n=q1;break;case 32:n=Ad;break;case 268435456:n=$1;break;default:n=Ad}return r=Ww.bind(null,e),n=bg(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Oh(r),e.callbackPriority=2,e.callbackNode=null,2}function Ww(e,t){if($t!==0&&$t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if($f()&&e.callbackNode!==n)return null;var r=Me;return r=Ef(e,e===at?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Uw(e,r,t),Xw(e,Un()),e.callbackNode!=null&&e.callbackNode===n?Ww.bind(null,e):null)}function Kb(e,t){if($f())return null;Uw(e,t,!0)}function JN(){cR(function(){Ve&6?bg(U1,GN):Jw()})}function sy(){if(Ba===0){var e=fo;e===0&&(e=Mc,Mc<<=1,!(Mc&261888)&&(Mc=256)),Ba=e}return Ba}function Qb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:td(""+e)}function Yb(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function XN(e,t,n,r,a){if(t==="submit"&&n&&n.stateNode===a){var s=Qb((a[Cn]||null).action),i=r.submitter;i&&(t=(t=i[Cn]||null)?Qb(t.formAction):i.getAttribute("formAction"),t!==null&&(s=t,i=null));var o=new Tf("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ba!==0){var l=i?Yb(a,i):new FormData(a);mm(n,{pending:!0,data:l,method:a.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=i?Yb(a,i):new FormData(a),mm(n,{pending:!0,data:l,method:a.method,action:s},s,l))},currentTarget:a}]})}}for(var ap=0;ap<rm.length;ap++){var sp=rm[ap],WN=sp.toLowerCase(),eR=sp[0].toUpperCase()+sp.slice(1);xr(WN,"on"+eR)}xr(dS,"onAnimationEnd");xr(fS,"onAnimationIteration");xr(hS,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(gN,"onTransitionRun");xr(yN,"onTransitionStart");xr(vN,"onTransitionCancel");xr(pS,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function e2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=u;try{s(a)}catch(f){Md(f)}a.currentTarget=null,s=l}else for(i=0;i<r.length;i++){if(o=r[i],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=u;try{s(a)}catch(f){Md(f)}a.currentTarget=null,s=l}}}}function Ae(e,t){var n=t[Yp];n===void 0&&(n=t[Yp]=new Set);var r=e+"__bubble";n.has(r)||(t2(t,e,2,!1),n.add(r))}function ip(e,t,n){var r=0;t&&(r|=4),t2(n,e,r,t)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function iy(e){if(!e[Fc]){e[Fc]=!0,Z1.forEach(function(n){n!=="selectionchange"&&(tR.has(n)||ip(n,!1,e),ip(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fc]||(t[Fc]=!0,ip("selectionchange",!1,t))}}function t2(e,t,n,r){switch(p2(t)){case 2:var a=RR;break;case 8:a=kR;break;default:a=uy}n=a.bind(null,t,n,e),a=void 0,!em||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function op(e,t,n,r,a){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===a)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&i.stateNode.containerInfo===a)return;i=i.return}for(;o!==null;){if(i=Ti(o),i===null)return;if(l=i.tag,l===5||l===6||l===26||l===27){r=s=i;continue e}o=o.parentNode}}r=r.return}eS(function(){var u=s,f=jg(n),h=[];e:{var p=mS.get(e);if(p!==void 0){var d=Tf,m=e;switch(e){case"keypress":if(rd(n)===0)break e;case"keydown":case"keyup":d=QT;break;case"focusin":m="focus",d=Lh;break;case"focusout":m="blur",d=Lh;break;case"beforeblur":case"afterblur":d=Lh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=rb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=LT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=JT;break;case dS:case fS:case hS:d=qT;break;case pS:d=WT;break;case"scroll":case"scrollend":d=MT;break;case"wheel":d=tN;break;case"copy":case"cut":case"paste":d=HT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=sb;break;case"toggle":case"beforetoggle":d=rN}var g=(t&4)!==0,x=!g&&(e==="scroll"||e==="scrollend"),v=g?p!==null?p+"Capture":null:p;g=[];for(var y=u,b;y!==null;){var S=y;if(b=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||b===null||v===null||(S=Rl(y,v),S!=null&&g.push(Ul(y,S,b))),x)break;y=y.return}0<g.length&&(p=new d(p,m,null,n,f),h.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",p&&n!==Wp&&(m=n.relatedTarget||n.fromElement)&&(Ti(m)||m[jo]))break e;if((d||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=u,m=m?Ti(m):null,m!==null&&(x=Jl(m),g=m.tag,m!==x||g!==5&&g!==27&&g!==6)&&(m=null)):(d=null,m=u),d!==m)){if(g=rb,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=sb,S="onPointerLeave",v="onPointerEnter",y="pointer"),x=d==null?p:nl(d),b=m==null?p:nl(m),p=new g(S,y+"leave",d,n,f),p.target=x,p.relatedTarget=b,S=null,Ti(f)===u&&(g=new g(v,y+"enter",m,n,f),g.target=b,g.relatedTarget=x,S=g),x=S,d&&m)t:{for(g=nR,v=d,y=m,b=0,S=v;S;S=g(S))b++;S=0;for(var j=y;j;j=g(j))S++;for(;0<b-S;)v=g(v),b--;for(;0<S-b;)y=g(y),S--;for(;b--;){if(v===y||y!==null&&v===y.alternate){g=v;break t}v=g(v),y=g(y)}g=null}else g=null;d!==null&&Gb(h,p,d,g,!1),m!==null&&x!==null&&Gb(h,x,m,g,!0)}}e:{if(p=u?nl(u):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var M=cb;else if(lb(p))if(iS)M=hN;else{M=dN;var E=uN}else d=p.nodeName,!d||d.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?u&&wg(u.elementType)&&(M=cb):M=fN;if(M&&(M=M(e,u))){sS(h,M,n,f);break e}E&&E(e,p,u),e==="focusout"&&u&&p.type==="number"&&u.memoizedProps.value!=null&&Xp(p,"number",p.value)}switch(E=u?nl(u):window,e){case"focusin":(lb(E)||E.contentEditable==="true")&&(ki=E,tm=u,fl=null);break;case"focusout":fl=tm=ki=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,pb(h,n,f);break;case"selectionchange":if(mN)break;case"keydown":case"keyup":pb(h,n,f)}var q;if(Tg)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Ri?rS(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(nS&&n.locale!=="ko"&&(Ri||L!=="onCompositionStart"?L==="onCompositionEnd"&&Ri&&(q=tS()):(qa=f,Cg="value"in qa?qa.value:qa.textContent,Ri=!0)),E=Jd(u,L),0<E.length&&(L=new ab(L,e,null,n,f),h.push({event:L,listeners:E}),q?L.data=q:(q=aS(n),q!==null&&(L.data=q)))),(q=sN?iN(e,n):oN(e,n))&&(L=Jd(u,"onBeforeInput"),0<L.length&&(E=new ab("onBeforeInput","beforeinput",null,n,f),h.push({event:E,listeners:L}),E.data=q)),XN(h,e,u,n,f)}e2(h,t)})}function Ul(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jd(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,s=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||s===null||(a=Rl(e,n),a!=null&&r.unshift(Ul(e,a,s)),a=Rl(e,t),a!=null&&r.push(Ul(e,a,s))),e.tag===3)return r;e=e.return}return[]}function nR(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gb(e,t,n,r,a){for(var s=t._reactName,i=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,a?(u=Rl(n,s),u!=null&&i.unshift(Ul(n,u,l))):a||(u=Rl(n,s),u!=null&&i.push(Ul(n,u,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var rR=/\r\n?/g,aR=/\u0000|\uFFFD/g;function Jb(e){return(typeof e=="string"?e:""+e).replace(rR,`
`).replace(aR,"")}function n2(e,t){return t=Jb(t),Jb(e)===t}function We(e,t,n,r,a,s){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||uo(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&uo(e,""+r);break;case"className":Pc(e,"class",r);break;case"tabIndex":Pc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Pc(e,n,r);break;case"style":W1(e,r,s);break;case"data":if(t!=="object"){Pc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=td(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&We(e,t,"name",a.name,a,null),We(e,t,"formEncType",a.formEncType,a,null),We(e,t,"formMethod",a.formMethod,a,null),We(e,t,"formTarget",a.formTarget,a,null)):(We(e,t,"encType",a.encType,a,null),We(e,t,"method",a.method,a,null),We(e,t,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=td(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Jr);break;case"onScroll":r!=null&&Ae("scroll",e);break;case"onScrollEnd":r!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(G(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(G(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=td(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),ed(e,"popover",r);break;case"xlinkActuate":Pr(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Pr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Pr(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Pr(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Pr(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Pr(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Pr(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Pr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Pr(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ed(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=AT.get(n)||n,ed(e,n,r))}}function Em(e,t,n,r,a,s){switch(n){case"style":W1(e,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(G(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(G(60));e.innerHTML=n}}break;case"children":typeof r=="string"?uo(e,r):(typeof r=="number"||typeof r=="bigint")&&uo(e,""+r);break;case"onScroll":r!=null&&Ae("scroll",e);break;case"onScrollEnd":r!=null&&Ae("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Jr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!K1.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),s=e[Cn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,a),typeof r=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):ed(e,n,r)}}}function Xt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var r=!1,a=!1,s;for(s in n)if(n.hasOwnProperty(s)){var i=n[s];if(i!=null)switch(s){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(G(137,t));default:We(e,t,s,i,n,null)}}a&&We(e,t,"srcSet",n.srcSet,n,null),r&&We(e,t,"src",n.src,n,null);return;case"input":Ae("invalid",e);var o=s=i=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"name":a=f;break;case"type":i=f;break;case"checked":l=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(G(137,t));break;default:We(e,t,r,f,n,null)}}G1(e,s,o,l,u,i,a,!1);return;case"select":Ae("invalid",e),r=i=s=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":s=o;break;case"defaultValue":i=o;break;case"multiple":r=o;default:We(e,t,a,o,n,null)}t=s,n=i,e.multiple=!!r,t!=null?$i(e,!!r,t,!1):n!=null&&$i(e,!!r,n,!0);return;case"textarea":Ae("invalid",e),s=a=r=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":r=o;break;case"defaultValue":a=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(G(91));break;default:We(e,t,i,o,n,null)}X1(e,r,a,s);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:We(e,t,l,r,n,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(r=0;r<Pl.length;r++)Ae(Pl[r],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(G(137,t));default:We(e,t,u,r,n,null)}return;default:if(wg(t)){for(f in n)n.hasOwnProperty(f)&&(r=n[f],r!==void 0&&Em(e,t,f,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&We(e,t,o,r,n,null))}function sR(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,i=null,o=null,l=null,u=null,f=null;for(d in n){var h=n[d];if(n.hasOwnProperty(d)&&h!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(d)||We(e,t,d,null,r,h)}}for(var p in r){var d=r[p];if(h=n[p],r.hasOwnProperty(p)&&(d!=null||h!=null))switch(p){case"type":s=d;break;case"name":a=d;break;case"checked":u=d;break;case"defaultChecked":f=d;break;case"value":i=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(G(137,t));break;default:d!==h&&We(e,t,p,d,r,h)}}Jp(e,i,o,l,u,f,s,a);return;case"select":d=i=o=p=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":d=l;default:r.hasOwnProperty(s)||We(e,t,s,null,r,l)}for(a in r)if(s=r[a],l=n[a],r.hasOwnProperty(a)&&(s!=null||l!=null))switch(a){case"value":p=s;break;case"defaultValue":o=s;break;case"multiple":i=s;default:s!==l&&We(e,t,a,s,r,l)}t=o,n=i,r=d,p!=null?$i(e,!!n,p,!1):!!r!=!!n&&(t!=null?$i(e,!!n,t,!0):$i(e,!!n,n?[]:"",!1));return;case"textarea":d=p=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:We(e,t,o,null,r,a)}for(i in r)if(a=r[i],s=n[i],r.hasOwnProperty(i)&&(a!=null||s!=null))switch(i){case"value":p=a;break;case"defaultValue":d=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(G(91));break;default:a!==s&&We(e,t,i,a,r,s)}J1(e,p,d);return;case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&p!=null&&!r.hasOwnProperty(m))switch(m){case"selected":e.selected=!1;break;default:We(e,t,m,null,r,p)}for(l in r)if(p=r[l],d=n[l],r.hasOwnProperty(l)&&p!==d&&(p!=null||d!=null))switch(l){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:We(e,t,l,p,r,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&We(e,t,g,null,r,p);for(u in r)if(p=r[u],d=n[u],r.hasOwnProperty(u)&&p!==d&&(p!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(G(137,t));break;default:We(e,t,u,p,r,d)}return;default:if(wg(t)){for(var x in n)p=n[x],n.hasOwnProperty(x)&&p!==void 0&&!r.hasOwnProperty(x)&&Em(e,t,x,void 0,r,p);for(f in r)p=r[f],d=n[f],!r.hasOwnProperty(f)||p===d||p===void 0&&d===void 0||Em(e,t,f,p,r,d);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&We(e,t,v,null,r,p);for(h in r)p=r[h],d=n[h],!r.hasOwnProperty(h)||p===d||p==null&&d==null||We(e,t,h,p,r,d)}function Xb(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iR(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],s=a.transferSize,i=a.initiatorType,o=a.duration;if(s&&o&&Xb(i)){for(i=0,o=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var f=l.transferSize,h=l.initiatorType;f&&Xb(h)&&(l=l.responseEnd,i+=f*(l<o?1:(o-u)/(l-u)))}if(--r,t+=8*(s+i)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Tm=null,Nm=null;function Xd(e){return e.nodeType===9?e:e.ownerDocument}function Wb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r2(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Rm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lp=null;function oR(){var e=window.event;return e&&e.type==="popstate"?e===lp?!1:(lp=e,!0):(lp=null,!1)}var a2=typeof setTimeout=="function"?setTimeout:void 0,lR=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,cR=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(e){return e0.resolve(null).then(e).catch(uR)}:a2;function uR(e){setTimeout(function(){throw e})}function cs(e){return e==="head"}function t0(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(a),bo(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Sl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Sl(n);for(var s=n.firstChild;s;){var i=s.nextSibling,o=s.nodeName;s[tc]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=i}}else n==="body"&&Sl(e.ownerDocument.body);n=a}while(n);bo(t)}function n0(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function km(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":km(n),Sg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function dR(e,t,n,r){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[tc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=ir(e.nextSibling),e===null)break}return null}function fR(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ir(e.nextSibling),e===null))return null;return e}function s2(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ir(e.nextSibling),e===null))return null;return e}function Om(e){return e.data==="$?"||e.data==="$~"}function Am(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hR(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Dm=null;function r0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ir(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function a0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function i2(e,t,n){switch(t=Xd(n),e){case"html":if(e=t.documentElement,!e)throw Error(G(452));return e;case"head":if(e=t.head,!e)throw Error(G(453));return e;case"body":if(e=t.body,!e)throw Error(G(454));return e;default:throw Error(G(451))}}function Sl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Sg(e)}var lr=new Map,s0=new Set;function Wd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fa=Ze.d;Ze.d={f:pR,r:mR,D:gR,C:yR,L:vR,m:bR,X:xR,S:_R,M:SR};function pR(){var e=fa.f(),t=Uf();return e||t}function mR(e){var t=Co(e);t!==null&&t.tag===5&&t.type==="form"?WS(t):fa.r(e)}var Ro=typeof document>"u"?null:document;function o2(e,t,n){var r=Ro;if(r&&typeof t=="string"&&t){var a=tr(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),s0.has(a)||(s0.add(a),e={rel:e,crossOrigin:n,href:t},r.querySelector(a)===null&&(t=r.createElement("link"),Xt(t,"link",e),Vt(t),r.head.appendChild(t)))}}function gR(e){fa.D(e),o2("dns-prefetch",e,null)}function yR(e,t){fa.C(e,t),o2("preconnect",e,t)}function vR(e,t,n){fa.L(e,t,n);var r=Ro;if(r&&e&&t){var a='link[rel="preload"][as="'+tr(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+tr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+tr(n.imageSizes)+'"]')):a+='[href="'+tr(e)+'"]';var s=a;switch(t){case"style":s=vo(e);break;case"script":s=ko(e)}lr.has(s)||(e=ft({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),lr.set(s,e),r.querySelector(a)!==null||t==="style"&&r.querySelector(oc(s))||t==="script"&&r.querySelector(lc(s))||(t=r.createElement("link"),Xt(t,"link",e),Vt(t),r.head.appendChild(t)))}}function bR(e,t){fa.m(e,t);var n=Ro;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+tr(r)+'"][href="'+tr(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ko(e)}if(!lr.has(s)&&(e=ft({rel:"modulepreload",href:e},t),lr.set(s,e),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(lc(s)))return}r=n.createElement("link"),Xt(r,"link",e),Vt(r),n.head.appendChild(r)}}}function _R(e,t,n){fa.S(e,t,n);var r=Ro;if(r&&e){var a=qi(r).hoistableStyles,s=vo(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(oc(s)))o.loading=5;else{e=ft({rel:"stylesheet",href:e,"data-precedence":t},n),(n=lr.get(s))&&oy(e,n);var l=i=r.createElement("link");Vt(l),Xt(l,"link",e),l._p=new Promise(function(u,f){l.onload=u,l.onerror=f}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,dd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}}function xR(e,t){fa.X(e,t);var n=Ro;if(n&&e){var r=qi(n).hoistableScripts,a=ko(e),s=r.get(a);s||(s=n.querySelector(lc(a)),s||(e=ft({src:e,async:!0},t),(t=lr.get(a))&&ly(e,t),s=n.createElement("script"),Vt(s),Xt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}function SR(e,t){fa.M(e,t);var n=Ro;if(n&&e){var r=qi(n).hoistableScripts,a=ko(e),s=r.get(a);s||(s=n.querySelector(lc(a)),s||(e=ft({src:e,async:!0,type:"module"},t),(t=lr.get(a))&&ly(e,t),s=n.createElement("script"),Vt(s),Xt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}function i0(e,t,n,r){var a=(a=Za.current)?Wd(a):null;if(!a)throw Error(G(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=vo(n.href),n=qi(a).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=vo(n.href);var s=qi(a).hoistableStyles,i=s.get(e);if(i||(a=a.ownerDocument||a,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,i),(s=a.querySelector(oc(e)))&&!s._p&&(i.instance=s,i.state.loading=5),lr.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},lr.set(e,n),s||wR(a,e,n,i.state))),t&&r===null)throw Error(G(528,""));return i}if(t&&r!==null)throw Error(G(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ko(n),n=qi(a).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(G(444,e))}}function vo(e){return'href="'+tr(e)+'"'}function oc(e){return'link[rel="stylesheet"]['+e+"]"}function l2(e){return ft({},e,{"data-precedence":e.precedence,precedence:null})}function wR(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Xt(t,"link",n),Vt(t),e.head.appendChild(t))}function ko(e){return'[src="'+tr(e)+'"]'}function lc(e){return"script[async]"+e}function o0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+tr(n.href)+'"]');if(r)return t.instance=r,Vt(r),r;var a=ft({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Vt(r),Xt(r,"style",a),dd(r,n.precedence,e),t.instance=r;case"stylesheet":a=vo(n.href);var s=e.querySelector(oc(a));if(s)return t.state.loading|=4,t.instance=s,Vt(s),s;r=l2(n),(a=lr.get(a))&&oy(r,a),s=(e.ownerDocument||e).createElement("link"),Vt(s);var i=s;return i._p=new Promise(function(o,l){i.onload=o,i.onerror=l}),Xt(s,"link",r),t.state.loading|=4,dd(s,n.precedence,e),t.instance=s;case"script":return s=ko(n.src),(a=e.querySelector(lc(s)))?(t.instance=a,Vt(a),a):(r=n,(a=lr.get(s))&&(r=ft({},n),ly(r,a)),e=e.ownerDocument||e,a=e.createElement("script"),Vt(a),Xt(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(G(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,dd(r,n.precedence,e));return t.instance}function dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function oy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ly(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var fd=null;function l0(e,t,n){if(fd===null){var r=new Map,a=fd=new Map;a.set(n,r)}else a=fd,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[tc]||s[Yt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var i=s.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(s):r.set(i,[s])}}return r}function c0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function jR(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function c2(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function CR(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=vo(r.href),s=t.querySelector(oc(a));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ef.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Vt(s);return}s=t.ownerDocument||t,r=l2(r),(a=lr.get(a))&&oy(r,a),s=s.createElement("link"),Vt(s);var i=s;i._p=new Promise(function(o,l){i.onload=o,i.onerror=l}),Xt(s,"link",r),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ef.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var cp=0;function ER(e,t){return e.stylesheets&&e.count===0&&hd(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&hd(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&cp===0&&(cp=62500*iR());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hd(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>cp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}function ef(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tf=null;function hd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tf=new Map,t.forEach(TR,e),tf=null,ef.call(e))}function TR(e,t){if(!(t.state.loading&4)){var n=tf.get(e);if(n)var r=n.get(null);else{n=new Map,tf.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}a=t.instance,i=a.getAttribute("data-precedence"),s=n.get(i)||r,s===r&&n.set(null,a),n.set(i,a),this.count++,r=ef.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var ql={$$typeof:Gr,Provider:null,Consumer:null,_currentValue:Bs,_currentValue2:Bs,_threadCount:0};function NR(e,t,n,r,a,s,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ah(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.hiddenUpdates=Ah(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function u2(e,t,n,r,a,s,i,o,l,u,f,h){return e=new NR(e,t,n,i,l,u,f,h,o),t=1,s===!0&&(t|=24),s=Mn(3,null,null,t),e.current=s,s.stateNode=e,t=Mg(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Pg(s),e}function d2(e){return e?(e=Di,e):Di}function f2(e,t,n,r,a,s){a=d2(a),r.context===null?r.context=a:r.pendingContext=a,r=Qa(t),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Ya(e,r,t),n!==null&&(jn(n,e,t),pl(n,e,t))}function u0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cy(e,t){u0(e,t),(e=e.alternate)&&u0(e,t)}function h2(e){if(e.tag===13||e.tag===31){var t=li(e,67108864);t!==null&&jn(t,e,67108864),cy(e,67108864)}}function d0(e){if(e.tag===13||e.tag===31){var t=Hn();t=_g(t);var n=li(e,t);n!==null&&jn(n,e,t),cy(e,t)}}var nf=!0;function RR(e,t,n,r){var a=je.T;je.T=null;var s=Ze.p;try{Ze.p=2,uy(e,t,n,r)}finally{Ze.p=s,je.T=a}}function kR(e,t,n,r){var a=je.T;je.T=null;var s=Ze.p;try{Ze.p=8,uy(e,t,n,r)}finally{Ze.p=s,je.T=a}}function uy(e,t,n,r){if(nf){var a=Mm(r);if(a===null)op(e,t,r,rf,n),f0(e,r);else if(AR(a,e,t,n,r))r.stopPropagation();else if(f0(e,r),t&4&&-1<OR.indexOf(e)){for(;a!==null;){var s=Co(a);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var i=Cs(s.pendingLanes);if(i!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-$n(i);o.entanglements[1]|=l,i&=~l}Lr(s),!(Ve&6)&&(Zd=Un()+500,ic(0))}}break;case 31:case 13:o=li(s,2),o!==null&&jn(o,s,2),Uf(),cy(s,2)}if(s=Mm(r),s===null&&op(e,t,r,rf,n),s===a)break;a=s}a!==null&&r.stopPropagation()}else op(e,t,r,null,n)}}function Mm(e){return e=jg(e),dy(e)}var rf=null;function dy(e){if(rf=null,e=Ti(e),e!==null){var t=Jl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=D1(t),e!==null)return e;e=null}else if(n===31){if(e=M1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return rf=e,null}function p2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gT()){case U1:return 2;case q1:return 8;case Ad:case yT:return 32;case $1:return 268435456;default:return 32}default:return 32}}var zm=!1,Xa=null,Wa=null,es=null,$l=new Map,Hl=new Map,Ca=[],OR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(e,t){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":$l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(t.pointerId)}}function Zo(e,t,n,r,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Co(t),t!==null&&h2(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function AR(e,t,n,r,a){switch(t){case"focusin":return Xa=Zo(Xa,e,t,n,r,a),!0;case"dragenter":return Wa=Zo(Wa,e,t,n,r,a),!0;case"mouseover":return es=Zo(es,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return $l.set(s,Zo($l.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Hl.set(s,Zo(Hl.get(s)||null,e,t,n,r,a)),!0}return!1}function m2(e){var t=Ti(e.target);if(t!==null){var n=Jl(t);if(n!==null){if(t=n.tag,t===13){if(t=D1(n),t!==null){e.blockedOn=t,Gv(e.priority,function(){d0(n)});return}}else if(t===31){if(t=M1(n),t!==null){e.blockedOn=t,Gv(e.priority,function(){d0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mm(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wp=r,n.target.dispatchEvent(r),Wp=null}else return t=Co(n),t!==null&&h2(t),e.blockedOn=n,!1;t.shift()}return!0}function h0(e,t,n){pd(e)&&n.delete(t)}function DR(){zm=!1,Xa!==null&&pd(Xa)&&(Xa=null),Wa!==null&&pd(Wa)&&(Wa=null),es!==null&&pd(es)&&(es=null),$l.forEach(h0),Hl.forEach(h0)}function Vc(e,t){e.blockedOn===t&&(e.blockedOn=null,zm||(zm=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,DR)))}var Zc=null;function p0(e){Zc!==e&&(Zc=e,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,function(){Zc===e&&(Zc=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if(typeof r!="function"){if(dy(r||n)===null)continue;break}var s=Co(n);s!==null&&(e.splice(t,3),t-=3,mm(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function bo(e){function t(l){return Vc(l,e)}Xa!==null&&Vc(Xa,e),Wa!==null&&Vc(Wa,e),es!==null&&Vc(es,e),$l.forEach(t),Hl.forEach(t);for(var n=0;n<Ca.length;n++){var r=Ca[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ca.length&&(n=Ca[0],n.blockedOn===null);)m2(n),n.blockedOn===null&&Ca.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Cn]||null;if(typeof s=="function")i||p0(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Cn]||null)o=i.formAction;else if(dy(a)!==null)continue}else o=i.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),p0(n)}}}function g2(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(i){return a=i})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function fy(e){this._internalRoot=e}Hf.prototype.render=fy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));var n=t.current,r=Hn();f2(n,r,e,t,null,null)};Hf.prototype.unmount=fy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;f2(e.current,2,null,e,null,null),Uf(),t[jo]=null}};function Hf(e){this._internalRoot=e}Hf.prototype.unstable_scheduleHydration=function(e){if(e){var t=V1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ca.length&&t!==0&&t<Ca[n].priority;n++);Ca.splice(n,0,e),n===0&&m2(e)}};var m0=O1.version;if(m0!=="19.2.3")throw Error(G(527,m0,"19.2.3"));Ze.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=cT(t),e=e!==null?z1(e):null,e=e===null?null:e.stateNode,e};var MR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:je,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Xl=Kc.inject(MR),qn=Kc}catch{}}Cf.createRoot=function(e,t){if(!A1(e))throw Error(G(299));var n=!1,r="",a=ow,s=lw,i=cw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=u2(e,1,!1,null,null,n,r,null,a,s,i,g2),e[jo]=t.current,iy(e),new fy(t)};Cf.hydrateRoot=function(e,t,n){if(!A1(e))throw Error(G(299));var r=!1,a="",s=ow,i=lw,o=cw,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(i=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=u2(e,1,!0,t,n??null,r,a,l,s,i,o,g2),t.context=d2(null),n=t.current,r=Hn(),r=_g(r),a=Qa(r),a.callback=null,Ya(n,a,r),n=r,t.current.lanes=n,ec(t,n),Lr(t),e[jo]=t.current,iy(e),new Hf(t)};Cf.version="19.2.3";function y2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y2)}catch(e){console.error(e)}}y2(),N1.exports=Cf;var zR=N1.exports;const LR="modulepreload",PR=function(e){return"/"+e},g0={},Oo=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(n.map(l=>{if(l=PR(l),l in g0)return;g0[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":LR,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((p,d)=>{h.addEventListener("load",p),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function Ao(){return typeof window<"u"&&!!window.__TAURI_INTERNALS__}async function se(e,t){if(!Ao())return Promise.reject(new Error("TAURI_UNAVAILABLE"));const{invoke:n}=await Oo(async()=>{const{invoke:r}=await Promise.resolve().then(()=>t4);return{invoke:r}},void 0);return n(e,t)}async function ts(e,t){if(!Ao())return()=>{};const{listen:n}=await Oo(async()=>{const{listen:r}=await import("./event-D9GppfIe.js");return{listen:r}},[]);return n(e,t)}async function Lm(){if(!Ao())return null;const{getCurrentWindow:e}=await Oo(async()=>{const{getCurrentWindow:t}=await import("./window-DxoFJvmA.js");return{getCurrentWindow:t}},__vite__mapDeps([0,1]));return e()}const y0=e=>{let t;const n=new Set,r=(u,f)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(d=>d(t,p))}},a=()=>t,o={setState:r,getState:a,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,a,o);return o},UR=e=>e?y0(e):y0,qR=e=>e;function $R(e,t=qR){const n=pt.useSyncExternalStore(e.subscribe,pt.useCallback(()=>t(e.getState()),[e,t]),pt.useCallback(()=>t(e.getInitialState()),[e,t]));return pt.useDebugValue(n),n}const v0=e=>{const t=UR(e),n=r=>$R(t,r);return Object.assign(n,t),n},cc=e=>e?v0(e):v0,Wt=cc((e,t)=>({openDialogCount:0,openDialog:()=>e({openDialogCount:t().openDialogCount+1}),closeDialog:()=>e({openDialogCount:Math.max(0,t().openDialogCount-1)})}));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),b0=e=>{const t=BR(e);return t.charAt(0).toUpperCase()+t.slice(1)},v2=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),IR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:i,...o},l)=>T.createElement("svg",{ref:l,...FR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:v2("lucide",a),...!s&&!IR(o)&&{"aria-hidden":"true"},...o},[...i.map(([u,f])=>T.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const n=T.forwardRef(({className:r,...a},s)=>T.createElement(VR,{ref:s,iconNode:t,className:v2(`lucide-${HR(b0(e))}`,`lucide-${e}`,r),...a}));return n.displayName=b0(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],KR=Ue("activity",ZR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M13.67 8H18a2 2 0 0 1 2 2v4.33",key:"7az073"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M22 22 2 2",key:"1r8tn9"}],["path",{d:"M8 8H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 1.414-.586",key:"s09a7a"}],["path",{d:"M9 13v2",key:"rq6x2g"}],["path",{d:"M9.67 4H12v2.33",key:"110xot"}]],YR=Ue("bot-off",QR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],hy=Ue("bot",GR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],XR=Ue("calendar",JR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],py=Ue("check",WR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tk=Ue("chevron-down",ek);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rk=Ue("chevron-left",nk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],b2=Ue("chevron-right",ak);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],af=Ue("circle-check",sk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ok=Ue("circle-play",ik);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pm=Ue("circle",lk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bf=Ue("clock",ck);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],dk=Ue("copy",uk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_2=Ue("external-link",fk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pk=Ue("eye",hk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],gk=Ue("file-check",mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vk=Ue("file-text",yk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],_k=Ue("folder",bk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Sk=Ue("funnel",xk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],da=Ue("loader-circle",wk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Ck=Ue("monitor",jk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Um=Ue("play",Ek);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nk=Ue("plus",Tk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kk=Ue("power-off",Rk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Ak=Ue("power",Ok);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],x2=Ue("rocket",Dk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zk=Ue("search",Mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pk=Ue("settings",Lk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qk=Ue("sparkles",Uk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],S2=Ue("target",$k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Bk=Ue("timer",Hk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fk=Ue("trash-2",Ik);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zk=Ue("triangle-alert",Vk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qk=Ue("user",Kk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ni=Ue("x",Yk),qm=cc((e,t)=>({notification:null,notifiedTaskIds:new Set,showNotification:n=>{t().notifiedTaskIds.has(n.taskId)||e({notification:n,notifiedTaskIds:new Set([...t().notifiedTaskIds,n.taskId])})},dismissNotification:()=>e({notification:null}),clearNotifiedTask:n=>{const r=new Set(t().notifiedTaskIds);r.delete(n),e({notifiedTaskIds:r})}}));function Gk(){const e=cr(),t=qm(m=>m.notification),n=qm(m=>m.dismissNotification),r=Wt(m=>m.openDialog),a=Wt(m=>m.closeDialog),[s,i]=T.useState(!1),[o,l]=T.useState(null);T.useEffect(()=>{if(t)return r(),()=>a()},[t,r,a]);const u=T.useCallback(()=>{n()},[n]),f=T.useCallback(()=>{t&&(u(),e({to:"/tasks/$taskId",params:{taskId:t.taskId}}))},[t,u,e]),h=T.useCallback(async()=>{if(!(!t||s)){i(!0),l("execute_all");try{await se("launch_task_execute_all",{projectId:t.projectId,taskId:t.taskId}),u(),e({to:"/tasks/$taskId",params:{taskId:t.taskId}})}catch(m){console.error("Failed to launch execute all:",m)}finally{i(!1),l(null)}}},[t,s,u,e]),p=T.useCallback(async()=>{if(!(!t||s)){i(!0),l("execute_subtask");try{const m=`${t.taskId}:sub-001`;await se("launch_task_execute_subtask",{projectId:t.projectId,taskId:t.taskId,subtaskId:m}),u(),e({to:"/tasks/$taskId",params:{taskId:t.taskId}})}catch(m){console.error("Failed to launch execute subtask:",m)}finally{i(!1),l(null)}}},[t,s,u,e]),d=T.useCallback(async()=>{if(!(!t||s)){i(!0),l("review");try{await se("launch_task_review",{projectId:t.projectId,taskId:t.taskId}),u(),e({to:"/tasks/$taskId",params:{taskId:t.taskId}})}catch(m){console.error("Failed to launch review:",m)}finally{i(!1),l(null)}}},[t,s,u,e]);return T.useEffect(()=>{if(!t)return;function m(g){g.key==="Escape"&&u()}return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[t,u]),t?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:u,role:"button",tabIndex:-1,"aria-label":"Fechar modal",onKeyDown:m=>m.key==="Escape"&&u()}),c.jsxs("div",{className:"relative bg-[#1c1c1c] border border-[#3d3a34] max-w-lg w-full mx-4 overflow-hidden animate-modal-in",children:[c.jsx(Jk,{subtaskCount:t.subtaskCount,onClose:u}),c.jsx(Xk,{taskTitle:t.taskTitle}),c.jsx(Wk,{isLaunching:s,launchingAction:o,onExecuteAll:h,onExecuteFirstSubtask:p,onReview:d,onViewTask:f})]})]}):null}function Jk({subtaskCount:e,onClose:t}){return c.jsx("div",{className:"px-5 py-4 border-b border-[#3d3a34] bg-gradient-to-r from-[#909d63]/10 via-transparent to-transparent",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-[#909d63]/20 flex items-center justify-center",children:c.jsx(py,{size:20,color:"#909d63"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-[#d6d6d6] text-base font-medium",children:"Estruturao Concluda"}),c.jsxs("p",{className:"text-[#636363] text-sm mt-0.5",children:[e," subtasks criadas"]})]}),c.jsx("button",{onClick:t,className:"ml-auto text-[#636363] hover:text-[#d6d6d6] transition-colors p-1","aria-label":"Fechar",children:c.jsx(ni,{size:18})})]})})}function Xk({taskTitle:e}){return c.jsxs("div",{className:"px-5 py-4",children:[c.jsx("p",{className:"text-[#d6d6d6] text-sm mb-1",children:"Task estruturada:"}),c.jsx("p",{className:"text-[#909d63] font-medium truncate",children:e})]})}function Wk({isLaunching:e,launchingAction:t,onExecuteAll:n,onExecuteFirstSubtask:r,onReview:a,onViewTask:s}){return c.jsxs("div",{className:"px-5 pb-5",children:[c.jsx("p",{className:"text-[#636363] text-xs uppercase tracking-wider mb-3",children:"Prxima ao"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Qc,{onClick:n,disabled:e,isLoading:t==="execute_all",loadingColor:"#909d63",hoverBorderColor:"hover:border-[#909d63]",hoverBgColor:"hover:bg-[#909d63]/10",hoverTextColor:"group-hover:text-[#909d63]",icon:c.jsx(x2,{size:24}),label:"Executar Tudo"}),c.jsx(Qc,{onClick:r,disabled:e,isLoading:t==="execute_subtask",loadingColor:"#61afef",hoverBorderColor:"hover:border-[#61afef]",hoverBgColor:"hover:bg-[#61afef]/10",hoverTextColor:"group-hover:text-[#61afef]",icon:c.jsx(S2,{size:24}),label:"Executar Subtask"}),c.jsx(Qc,{onClick:a,disabled:e,isLoading:t==="review",loadingColor:"#e5c07b",hoverBorderColor:"hover:border-[#e5c07b]",hoverBgColor:"hover:bg-[#e5c07b]/10",hoverTextColor:"group-hover:text-[#e5c07b]",icon:c.jsx(pk,{size:24}),label:"Revisar"}),c.jsx(Qc,{onClick:s,disabled:e,isLoading:!1,loadingColor:"#636363",hoverBorderColor:"hover:border-[#636363]",hoverBgColor:"hover:bg-[#2a2a2a]",hoverTextColor:"group-hover:text-[#d6d6d6]",icon:c.jsx(qk,{size:24}),label:"Editar Manualmente"})]})]})}function Qc({onClick:e,disabled:t,isLoading:n,loadingColor:r,hoverBorderColor:a,hoverBgColor:s,hoverTextColor:i,icon:o,label:l}){return c.jsxs("button",{onClick:e,disabled:t,className:`flex flex-col items-center gap-2 p-4 rounded-lg border border-[#3d3a34] bg-[#232323] ${a} ${s} transition-all group disabled:opacity-50 disabled:cursor-not-allowed`,children:[n?c.jsx(da,{size:24,color:r,className:"animate-spin"}):c.jsx("span",{className:`text-[#636363] ${i} transition-colors`,children:o}),c.jsx("span",{className:`text-sm text-[#d6d6d6] ${i} transition-colors`,children:l})]})}const eO=({onSseError:e,onSseEvent:t,responseTransformer:n,responseValidator:r,sseDefaultRetryDelay:a,sseMaxRetryAttempts:s,sseMaxRetryDelay:i,sseSleepFn:o,url:l,...u})=>{let f;const h=o??(m=>new Promise(g=>setTimeout(g,m)));return{stream:async function*(){let m=a??3e3,g=0;const x=u.signal??new AbortController().signal;for(;!x.aborted;){g++;const v=u.headers instanceof Headers?u.headers:new Headers(u.headers);f!==void 0&&v.set("Last-Event-ID",f);try{const y=await fetch(l,{...u,headers:v,signal:x});if(!y.ok)throw new Error(`SSE failed: ${y.status} ${y.statusText}`);if(!y.body)throw new Error("No body in SSE response");const b=y.body.pipeThrough(new TextDecoderStream).getReader();let S="";const j=()=>{try{b.cancel()}catch{}};x.addEventListener("abort",j);try{for(;;){const{done:M,value:E}=await b.read();if(M)break;S+=E;const q=S.split(`

`);S=q.pop()??"";for(const L of q){const N=L.split(`
`),k=[];let P;for(const Y of N)if(Y.startsWith("data:"))k.push(Y.replace(/^data:\s*/,""));else if(Y.startsWith("event:"))P=Y.replace(/^event:\s*/,"");else if(Y.startsWith("id:"))f=Y.replace(/^id:\s*/,"");else if(Y.startsWith("retry:")){const U=Number.parseInt(Y.replace(/^retry:\s*/,""),10);Number.isNaN(U)||(m=U)}let F,W=!1;if(k.length){const Y=k.join(`
`);try{F=JSON.parse(Y),W=!0}catch{F=Y}}W&&(r&&await r(F),n&&(F=await n(F))),t==null||t({data:F,event:P,id:f,retry:m}),k.length&&(yield F)}}}finally{x.removeEventListener("abort",j),b.releaseLock()}break}catch(y){if(e==null||e(y),s!==void 0&&g>=s)break;const b=Math.min(m*2**(g-1),i??3e4);await h(b)}}}()}},tO=async(e,t)=>{const n=typeof t=="function"?await t(e):t;if(n)return e.scheme==="bearer"?`Bearer ${n}`:e.scheme==="basic"?`Basic ${btoa(n)}`:n},nO={bodySerializer:e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString():n)},rO=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},aO=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},sO=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},w2=({allowReserved:e,explode:t,name:n,style:r,value:a})=>{if(!t){const o=(e?a:a.map(l=>encodeURIComponent(l))).join(aO(r));switch(r){case"label":return`.${o}`;case"matrix":return`;${n}=${o}`;case"simple":return o;default:return`${n}=${o}`}}const s=rO(r),i=a.map(o=>r==="label"||r==="simple"?e?o:encodeURIComponent(o):If({allowReserved:e,name:n,value:o})).join(s);return r==="label"||r==="matrix"?s+i:i},If=({allowReserved:e,name:t,value:n})=>{if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?n:encodeURIComponent(n)}`},j2=({allowReserved:e,explode:t,name:n,style:r,value:a,valueOnly:s})=>{if(a instanceof Date)return s?a.toISOString():`${n}=${a.toISOString()}`;if(r!=="deepObject"&&!t){let l=[];Object.entries(a).forEach(([f,h])=>{l=[...l,f,e?h:encodeURIComponent(h)]});const u=l.join(",");switch(r){case"form":return`${n}=${u}`;case"label":return`.${u}`;case"matrix":return`;${n}=${u}`;default:return u}}const i=sO(r),o=Object.entries(a).map(([l,u])=>If({allowReserved:e,name:r==="deepObject"?`${n}[${l}]`:l,value:u})).join(i);return r==="label"||r==="matrix"?i+o:o},iO=/\{[^{}]+\}/g,oO=({path:e,url:t})=>{let n=t;const r=t.match(iO);if(r)for(const a of r){let s=!1,i=a.substring(1,a.length-1),o="simple";i.endsWith("*")&&(s=!0,i=i.substring(0,i.length-1)),i.startsWith(".")?(i=i.substring(1),o="label"):i.startsWith(";")&&(i=i.substring(1),o="matrix");const l=e[i];if(l==null)continue;if(Array.isArray(l)){n=n.replace(a,w2({explode:s,name:i,style:o,value:l}));continue}if(typeof l=="object"){n=n.replace(a,j2({explode:s,name:i,style:o,value:l,valueOnly:!0}));continue}if(o==="matrix"){n=n.replace(a,`;${If({name:i,value:l})}`);continue}const u=encodeURIComponent(o==="label"?`.${l}`:l);n=n.replace(a,u)}return n},lO=({baseUrl:e,path:t,query:n,querySerializer:r,url:a})=>{const s=a.startsWith("/")?a:`/${a}`;let i=(e??"")+s;t&&(i=oO({path:t,url:i}));let o=n?r(n):"";return o.startsWith("?")&&(o=o.substring(1)),o&&(i+=`?${o}`),i},C2=({allowReserved:e,array:t,object:n}={})=>a=>{const s=[];if(a&&typeof a=="object")for(const i in a){const o=a[i];if(o!=null)if(Array.isArray(o)){const l=w2({allowReserved:e,explode:!0,name:i,style:"form",value:o,...t});l&&s.push(l)}else if(typeof o=="object"){const l=j2({allowReserved:e,explode:!0,name:i,style:"deepObject",value:o,...n});l&&s.push(l)}else{const l=If({allowReserved:e,name:i,value:o});l&&s.push(l)}}return s.join("&")},cO=e=>{var n;if(!e)return"stream";const t=(n=e.split(";")[0])==null?void 0:n.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if(t==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(r=>t.startsWith(r)))return"blob";if(t.startsWith("text/"))return"text"}},uO=(e,t)=>{var n,r;return t?!!(e.headers.has(t)||(n=e.query)!=null&&n[t]||(r=e.headers.get("Cookie"))!=null&&r.includes(`${t}=`)):!1},dO=async({security:e,...t})=>{for(const n of e){if(uO(t,n.name))continue;const r=await tO(n,t.auth);if(!r)continue;const a=n.name??"Authorization";switch(n.in){case"query":t.query||(t.query={}),t.query[a]=r;break;case"cookie":t.headers.append("Cookie",`${a}=${r}`);break;case"header":default:t.headers.set(a,r);break}}},_0=e=>lO({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:C2(e.querySerializer),url:e.url}),x0=(e,t)=>{var r;const n={...e,...t};return(r=n.baseUrl)!=null&&r.endsWith("/")&&(n.baseUrl=n.baseUrl.substring(0,n.baseUrl.length-1)),n.headers=E2(e.headers,t.headers),n},E2=(...e)=>{const t=new Headers;for(const n of e){if(!n||typeof n!="object")continue;const r=n instanceof Headers?n.entries():Object.entries(n);for(const[a,s]of r)if(s===null)t.delete(a);else if(Array.isArray(s))for(const i of s)t.append(a,i);else s!==void 0&&t.set(a,typeof s=="object"?JSON.stringify(s):s)}return t};class up{constructor(){ze(this,"_fns");this._fns=[]}clear(){this._fns=[]}getInterceptorIndex(t){return typeof t=="number"?this._fns[t]?t:-1:this._fns.indexOf(t)}exists(t){const n=this.getInterceptorIndex(t);return!!this._fns[n]}eject(t){const n=this.getInterceptorIndex(t);this._fns[n]&&(this._fns[n]=null)}update(t,n){const r=this.getInterceptorIndex(t);return this._fns[r]?(this._fns[r]=n,t):!1}use(t){return this._fns=[...this._fns,t],this._fns.length-1}}const fO=()=>({error:new up,request:new up,response:new up}),hO=C2({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),pO={"Content-Type":"application/json"},T2=(e={})=>({...nO,headers:pO,parseAs:"auto",querySerializer:hO,...e}),N2=(e={})=>{let t=x0(T2(),e);const n=()=>({...t}),r=l=>(t=x0(t,l),n()),a=fO(),s=async l=>{const u={...t,...l,fetch:l.fetch??t.fetch??globalThis.fetch,headers:E2(t.headers,l.headers),serializedBody:void 0};u.security&&await dO({...u,security:u.security}),u.requestValidator&&await u.requestValidator(u),u.body&&u.bodySerializer&&(u.serializedBody=u.bodySerializer(u.body)),(u.serializedBody===void 0||u.serializedBody==="")&&u.headers.delete("Content-Type");const f=_0(u);return{opts:u,url:f}},i=async l=>{const{opts:u,url:f}=await s(l),h={redirect:"follow",...u,body:u.serializedBody};let p=new Request(f,h);for(const S of a.request._fns)S&&(p=await S(p,u));const d=u.fetch;let m=await d(p);for(const S of a.response._fns)S&&(m=await S(m,p,u));const g={request:p,response:m};if(m.ok){if(m.status===204||m.headers.get("Content-Length")==="0")return u.responseStyle==="data"?{}:{data:{},...g};const S=(u.parseAs==="auto"?cO(m.headers.get("Content-Type")):u.parseAs)??"json";let j;switch(S){case"arrayBuffer":case"blob":case"formData":case"json":case"text":j=await m[S]();break;case"stream":return u.responseStyle==="data"?m.body:{data:m.body,...g}}return S==="json"&&(u.responseValidator&&await u.responseValidator(j),u.responseTransformer&&(j=await u.responseTransformer(j))),u.responseStyle==="data"?j:{data:j,...g}}const x=await m.text();let v;try{v=JSON.parse(x)}catch{}const y=v??x;let b=y;for(const S of a.error._fns)S&&(b=await S(y,m,p,u));if(b=b||{},u.throwOnError)throw b;return u.responseStyle==="data"?void 0:{error:b,...g}},o=l=>{const u=f=>i({...f,method:l});return u.sse=async f=>{const{opts:h,url:p}=await s(f);return eO({...h,body:h.body,headers:h.headers,method:l,url:p})},u};return{buildUrl:_0,connect:o("CONNECT"),delete:o("DELETE"),get:o("GET"),getConfig:n,head:o("HEAD"),interceptors:a,options:o("OPTIONS"),patch:o("PATCH"),post:o("POST"),put:o("PUT"),request:i,setConfig:r,trace:o("TRACE")}},mO=N2(T2({baseUrl:"http://localhost:4096"}));class vt{constructor(t){ze(this,"_client",mO);t!=null&&t.client&&(this._client=t.client)}}class gO extends vt{event(t){return((t==null?void 0:t.client)??this._client).get.sse({url:"/global/event",...t})}}class yO extends vt{list(t){return((t==null?void 0:t.client)??this._client).get({url:"/project",...t})}current(t){return((t==null?void 0:t.client)??this._client).get({url:"/project/current",...t})}}class vO extends vt{list(t){return((t==null?void 0:t.client)??this._client).get({url:"/pty",...t})}create(t){return((t==null?void 0:t.client)??this._client).post({url:"/pty",...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}})}remove(t){return(t.client??this._client).delete({url:"/pty/{id}",...t})}get(t){return(t.client??this._client).get({url:"/pty/{id}",...t})}update(t){return(t.client??this._client).put({url:"/pty/{id}",...t,headers:{"Content-Type":"application/json",...t.headers}})}connect(t){return(t.client??this._client).get({url:"/pty/{id}/connect",...t})}}class bO extends vt{get(t){return((t==null?void 0:t.client)??this._client).get({url:"/config",...t})}update(t){return((t==null?void 0:t.client)??this._client).patch({url:"/config",...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}})}providers(t){return((t==null?void 0:t.client)??this._client).get({url:"/config/providers",...t})}}class _O extends vt{ids(t){return((t==null?void 0:t.client)??this._client).get({url:"/experimental/tool/ids",...t})}list(t){return(t.client??this._client).get({url:"/experimental/tool",...t})}}class xO extends vt{dispose(t){return((t==null?void 0:t.client)??this._client).post({url:"/instance/dispose",...t})}}class SO extends vt{get(t){return((t==null?void 0:t.client)??this._client).get({url:"/path",...t})}}class wO extends vt{get(t){return((t==null?void 0:t.client)??this._client).get({url:"/vcs",...t})}}class jO extends vt{list(t){return((t==null?void 0:t.client)??this._client).get({url:"/session",...t})}create(t){return((t==null?void 0:t.client)??this._client).post({url:"/session",...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}})}status(t){return((t==null?void 0:t.client)??this._client).get({url:"/session/status",...t})}delete(t){return(t.client??this._client).delete({url:"/session/{id}",...t})}get(t){return(t.client??this._client).get({url:"/session/{id}",...t})}update(t){return(t.client??this._client).patch({url:"/session/{id}",...t,headers:{"Content-Type":"application/json",...t.headers}})}children(t){return(t.client??this._client).get({url:"/session/{id}/children",...t})}todo(t){return(t.client??this._client).get({url:"/session/{id}/todo",...t})}init(t){return(t.client??this._client).post({url:"/session/{id}/init",...t,headers:{"Content-Type":"application/json",...t.headers}})}fork(t){return(t.client??this._client).post({url:"/session/{id}/fork",...t,headers:{"Content-Type":"application/json",...t.headers}})}abort(t){return(t.client??this._client).post({url:"/session/{id}/abort",...t})}unshare(t){return(t.client??this._client).delete({url:"/session/{id}/share",...t})}share(t){return(t.client??this._client).post({url:"/session/{id}/share",...t})}diff(t){return(t.client??this._client).get({url:"/session/{id}/diff",...t})}summarize(t){return(t.client??this._client).post({url:"/session/{id}/summarize",...t,headers:{"Content-Type":"application/json",...t.headers}})}messages(t){return(t.client??this._client).get({url:"/session/{id}/message",...t})}prompt(t){return(t.client??this._client).post({url:"/session/{id}/message",...t,headers:{"Content-Type":"application/json",...t.headers}})}message(t){return(t.client??this._client).get({url:"/session/{id}/message/{messageID}",...t})}promptAsync(t){return(t.client??this._client).post({url:"/session/{id}/prompt_async",...t,headers:{"Content-Type":"application/json",...t.headers}})}command(t){return(t.client??this._client).post({url:"/session/{id}/command",...t,headers:{"Content-Type":"application/json",...t.headers}})}shell(t){return(t.client??this._client).post({url:"/session/{id}/shell",...t,headers:{"Content-Type":"application/json",...t.headers}})}revert(t){return(t.client??this._client).post({url:"/session/{id}/revert",...t,headers:{"Content-Type":"application/json",...t.headers}})}unrevert(t){return(t.client??this._client).post({url:"/session/{id}/unrevert",...t})}}class CO extends vt{list(t){return((t==null?void 0:t.client)??this._client).get({url:"/command",...t})}}class EO extends vt{authorize(t){return(t.client??this._client).post({url:"/provider/{id}/oauth/authorize",...t,headers:{"Content-Type":"application/json",...t.headers}})}callback(t){return(t.client??this._client).post({url:"/provider/{id}/oauth/callback",...t,headers:{"Content-Type":"application/json",...t.headers}})}}class TO extends vt{constructor(){super(...arguments);ze(this,"oauth",new EO({client:this._client}))}list(n){return((n==null?void 0:n.client)??this._client).get({url:"/provider",...n})}auth(n){return((n==null?void 0:n.client)??this._client).get({url:"/provider/auth",...n})}}class NO extends vt{text(t){return(t.client??this._client).get({url:"/find",...t})}files(t){return(t.client??this._client).get({url:"/find/file",...t})}symbols(t){return(t.client??this._client).get({url:"/find/symbol",...t})}}class RO extends vt{list(t){return(t.client??this._client).get({url:"/file",...t})}read(t){return(t.client??this._client).get({url:"/file/content",...t})}status(t){return((t==null?void 0:t.client)??this._client).get({url:"/file/status",...t})}}class kO extends vt{log(t){return((t==null?void 0:t.client)??this._client).post({url:"/log",...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}})}agents(t){return((t==null?void 0:t.client)??this._client).get({url:"/agent",...t})}}class R2 extends vt{remove(t){return(t.client??this._client).delete({url:"/mcp/{name}/auth",...t})}start(t){return(t.client??this._client).post({url:"/mcp/{name}/auth",...t})}callback(t){return(t.client??this._client).post({url:"/mcp/{name}/auth/callback",...t,headers:{"Content-Type":"application/json",...t.headers}})}authenticate(t){return(t.client??this._client).post({url:"/mcp/{name}/auth/authenticate",...t})}set(t){return(t.client??this._client).put({url:"/auth/{id}",...t,headers:{"Content-Type":"application/json",...t.headers}})}}class OO extends vt{constructor(){super(...arguments);ze(this,"auth",new R2({client:this._client}))}status(n){return((n==null?void 0:n.client)??this._client).get({url:"/mcp",...n})}add(n){return((n==null?void 0:n.client)??this._client).post({url:"/mcp",...n,headers:{"Content-Type":"application/json",...n==null?void 0:n.headers}})}connect(n){return(n.client??this._client).post({url:"/mcp/{name}/connect",...n})}disconnect(n){return(n.client??this._client).post({url:"/mcp/{name}/disconnect",...n})}}class AO extends vt{status(t){return((t==null?void 0:t.client)??this._client).get({url:"/lsp",...t})}}class DO extends vt{status(t){return((t==null?void 0:t.client)??this._client).get({url:"/formatter",...t})}}class MO extends vt{next(t){return((t==null?void 0:t.client)??this._client).get({url:"/tui/control/next",...t})}response(t){return((t==null?void 0:t.client)??this._client).post({url:"/tui/control/response",...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}})}}class zO extends vt{constructor(){super(...arguments);ze(this,"control",new MO({client:this._client}))}appendPrompt(n){return((n==null?void 0:n.client)??this._client).post({url:"/tui/append-prompt",...n,headers:{"Content-Type":"application/json",...n==null?void 0:n.headers}})}openHelp(n){return((n==null?void 0:n.client)??this._client).post({url:"/tui/open-help",...n})}openSessions(n){return((n==null?void 0:n.client)??this._client).post({url:"/tui/open-sessions",...n})}openThemes(n){return((n==null?void 0:n.client)??this._client).post({url:"/tui/open-themes",...n})}openModels(n){return((n==null?void 0:n.client)??this._client).post({url:"/tui/open-models",...n})}submitPrompt(n){return((n==null?void 0:n.client)??this._client).post({url:"/tui/submit-prompt",...n})}clearPrompt(n){return((n==null?void 0:n.client)??this._client).post({url:"/tui/clear-prompt",...n})}executeCommand(n){return((n==null?void 0:n.client)??this._client).post({url:"/tui/execute-command",...n,headers:{"Content-Type":"application/json",...n==null?void 0:n.headers}})}showToast(n){return((n==null?void 0:n.client)??this._client).post({url:"/tui/show-toast",...n,headers:{"Content-Type":"application/json",...n==null?void 0:n.headers}})}publish(n){return((n==null?void 0:n.client)??this._client).post({url:"/tui/publish",...n,headers:{"Content-Type":"application/json",...n==null?void 0:n.headers}})}}let LO=class extends vt{subscribe(t){return((t==null?void 0:t.client)??this._client).get.sse({url:"/event",...t})}};class PO extends vt{constructor(){super(...arguments);ze(this,"global",new gO({client:this._client}));ze(this,"project",new yO({client:this._client}));ze(this,"pty",new vO({client:this._client}));ze(this,"config",new bO({client:this._client}));ze(this,"tool",new _O({client:this._client}));ze(this,"instance",new xO({client:this._client}));ze(this,"path",new SO({client:this._client}));ze(this,"vcs",new wO({client:this._client}));ze(this,"session",new jO({client:this._client}));ze(this,"command",new CO({client:this._client}));ze(this,"provider",new TO({client:this._client}));ze(this,"find",new NO({client:this._client}));ze(this,"file",new RO({client:this._client}));ze(this,"app",new kO({client:this._client}));ze(this,"mcp",new OO({client:this._client}));ze(this,"lsp",new AO({client:this._client}));ze(this,"formatter",new DO({client:this._client}));ze(this,"tui",new zO({client:this._client}));ze(this,"auth",new R2({client:this._client}));ze(this,"event",new LO({client:this._client}))}postSessionIdPermissionsPermissionId(n){return(n.client??this._client).post({url:"/session/{id}/permissions/{permissionID}",...n,headers:{"Content-Type":"application/json",...n.headers}})}}function my(e){e!=null&&e.fetch||(e={...e,fetch:r=>(r.timeout=!1,fetch(r))}),e!=null&&e.directory&&(e.headers={...e.headers,"x-opencode-directory":e.directory});const t=N2(e);return new PO({client:t})}class UO{constructor(){ze(this,"client",null);ze(this,"abortController",null);ze(this,"isListening",!1);ze(this,"eventCallbacks",new Map);ze(this,"connectionCallbacks",new Set);ze(this,"errorCallbacks",new Set);ze(this,"reconnectAttempts",0);ze(this,"maxReconnectAttempts",5);ze(this,"reconnectDelay",1e3)}async init(){try{return this.client=my({baseUrl:"http://localhost:4096"}),this.notifyConnection(!0),this.notifyError(null),this.reconnectAttempts=0,console.log("[OpenCode] Client initialized successfully"),!0}catch(t){const n=t instanceof Error?t.message:"Unknown error";return console.error("[OpenCode] Failed to initialize client:",n),this.notifyConnection(!1),this.notifyError(n),!1}}async startListening(){var t;if(this.isListening||!this.client){console.log("[OpenCode] Already listening or client not initialized");return}this.isListening=!0,this.abortController=new AbortController,console.log("[OpenCode] Starting event listener...");try{const n=await this.client.global.event({signal:this.abortController.signal});for await(const r of n.stream){const a=r;this.handleEvent(a.payload,a.directory)}}catch(n){const r=n instanceof Error?n.message:"Unknown error";if(r.includes("abort")||(t=this.abortController)!=null&&t.signal.aborted){console.log("[OpenCode] Stream aborted");return}console.error("[OpenCode] Stream error:",r),this.notifyConnection(!1),this.notifyError(r),this.attemptReconnect()}finally{this.isListening=!1}}handleEvent(t,n){console.log("[OpenCode] Event received:",t.type,"from",n);const r=this.eventCallbacks.get(t.type);r&&r.forEach(s=>{try{s(t,n)}catch(i){console.error("[OpenCode] Callback error:",i)}});const a=this.eventCallbacks.get("*");a&&a.forEach(s=>{try{s(t,n)}catch(i){console.error("[OpenCode] Wildcard callback error:",i)}})}on(t,n){return this.eventCallbacks.has(t)||this.eventCallbacks.set(t,new Set),this.eventCallbacks.get(t).add(n),()=>{const r=this.eventCallbacks.get(t);r&&r.delete(n)}}onFileChange(t){return this.on("file.edited",(n,r)=>{n.type==="file.edited"&&t(n.properties.file,r)})}onSessionUpdate(t){return this.on("session.updated",(n,r)=>{n.type==="session.updated"&&t(n.properties.info.id,r)})}onSessionIdle(t){return this.on("session.idle",(n,r)=>{n.type==="session.idle"&&t(n.properties.sessionID,r)})}onConnectionChange(t){return this.connectionCallbacks.add(t),()=>{this.connectionCallbacks.delete(t)}}onError(t){return this.errorCallbacks.add(t),()=>{this.errorCallbacks.delete(t)}}notifyConnection(t){this.connectionCallbacks.forEach(n=>n(t))}notifyError(t){this.errorCallbacks.forEach(n=>n(t))}stopListening(){this.abortController&&(console.log("[OpenCode] Stopping event listener..."),this.abortController.abort(),this.abortController=null),this.isListening=!1}async attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("[OpenCode] Max reconnection attempts reached"),this.notifyError("Connection lost. Max reconnection attempts reached.");return}this.reconnectAttempts++;const t=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`[OpenCode] Reconnecting in ${t}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),await new Promise(r=>setTimeout(r,t)),await this.init()&&this.startListening()}async isServerAvailable(){try{return(await fetch("http://localhost:4096/health",{method:"GET",signal:AbortSignal.timeout(2e3)})).ok}catch{return!1}}get connected(){return this.isListening}destroy(){this.stopListening(),this.eventCallbacks.clear(),this.connectionCallbacks.clear(),this.errorCallbacks.clear(),this.client=null,this.notifyConnection(!1)}}const vr=new UO;typeof window<"u"&&setTimeout(async()=>{await vr.isServerAvailable()?(await vr.init(),vr.startListening()):console.log("[OpenCode] Server not available, will retry on demand")},1e3);const gy=new Map;async function k2(e){try{const t=await se("get_task_by_id",{taskId:e});if(!(t!=null&&t.project_id))return null;const n=await se("get_project_with_config",{projectId:t.project_id}),r=await se("get_task_full",{projectPath:n.path,taskId:e});return{structuringComplete:r.ai_metadata.structuring_complete,title:r.title,subtaskCount:r.subtasks.length}}catch{return null}}async function qO(e,t){const n=await k2(e);n&&gy.set(e,{taskId:e,projectId:t,wasStructuringComplete:n.structuringComplete})}async function yy(){for(const[e,t]of gy){const n=await k2(e);if(!n)continue;!t.wasStructuringComplete&&n.structuringComplete&&(console.log("[StructuringMonitor] Task structuring completed:",e),qm.getState().showNotification({taskId:e,taskTitle:n.title,projectId:t.projectId,subtaskCount:n.subtaskCount}),t.wasStructuringComplete=!0)}}async function O2(){try{const t=(await se("get_all_tasks")).filter(n=>n.status==="structuring"||n.status==="working"||n.status==="pending"||n.status==="structured"||n.status==="standby");for(const n of t)n.project_id&&(gy.has(n.id)||await qO(n.id,n.project_id));await yy()}catch(e){console.error("[StructuringMonitor] Failed to check tasks:",e)}}let wl=null;function $O(e=3e3){wl||(O2(),wl=setInterval(()=>{yy()},e))}function HO(){wl&&(clearInterval(wl),wl=null)}const BO=cc(e=>({lastChange:null,changeCounter:0,triggerRefetch:t=>e(n=>({lastChange:t,changeCounter:n.changeCounter+1}))}));function IO(){const e=BO(n=>n.triggerRefetch),t=T.useRef(null);T.useEffect(()=>(ts("db-changed",n=>{e(n.payload)}).then(n=>{t.current=n}),()=>{var n;(n=t.current)==null||n.call(t)}),[e])}function FO(){const e=cr(),t=Wt(r=>r.openDialogCount),n=T.useRef(t>0);return IO(),T.useEffect(()=>{n.current=t>0},[t]),T.useEffect(()=>{let r,a=null;$O(5e3);const s=vr.onSessionIdle(async()=>{await yy()}),i=vr.onFileChange(async o=>{o.includes("workopilot.db")&&await O2()});return Lm().then(o=>{o&&o.onFocusChanged(({payload:l})=>{a&&(clearTimeout(a),a=null),!l&&!n.current&&(a=setTimeout(async()=>{const u=await Lm();if(!u)return;!await u.isFocused()&&!n.current&&se("hide_window")},150))}).then(l=>{r=l})}),()=>{a&&clearTimeout(a),r==null||r(),s(),i(),HO()}},[]),T.useEffect(()=>{const r=a=>{if(a.altKey&&a.key>="0"&&a.key<="9"){a.preventDefault();const i={1:"/projects",2:"/tasks",3:"/agenda",4:"/logs",0:"/settings"}[a.key];i&&e({to:i})}};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e]),c.jsxs("div",{className:"h-screen min-w-lg flex flex-col bg-[#1c1c1c] p-3",children:[c.jsx(jf,{}),c.jsx(Gk,{})]})}const ui=QE({component:FO}),VO=[{path:"/projects",label:"Projetos"},{path:"/tasks",label:"Tarefas"},{path:"/agenda",label:"Agenda"},{path:"/logs",label:"Logs"}];async function ZO(e){if(e.button===0&&e.target.closest("nav")&&!e.target.closest("a")&&!e.target.closest("button")){const t=await Lm();t==null||t.startDragging()}}function KO(){se("hide_window")}const QO=!1;function uc(){const t=gg().pathname;return c.jsxs("nav",{className:"flex items-center border-b border-[#3d3a34] cursor-grab active:cursor-grabbing select-none",onMouseDown:ZO,role:"banner",children:[c.jsx("div",{className:"px-3 py-2 flex items-center",children:c.jsx("img",{src:"/workopilot_logo.svg",alt:"WorkoPilot",className:"w-5 h-5 opacity-60 pointer-events-none"})}),VO.map(n=>c.jsx(yr,{to:n.path,className:t===n.path||t.startsWith(n.path+"/")||t==="/"&&n.path==="/projects"?"px-4 py-2 text-sm transition-colors cursor-pointer bg-[#909d63] text-[#1c1c1c] font-medium":"px-4 py-2 text-sm transition-colors cursor-pointer text-[#828282] hover:text-[#d6d6d6] hover:bg-[#333333]",children:n.label},n.path)),c.jsx("div",{className:"flex-1"}),QO,c.jsx(yr,{to:"/settings",className:t==="/settings"?"px-3 py-2 text-sm transition-colors cursor-pointer text-[#909d63]":"px-3 py-2 text-sm transition-colors cursor-pointer text-[#636363] hover:text-[#d6d6d6]",title:"Configuracoes",children:c.jsx(Pk,{size:16})}),c.jsx("button",{onClick:KO,className:"px-3 py-2 text-sm transition-colors cursor-pointer text-[#636363] hover:text-[#bc5653]",title:"Esconder",children:c.jsx(ni,{size:16})})]})}function Bn({value:e,onChange:t,options:n,placeholder:r,className:a=""}){const s=Wt(f=>f.openDialog),i=Wt(f=>f.closeDialog);function o(f){t(f.target.value)}function l(){s()}function u(){setTimeout(()=>i(),100)}return c.jsxs("select",{value:e,onChange:o,onFocus:l,onBlur:u,className:`px-2 py-1 bg-[#1c1c1c] border border-[#3d3a34] text-[#d6d6d6] text-sm focus:outline-none focus:border-[#909d63] appearance-none cursor-pointer ${a}`,style:{backgroundImage:"url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23828282%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')",backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1em",paddingRight:"2rem"},children:[r&&c.jsx("option",{value:"",disabled:!0,children:r}),n.map(f=>c.jsx("option",{value:f.value,className:"bg-[#1c1c1c] text-[#d6d6d6]",children:f.label},f.value))]})}function YO(e,t){let n;try{n=e()}catch{return}return{getItem:a=>{var s;const i=l=>l===null?null:JSON.parse(l,void 0),o=(s=n.getItem(a))!=null?s:null;return o instanceof Promise?o.then(i):i(o)},setItem:(a,s)=>n.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>n.removeItem(a)}}const $m=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return $m(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return $m(r)(n)}}}},GO=(e,t)=>(n,r,a)=>{let s={storage:YO(()=>localStorage),partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...t},i=!1,o=0;const l=new Set,u=new Set;let f=s.storage;if(!f)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...x)},r,a);const h=()=>{const x=s.partialize({...r()});return f.setItem(s.name,{state:x,version:s.version})},p=a.setState;a.setState=(x,v)=>(p(x,v),h());const d=e((...x)=>(n(...x),h()),r,a);a.getInitialState=()=>d;let m;const g=()=>{var x,v;if(!f)return;const y=++o;i=!1,l.forEach(S=>{var j;return S((j=r())!=null?j:d)});const b=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(x=r())!=null?x:d))||void 0;return $m(f.getItem.bind(f))(s.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==s.version){if(s.migrate){const j=s.migrate(S.state,S.version);return j instanceof Promise?j.then(M=>[!0,M]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var j;if(y!==o)return;const[M,E]=S;if(m=s.merge(E,(j=r())!=null?j:d),n(m,!0),M)return h()}).then(()=>{y===o&&(b==null||b(m,void 0),m=r(),i=!0,u.forEach(S=>S(m)))}).catch(S=>{y===o&&(b==null||b(void 0,S))})};return a.persist={setOptions:x=>{s={...s,...x},x.storage&&(f=x.storage)},clearStorage:()=>{f==null||f.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(u.add(x),()=>{u.delete(x)})},s.skipHydration||g(),m||d},JO=GO,fn=cc()(JO(e=>({selectedProjectId:null,projectsList:[],setSelectedProjectId:t=>e({selectedProjectId:t}),setProjectsList:t=>e({projectsList:t})}),{name:"workopilot_selected_project",storage:{getItem:e=>{const t=sessionStorage.getItem(e);return t?JSON.parse(t):null},setItem:(e,t)=>{sessionStorage.setItem(e,JSON.stringify(t))},removeItem:e=>{sessionStorage.removeItem(e)}},partialize:e=>({selectedProjectId:e.selectedProjectId})}));function XO(){const[e,t]=T.useState([]),[n,r]=T.useState(!1),a=fn(h=>h.selectedProjectId),s=fn(h=>h.setSelectedProjectId),i=fn(h=>h.setProjectsList),l=gg().pathname!=="/tasks";T.useEffect(()=>{s(null)},[s]),T.useEffect(()=>{se("get_projects").then(h=>{t(h),i(h)}).catch(h=>console.error("Failed to load projects:",h))},[i]);function u(){return[{value:"",label:"Todos"},...e.map(h=>({value:h.id,label:h.name}))]}async function f(){a&&(r(!0),se("launch_project_tmux",{projectId:a}).catch(h=>console.error("Failed to start workflow:",h)).finally(()=>r(!1)))}return c.jsxs(c.Fragment,{children:[c.jsx(uc,{}),c.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border-b border-[#3d3a34] bg-[#232323]",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-[#828282]",children:"Projeto:"}),c.jsx(Bn,{value:a||"",options:u(),onChange:h=>s(h||null),className:l?"opacity-50 pointer-events-none":""})]}),c.jsx("button",{onClick:f,disabled:!a||n||l,className:"px-6 py-2 bg-[#909d63] text-[#1c1c1c] text-sm font-medium hover:bg-[#a0ad73] disabled:bg-[#3d3a34] disabled:text-[#636363] disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:n?"Iniciando...":"Comear"})]}),c.jsx(jf,{})]})]})}const WO=or("/tasks")({component:XO}),eA=[...Array.from({length:26},(e,t)=>String.fromCharCode(65+t)),...Array.from({length:10},(e,t)=>String(t)),...Array.from({length:12},(e,t)=>`F${t+1}`),"Space","Escape"];function tA(e){return eA.includes(e)}function nA(e){const{key:t,code:n}=e;if(n.startsWith("Key")&&n.length===4)return n.slice(3).toUpperCase();if(n.startsWith("Digit")&&n.length===6)return n.slice(5);if(n.startsWith("F")&&!Number.isNaN(Number(n.slice(1)))){const r=Number(n.slice(1));if(r>=1&&r<=12)return n}return n==="Space"?"Space":t==="Escape"?"Escape":null}function rA(e){const t=[];return e.altKey&&t.push("Alt"),e.ctrlKey&&t.push("Ctrl"),e.shiftKey&&t.push("Shift"),e.metaKey&&t.push("Super"),t.length===1?t[0]:t.length>1?t.join("+"):null}function S0(e){return e?`${e.modifier} + ${e.key}`:""}function aA({value:e,onChange:t,disabled:n=!1,className:r=""}){const[a,s]=T.useState(!1),[i,o]=T.useState(null),[l,u]=T.useState(null),f=T.useRef(null),h=T.useRef(e),p=Wt(j=>j.openDialog),d=Wt(j=>j.closeDialog),m=T.useCallback(()=>{n||(h.current=e,s(!0),o(null),u(null),p())},[n,e,p]),g=T.useCallback(j=>{j&&i&&l&&t({modifier:i,key:l}),s(!1),o(null),u(null),setTimeout(()=>d(),100)},[i,l,t,d]),x=T.useCallback(()=>{g(!1)},[g]);T.useEffect(()=>{if(!a)return;function j(E){if(E.preventDefault(),E.stopPropagation(),E.key==="Escape"&&!E.altKey&&!E.ctrlKey&&!E.shiftKey&&!E.metaKey){x();return}const q=rA(E),L=nA(E);q&&o(q),q&&L&&tA(L)&&L!=="Escape"&&(u(L),setTimeout(()=>{t({modifier:q,key:L}),s(!1),o(null),u(null),setTimeout(()=>d(),100)},150))}function M(E){E.preventDefault(),E.stopPropagation(),!E.altKey&&!E.ctrlKey&&!E.shiftKey&&!E.metaKey&&(o(null),u(null))}return window.addEventListener("keydown",j,!0),window.addEventListener("keyup",M,!0),()=>{window.removeEventListener("keydown",j,!0),window.removeEventListener("keyup",M,!0)}},[a,x,t,d]),T.useEffect(()=>{if(!a)return;function j(E){f.current&&!f.current.contains(E.target)&&x()}const M=setTimeout(()=>{document.addEventListener("mousedown",j)},0);return()=>{clearTimeout(M),document.removeEventListener("mousedown",j)}},[a,x]);function v(){a||m()}function y(j){!a&&(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),m())}let b,S;return a?i&&l?(b=`${i} + ${l}`,S="text-[#909d63]"):i?(b=`${i} + ...`,S="text-[#909d63]"):(b="Press keys...",S="text-[#636363] italic"):(b=e?S0(e):"Click to set",S=e?"text-[#d6d6d6]":"text-[#636363]"),c.jsxs("button",{ref:f,type:"button",disabled:n,onClick:v,onKeyDown:y,className:`
        relative px-3 py-1.5 min-w-[140px]
        bg-[#1c1c1c] border text-sm text-left
        transition-all duration-200 ease-out
        select-none cursor-pointer
        focus:outline-none
        ${a?"border-[#909d63] shadow-[0_0_0_1px_rgba(144,157,99,0.3),0_0_12px_rgba(144,157,99,0.15)]":"border-[#3d3a34] hover:border-[#4d4a44] focus:border-[#909d63]"}
        ${n?"opacity-50 cursor-not-allowed":""}
        ${r}
      `.trim().replace(/\s+/g," "),"aria-label":a?"Listening for keyboard shortcut":`Keyboard shortcut: ${e?S0(e):"not set"}`,children:[a&&c.jsx("span",{className:"absolute inset-0 border border-[#909d63] rounded-[inherit] animate-pulse opacity-50",style:{animationDuration:"1.5s"}}),c.jsx("span",{className:`relative z-10 ${S} transition-colors duration-150`,children:b}),c.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 z-10",children:c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:a?"#909d63":"#636363",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-colors duration-150","aria-hidden":"true",children:[c.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),c.jsx("path",{d:"M6 8h.01M10 8h.01M14 8h.01M18 8h.01M6 12h.01M10 12h.01M14 12h.01M18 12h.01M8 16h8"})]})})]})}function sA({checked:e,onChange:t,disabled:n=!1,className:r=""}){return c.jsx("button",{type:"button",role:"switch","aria-checked":e,disabled:n,onClick:()=>t(!e),className:`
				relative inline-flex h-5 w-9 shrink-0 cursor-pointer
				items-center rounded-full border-2 border-transparent
				transition-colors duration-200 ease-in-out
				focus:outline-none focus-visible:ring-2 focus-visible:ring-[#909d63] focus-visible:ring-offset-2 focus-visible:ring-offset-[#1c1c1c]
				${e?"bg-[#909d63]":"bg-[#3d3a34]"}
				${n?"opacity-50 cursor-not-allowed":""}
				${r}
			`.trim().replace(/\s+/g," "),children:c.jsx("span",{"aria-hidden":"true",className:`
					pointer-events-none inline-block h-4 w-4 rounded-full
					bg-[#d6d6d6] shadow-sm ring-0
					transition-transform duration-200 ease-in-out
					${e?"translate-x-4":"translate-x-0"}
				`.trim().replace(/\s+/g," ")})})}function iA(){const[e,t]=T.useState(null),[n,r]=T.useState(""),[a,s]=T.useState(""),[i,o]=T.useState(!1),[l,u]=T.useState(!1),[f,h]=T.useState(null),[p,d]=T.useState(!1),m=T.useCallback(async()=>{try{const S=await se("get_shortcut");t(S)}catch(S){console.error("Failed to load shortcut:",S)}},[]),g=T.useCallback(async()=>{try{const S=await se("get_setting",{key:"pinned_window"});d(S==="true")}catch(S){console.error("Failed to load pinned_window setting:",S)}},[]);T.useEffect(()=>{m(),g()},[m,g]);async function x(S){try{await se("set_setting",{key:"pinned_window",value:S?"true":"false"}),d(S)}catch(j){console.error("Failed to save pinned_window setting:",j)}}async function v(S){r(""),s(""),o(!0);const j=`${S.modifier}+${S.key}`;try{const M=await se("set_shortcut",{shortcut:j});t(M),s("Atalho salvo com sucesso!"),setTimeout(()=>s(""),3e3)}catch(M){r(String(M))}finally{o(!1)}}const y=e?{modifier:e.modifier,key:e.key}:null;async function b(){u(!0),h(null);try{const S=await se("sync_skills");h({type:"success",text:`${S} skills sincronizadas com sucesso!`}),setTimeout(()=>h(null),3e3)}catch(S){h({type:"error",text:String(S)})}finally{u(!1)}}return c.jsxs(c.Fragment,{children:[c.jsx(uc,{}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:c.jsxs("div",{className:"max-w-xl",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-xl text-[#d6d6d6] mb-1",children:"Configuracoes"}),c.jsx("p",{className:"text-sm text-[#636363]",children:"Configuracoes globais da aplicacao"})]}),c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsx("h2",{className:"text-sm text-[#828282] uppercase tracking-wide mb-4",children:"Comportamento da Janela"}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm text-[#d6d6d6]",children:"Janela fixa"}),c.jsx("span",{className:"block text-xs text-[#636363]",children:"Mantem a janela sempre visivel, ignorando o atalho de esconder"})]}),c.jsx(sA,{checked:p,onChange:x})]})]}),c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4 mt-4",children:[c.jsx("h2",{className:"text-sm text-[#828282] uppercase tracking-wide mb-4",children:"Atalho Global"}),c.jsx("p",{className:"text-xs text-[#636363] mb-4",children:"Define o atalho de teclado para abrir/fechar o WorkoPilot de qualquer lugar."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-[#636363] mb-2",children:"Clique para alterar o atalho"}),c.jsx(aA,{value:y,onChange:v,disabled:i})]}),n&&c.jsx("div",{className:"text-sm text-[#bc5653]",children:n}),a&&c.jsx("div",{className:"text-sm text-[#909d63]",children:a})]})]}),c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4 mt-4",children:[c.jsx("h2",{className:"text-sm text-[#828282] uppercase tracking-wide mb-4",children:"Skills do OpenCode"}),c.jsx("p",{className:"text-xs text-[#636363] mb-4",children:"Sincroniza as skills do WorkoPilot para o OpenCode. As skills sao atualizadas automaticamente ao iniciar a aplicacao."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{type:"button",onClick:b,disabled:l,className:"px-3 py-1.5 text-sm bg-[#3d3a34] hover:bg-[#4d4a44] disabled:opacity-50 disabled:cursor-not-allowed text-[#d6d6d6] transition-colors",children:l?"Sincronizando...":"Sincronizar Skills"}),f&&c.jsx("div",{className:`text-sm ${f.type==="success"?"text-[#909d63]":"text-[#bc5653]"}`,children:f.text})]})]})]})})]})}const oA=or("/settings")({component:iA});function lA(){const e=cr(),t=gg(),n=fn(m=>m.selectedProjectId),r=fn(m=>m.setSelectedProjectId),a=fn(m=>m.projectsList),s=fn(m=>m.setProjectsList),[i,o]=T.useState(null),l=T.useRef(0),u=t.pathname.includes("/settings");T.useEffect(()=>{async function m(){const g=await se("get_projects").catch(()=>[]);if(s(g),g.length>0){const y=new URLSearchParams(t.search).get("projectId")||n;y&&g.some(b=>b.id===y)?r(y):n||r(g[0].id)}}m()},[]);function f(m){u?m===n&&e({to:"/projects"}):r(m)}function h(m,g){if(o(g),m.dataTransfer&&m.target instanceof HTMLElement){m.dataTransfer.effectAllowed="move",m.dataTransfer.setData("text/plain","");const x=m.target.cloneNode(!0);x.style.position="absolute",x.style.top="-9999px",x.style.opacity="1",x.style.background="#1c1c1c",document.body.appendChild(x),m.dataTransfer.setDragImage(x,m.nativeEvent.offsetX,m.nativeEvent.offsetY),setTimeout(()=>x.remove(),0)}}function p(m,g){if(m.preventDefault(),i===null||i===g)return;const x=Date.now();if(x-l.current<100)return;l.current=x;const v=[...a],[y]=v.splice(i,1);v.splice(g,0,y);for(let b=0;b<v.length;b++)v[b]={...v[b],display_order:b};s(v),o(g)}async function d(){o(null);const m=a.map(g=>[g.id,g.display_order]);await se("update_projects_order",{projectOrders:m}).catch(console.error)}return c.jsxs(c.Fragment,{children:[c.jsx(uc,{}),c.jsxs("main",{className:"flex flex-1 overflow-hidden",children:[c.jsxs("aside",{className:"w-56 border-r border-[#3d3a34] flex flex-col bg-[#232323]",children:[c.jsx("div",{className:"p-3 border-b border-[#3d3a34]",children:c.jsx("span",{className:"text-xs text-[#828282] uppercase tracking-wide",children:"Projetos"})}),c.jsxs("ul",{className:"flex-1 overflow-y-auto p-2",children:[a.map((m,g)=>{const x=n===m.id,v=u&&!x,y=i===g;return c.jsxs("li",{draggable:!u,onDragStart:b=>h(b,g),onDragOver:b=>p(b,g),onDragEnd:d,className:`flex items-center gap-1 ${y?"opacity-10":""} ${u?"":"cursor-grab"}`,children:[!u&&c.jsx("span",{className:"text-[#4a4a4a] select-none flex-shrink-0","aria-hidden":"true",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"currentColor",role:"img","aria-label":"Arrastar para reordenar",children:[c.jsx("circle",{cx:"9",cy:"5",r:"2"}),c.jsx("circle",{cx:"9",cy:"12",r:"2"}),c.jsx("circle",{cx:"9",cy:"19",r:"2"}),c.jsx("circle",{cx:"15",cy:"5",r:"2"}),c.jsx("circle",{cx:"15",cy:"12",r:"2"}),c.jsx("circle",{cx:"15",cy:"19",r:"2"})]})}),c.jsx("button",{type:"button",className:`flex-1 px-2 py-2 text-left text-sm transition-colors ${x?"bg-[#909d63] text-[#1c1c1c]":v?"text-[#4a4a4a] cursor-not-allowed opacity-50":"text-[#d6d6d6] hover:bg-[#333333]"}`,onClick:()=>f(m.id),disabled:v,title:u&&x?"Voltar para projetos":void 0,children:m.name})]},m.id)}),a.length===0&&c.jsx("li",{className:"px-3 py-2 text-[#636363] text-sm",children:"Nenhum projeto"})]}),!u&&c.jsx("div",{className:"p-2 border-t border-[#3d3a34]",children:c.jsx("button",{type:"button",className:"w-full px-3 py-2 text-sm text-[#828282] border border-dashed border-[#3d3a34] hover:border-[#909d63] hover:text-[#909d63] transition-colors",onClick:()=>e({to:"/projects",search:{newProject:"true"}}),children:"+ Novo Projeto"})})]}),c.jsx("section",{className:"flex-1 flex flex-col overflow-hidden",children:c.jsx(jf,{})})]})]})}const cA=or("/projects")({component:lA}),uA={task_created:{icon:Nk,color:"text-[#909d63]",bgColor:"bg-[#909d63]/10",borderColor:"border-[#909d63]/30",label:"Task criada"},task_started:{icon:Um,color:"text-[#7daea3]",bgColor:"bg-[#7daea3]/10",borderColor:"border-[#7daea3]/30",label:"Task iniciada"},task_completed:{icon:af,color:"text-[#909d63]",bgColor:"bg-[#909d63]/10",borderColor:"border-[#909d63]/30",label:"Task concluida"},task_status_changed:{icon:Pm,color:"text-[#ebc17a]",bgColor:"bg-[#ebc17a]/10",borderColor:"border-[#ebc17a]/30",label:"Status alterado"},subtask_started:{icon:Um,color:"text-[#7daea3]",bgColor:"bg-[#7daea3]/10",borderColor:"border-[#7daea3]/30",label:"Subtask iniciada"},subtask_completed:{icon:af,color:"text-[#909d63]",bgColor:"bg-[#909d63]/10",borderColor:"border-[#909d63]/30",label:"Subtask concluida"},subtask_status_changed:{icon:Pm,color:"text-[#ebc17a]",bgColor:"bg-[#ebc17a]/10",borderColor:"border-[#ebc17a]/30",label:"Subtask alterada"},ai_session_start:{icon:hy,color:"text-[#d3869b]",bgColor:"bg-[#d3869b]/10",borderColor:"border-[#d3869b]/30",label:"Sessao IA iniciada"},ai_session_end:{icon:YR,color:"text-[#d3869b]",bgColor:"bg-[#d3869b]/10",borderColor:"border-[#d3869b]/30",label:"Sessao IA finalizada"},user_session_start:{icon:Ak,color:"text-[#83a598]",bgColor:"bg-[#83a598]/10",borderColor:"border-[#83a598]/30",label:"App aberto"},user_session_end:{icon:kk,color:"text-[#83a598]",bgColor:"bg-[#83a598]/10",borderColor:"border-[#83a598]/30",label:"App fechado"}},dA={icon:Bf,color:"text-[#636363]",bgColor:"bg-[#636363]/10",borderColor:"border-[#636363]/30",label:"Evento"};function fA(e){const n=Date.now()-e*1e3,r=Math.floor(n/1e3),a=Math.floor(r/60),s=Math.floor(a/60),i=Math.floor(s/24);return r<60?"agora":a<60?`${a}min`:s<24?`${s}h`:i===1?"ontem":i<7?`${i}d`:new Date(e*1e3).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}function hA(e){const t=e.metadata;return e.task_title?e.task_title:t!=null&&t.task_title?t.task_title:t!=null&&t.subtask_title?t.subtask_title:e.event_type==="user_session_start"?"Usuario iniciou o app":e.event_type==="user_session_end"?"Usuario fechou o app":e.project_name||"Evento"}function pA({log:e,isSelected:t,onClick:n}){const r=uA[e.event_type]||dA,a=r.icon,s=hA(e),i=fA(e.created_at),o=e.metadata,l=typeof(o==null?void 0:o.tokens_total)=="number"?o.tokens_total:null;return c.jsxs("button",{type:"button",onClick:n,className:`group w-full flex items-center gap-4 p-4 text-left transition-all duration-200 rounded-sm border ${t?"bg-[#909d63]/15 border-[#909d63]/50 shadow-[0_0_0_1px_rgba(144,157,99,0.2)]":"bg-[#232323] border-[#3d3a34] hover:border-[#4d4a44] hover:bg-[#282828]"}`,children:[c.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-md flex items-center justify-center border transition-colors ${t?"bg-[#909d63]/20 border-[#909d63]/40":`${r.bgColor} ${r.borderColor}`}`,children:c.jsx(a,{size:18,className:t?"text-[#909d63]":r.color})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[c.jsx("span",{className:`text-xs font-medium uppercase tracking-wide ${t?"text-[#909d63]":r.color}`,children:r.label}),l!==null&&c.jsxs("span",{className:"text-xs text-[#d3869b]/80 bg-[#d3869b]/10 px-1.5 py-0.5 rounded-sm",children:[l.toLocaleString()," tokens"]})]}),c.jsx("p",{className:"text-sm font-medium truncate mb-1 text-[#d6d6d6]",children:s}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#636363]",children:[c.jsx("span",{children:i}),e.project_name&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-[#4d4a44]",children:""}),c.jsxs("span",{className:"flex items-center gap-1 text-[#7daea3]/70",children:[c.jsx(_k,{size:10}),e.project_name]})]})]})]}),c.jsx(b2,{size:16,className:`flex-shrink-0 transition-all duration-200 ${t?"text-[#909d63] opacity-100":"text-[#636363] opacity-0 group-hover:opacity-100"}`})]})}function mA({logs:e,selectedLogId:t,onSelectLog:n,onLoadMore:r,hasMore:a,isLoading:s,isLoadingMore:i}){const o=T.useRef(null),l=T.useCallback(u=>{const[f]=u;f.isIntersecting&&a&&!s&&!i&&r&&r()},[a,s,i,r]);return T.useEffect(()=>{const u=o.current;if(!u)return;const f=new IntersectionObserver(l,{root:null,rootMargin:"100px",threshold:0});return f.observe(u),()=>f.disconnect()},[l]),e.length===0&&!s?c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-[#636363] p-8",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-[#232323] border border-[#3d3a34] flex items-center justify-center mb-4",children:c.jsx(KR,{size:24,className:"text-[#636363]"})}),c.jsx("p",{className:"text-sm mb-1",children:"Nenhum evento encontrado"}),c.jsx("p",{className:"text-xs text-[#4a4a4a]",children:"Os eventos aparecerao aqui conforme voce usar o WorkoPilot"})]}):c.jsx("div",{className:"h-full overflow-y-auto",children:c.jsxs("div",{className:"p-4 space-y-2",children:[e.map(u=>c.jsx(pA,{log:u,isSelected:t===u.id,onClick:()=>n(u)},u.id)),c.jsx("div",{ref:o,className:"h-4"}),(s||i)&&c.jsxs("div",{className:"py-6 flex items-center justify-center gap-2 text-[#636363]",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-[#636363] border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"text-sm",children:i?"Carregando mais...":"Carregando..."})]})]})})}function gA({value:e,onChange:t,placeholder:n="Selecione um projeto",className:r="",showAllOption:a=!0,allOptionLabel:s="Todos os projetos"}){const[i,o]=T.useState([]);T.useEffect(()=>{se("get_projects").then(o).catch(()=>o([]))},[]);const l=[...a?[{value:"",label:s}]:[],...i.map(u=>({value:u.id,label:u.name}))];return c.jsx(Bn,{value:e||"",onChange:u=>t(u||null),options:l,placeholder:a?void 0:n,className:r})}const A2=[{value:"task_created",label:"Task criada"},{value:"task_started",label:"Task iniciada"},{value:"task_completed",label:"Task concluida"},{value:"task_status_changed",label:"Status alterado"},{value:"subtask_started",label:"Subtask iniciada"},{value:"subtask_completed",label:"Subtask concluida"},{value:"subtask_status_changed",label:"Subtask alterada"},{value:"ai_session_start",label:"Sessao IA iniciada"},{value:"ai_session_end",label:"Sessao IA finalizada"},{value:"user_session_start",label:"App aberto"},{value:"user_session_end",label:"App fechado"}],yA=Object.fromEntries(A2.map(e=>[e.value,e.label]));function vA({onFiltersChange:e,totalLogs:t}){const[n,r]=T.useState(""),[a,s]=T.useState([]),[i,o]=T.useState(null),[l,u]=T.useState(null),[f,h]=T.useState(null),[p,d]=T.useState(!1);function m(E){const q={query:E.query??n,eventTypes:E.eventTypes??a,projectId:E.projectId??i,fromDate:E.fromDate??l,toDate:E.toDate??f};e(q)}function g(E){r(E)}function x(E){E.key==="Enter"&&m({query:n})}function v(E){const q=a.includes(E)?a.filter(L=>L!==E):[...a,E];s(q),m({eventTypes:q})}function y(E){o(E),m({projectId:E})}function b(E){u(E),m({fromDate:E})}function S(E){h(E),m({toDate:E})}function j(){r(""),s([]),o(null),u(null),h(null),e({query:"",eventTypes:[],projectId:null,fromDate:null,toDate:null})}const M=n||a.length>0||i||l||f;return c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(zk,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#636363]"}),c.jsx("input",{type:"text",value:n,onChange:E=>g(E.target.value),onKeyDown:x,placeholder:"Buscar eventos... (Enter para buscar)",className:"w-full pl-9 pr-3 py-2 bg-[#2a2a2a] border border-[#3d3a34] text-sm text-[#d6d6d6] placeholder-[#636363] focus:outline-none focus:border-[#909d63] rounded-sm"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(XR,{size:14,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-[#636363] pointer-events-none"}),c.jsx("input",{type:"date",value:l||"",onChange:E=>b(E.target.value||null),className:"w-32 pl-8 pr-2 py-2 bg-[#2a2a2a] border border-[#3d3a34] text-sm text-[#d6d6d6] focus:outline-none focus:border-[#909d63] [color-scheme:dark] rounded-sm"})]}),c.jsx("span",{className:"text-[#636363] text-xs",children:"ate"}),c.jsx("input",{type:"date",value:f||"",onChange:E=>S(E.target.value||null),className:"w-32 px-2 py-2 bg-[#2a2a2a] border border-[#3d3a34] text-sm text-[#d6d6d6] focus:outline-none focus:border-[#909d63] [color-scheme:dark] rounded-sm"})]}),c.jsx(gA,{value:i,onChange:y,showAllOption:!0,allOptionLabel:"Todos os projetos"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>d(!p),className:"px-3 py-2 bg-[#2a2a2a] border border-[#3d3a34] text-sm flex items-center gap-2 hover:border-[#909d63] transition-colors rounded-sm",children:[c.jsx(Sk,{size:14,className:a.length>0?"text-[#909d63]":"text-[#636363]"}),c.jsx("span",{className:a.length>0?"text-[#909d63]":"text-[#636363]",children:a.length>0?a.length:"Tipo"})]}),p&&c.jsx("div",{className:"absolute top-full right-0 mt-1 w-56 bg-[#232323] border border-[#3d3a34] z-20 max-h-72 overflow-y-auto rounded-sm shadow-xl",children:A2.map(E=>c.jsxs("button",{type:"button",onClick:()=>v(E.value),className:`w-full px-3 py-2 text-sm text-left flex items-center gap-2 hover:bg-[#2a2a2a] transition-colors ${a.includes(E.value)?"bg-[#909d63]/10":""}`,children:[c.jsx("span",{className:`w-4 h-4 border flex items-center justify-center rounded-sm ${a.includes(E.value)?"border-[#909d63] bg-[#909d63]":"border-[#636363]"}`,children:a.includes(E.value)&&c.jsx("span",{className:"text-[#1c1c1c] text-xs",children:""})}),c.jsx("span",{className:"text-[#d6d6d6]",children:E.label})]},E.value))})]}),M&&c.jsx("button",{type:"button",onClick:j,className:"p-2 text-[#bc5653] hover:bg-[#bc5653]/10 transition-colors rounded-sm",title:"Limpar filtros",children:c.jsx(ni,{size:16})}),t!==void 0&&c.jsxs("span",{className:"text-xs text-[#636363] whitespace-nowrap",children:[t," evento",t!==1?"s":""]})]}),a.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1.5",children:a.map(E=>c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-[#909d63]/15 text-[#909d63] text-xs rounded-sm border border-[#909d63]/30",children:[yA[E]||E,c.jsx("button",{type:"button",onClick:()=>v(E),className:"hover:text-[#d6d6d6] transition-colors",children:c.jsx(ni,{size:12})})]},E))})]})}function bA(e){return new Date(e*1e3).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function md(e){return e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString()}function D2(e){if(e<60)return`${e}s`;const t=Math.floor(e/60),n=e%60;if(t<60)return n>0?`${t}m ${n}s`:`${t}m`;const r=Math.floor(t/60),a=t%60;return a>0?`${r}h ${a}m`:`${r}h`}const _A={task_created:"Task criada",task_started:"Task iniciada",task_completed:"Task concluida",task_status_changed:"Status alterado",subtask_started:"Subtask iniciada",subtask_completed:"Subtask concluida",subtask_status_changed:"Subtask alterada",ai_session_start:"Sessao IA iniciada",ai_session_end:"Sessao IA finalizada",user_session_start:"App aberto",user_session_end:"App fechado"},w0={done:{icon:af,color:"text-[#909d63]"},in_progress:{icon:Um,color:"text-[#7daea3]"},pending:{icon:Pm,color:"text-[#636363]"}};function xA({log:e,onClose:t}){const n=cr(),[r,a]=T.useState(null),[s,i]=T.useState(!1);if(T.useEffect(()=>{var N;if(!e){a(null);return}const q=e.event_type.startsWith("task_")||e.event_type.startsWith("subtask_"),L=e.entity_type==="task"?e.entity_id:(N=e.metadata)==null?void 0:N.task_id;q&&L?(i(!0),se("get_task_full",{projectPath:"",taskId:L}).then(a).catch(()=>a(null)).finally(()=>i(!1))):a(null)},[e]),!e)return null;const o=e.metadata,l=_A[e.event_type]||e.event_type.replace(/_/g," "),u=e.event_type.startsWith("task_")||e.event_type.startsWith("subtask_"),f=e.event_type.startsWith("ai_session_"),h=e.event_type.startsWith("user_session_"),p=typeof(o==null?void 0:o.tokens_input)=="number"?o.tokens_input:null,d=typeof(o==null?void 0:o.tokens_output)=="number"?o.tokens_output:null,m=typeof(o==null?void 0:o.tokens_total)=="number"?o.tokens_total:null,g=typeof(o==null?void 0:o.session_id)=="string"?o.session_id:null,x=typeof(o==null?void 0:o.duration_seconds)=="number"?o.duration_seconds:null,v=typeof(o==null?void 0:o.app_version)=="string"?o.app_version:null,y=typeof(o==null?void 0:o.old_status)=="string"?o.old_status:null,b=typeof(o==null?void 0:o.new_status)=="string"?o.new_status:null,S=typeof(o==null?void 0:o.subtask_id)=="string"?o.subtask_id:null,j=typeof(o==null?void 0:o.subtask_title)=="string"?o.subtask_title:null;function M(){if(!e)return;const q=e.entity_type==="task"?e.entity_id:o==null?void 0:o.task_id;q&&(n(S?{to:"/tasks/$taskId",params:{taskId:q},search:{subtask:S}}:{to:"/tasks/$taskId",params:{taskId:q}}),t())}function E(q,L){n({to:"/tasks/$taskId",params:{taskId:q},search:{subtask:L}}),t()}return wf.createPortal(c.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-end",children:[c.jsx("button",{type:"button",className:"absolute inset-0 bg-black/50",onClick:t,"aria-label":"Fechar drawer"}),c.jsxs("div",{className:"relative w-96 bg-[#1c1c1c] border-l border-[#3d3a34] flex flex-col animate-slide-in-right",children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-[#3d3a34]",children:[c.jsxs("div",{children:[c.jsx("span",{className:"px-2 py-0.5 bg-[#909d63]/20 text-[#909d63] text-xs uppercase",children:l}),c.jsx("p",{className:"text-xs text-[#636363] mt-1",children:bA(e.created_at)})]}),c.jsx("button",{type:"button",onClick:t,className:"p-1 hover:bg-[#2a2a2a] transition-colors","aria-label":"Fechar",children:c.jsx(ni,{size:18,className:"text-[#828282]"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[u&&c.jsx(SA,{log:e,metadata:o,taskData:r,loadingTask:s,oldStatus:y,newStatus:b,subtaskId:S,subtaskTitle:j,onNavigateToTask:M,onNavigateToSubtask:E}),f&&c.jsx(jA,{sessionId:g,tokensInput:p,tokensOutput:d,tokensTotal:m,durationSeconds:x,taskData:r,onNavigateToTask:M}),h&&c.jsx(CA,{durationSeconds:x,appVersion:v,metadata:o}),e.project_name&&c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:[c.jsx("h3",{className:"text-xs text-[#828282] uppercase tracking-wide mb-2",children:"Projeto"}),c.jsx("p",{className:"text-sm text-[#7daea3]",children:e.project_name})]})]})]})]}),document.body)}function SA({log:e,taskData:t,loadingTask:n,oldStatus:r,newStatus:a,subtaskId:s,subtaskTitle:i,onNavigateToTask:o,onNavigateToSubtask:l}){const u=e.task_title||(t==null?void 0:t.title)||"Task";return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-xs text-[#828282] uppercase tracking-wide mb-2",children:"Task"}),c.jsxs("button",{type:"button",onClick:o,className:"text-sm text-[#d6d6d6] hover:text-[#909d63] transition-colors flex items-center gap-1 group text-left",children:[c.jsx("span",{className:"truncate",children:u}),c.jsx(_2,{size:12,className:"opacity-0 group-hover:opacity-100 flex-shrink-0"})]})]}),t&&c.jsx("span",{className:`px-2 py-0.5 text-xs uppercase ${EA(t.status)}`,children:t.status})]})}),r&&a&&c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:[c.jsx("h3",{className:"text-xs text-[#828282] uppercase tracking-wide mb-2",children:"Mudanca de Status"}),c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"text-[#bc5653]",children:r}),c.jsx("span",{className:"text-[#636363]",children:""}),c.jsx("span",{className:"text-[#909d63]",children:a})]})]}),i&&c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:[c.jsx("h3",{className:"text-xs text-[#828282] uppercase tracking-wide mb-2",children:"Subtask Relacionada"}),c.jsx("p",{className:"text-sm text-[#d3869b]",children:i})]}),n?c.jsx("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:c.jsx("p",{className:"text-sm text-[#636363]",children:"Carregando subtasks..."})}):t&&t.subtasks.length>0&&c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:[c.jsxs("h3",{className:"text-xs text-[#828282] uppercase tracking-wide mb-2",children:["Subtasks (",t.subtasks.filter(f=>f.status==="done").length,"/",t.subtasks.length,")"]}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:t.subtasks.map(f=>c.jsx(wA,{subtask:f,isHighlighted:f.id===s,onClick:()=>l(t.id,f.id)},f.id))})]})]})}function wA({subtask:e,isHighlighted:t,onClick:n}){const r=w0[e.status]||w0.pending,a=r.icon;return c.jsxs("button",{type:"button",onClick:n,className:`w-full flex items-center gap-2 p-2 text-left text-sm transition-colors hover:bg-[#2a2a2a] ${t?"bg-[#909d63]/10 border border-[#909d63]/30":""}`,children:[c.jsx(a,{size:14,className:r.color}),c.jsx("span",{className:`truncate ${t?"text-[#909d63]":"text-[#d6d6d6]"}`,children:e.title})]})}function jA({sessionId:e,tokensInput:t,tokensOutput:n,tokensTotal:r,durationSeconds:a,taskData:s,onNavigateToTask:i}){return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(hy,{size:16,className:"text-[#d3869b]"}),c.jsx("h3",{className:"text-xs text-[#828282] uppercase tracking-wide",children:"Sessao de IA"})]}),e&&c.jsxs("div",{className:"mb-3",children:[c.jsx("span",{className:"text-xs text-[#636363]",children:"Session ID"}),c.jsx("p",{className:"text-xs font-mono text-[#828282] truncate",children:e})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t!==null&&c.jsxs("div",{className:"bg-[#1c1c1c] p-2",children:[c.jsx("span",{className:"text-xs text-[#636363]",children:"Entrada"}),c.jsx("p",{className:"text-sm text-[#d6d6d6]",children:md(t)})]}),n!==null&&c.jsxs("div",{className:"bg-[#1c1c1c] p-2",children:[c.jsx("span",{className:"text-xs text-[#636363]",children:"Saida"}),c.jsx("p",{className:"text-sm text-[#d6d6d6]",children:md(n)})]}),r!==null&&c.jsxs("div",{className:"bg-[#1c1c1c] p-2",children:[c.jsx("span",{className:"text-xs text-[#636363]",children:"Total"}),c.jsx("p",{className:"text-sm text-[#d3869b] font-medium",children:md(r)})]})]})]}),a!==null&&c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bf,{size:14,className:"text-[#636363]"}),c.jsx("span",{className:"text-xs text-[#636363]",children:"Duracao"})]}),c.jsx("p",{className:"text-sm text-[#d6d6d6] mt-1",children:D2(a)})]}),s&&c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:[c.jsx("h3",{className:"text-xs text-[#828282] uppercase tracking-wide mb-2",children:"Task Relacionada"}),c.jsxs("button",{type:"button",onClick:i,className:"text-sm text-[#d6d6d6] hover:text-[#909d63] transition-colors flex items-center gap-1 group",children:[c.jsx("span",{className:"truncate",children:s.title}),c.jsx(_2,{size:12,className:"opacity-0 group-hover:opacity-100"})]})]})]})}function CA({durationSeconds:e,appVersion:t,metadata:n}){const r=typeof(n==null?void 0:n.tasks_completed)=="number"?n.tasks_completed:null,a=typeof(n==null?void 0:n.tokens_used)=="number"?n.tokens_used:null;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Qk,{size:16,className:"text-[#83a598]"}),c.jsx("h3",{className:"text-xs text-[#828282] uppercase tracking-wide",children:"Sessao do Usuario"})]}),e!==null&&c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Bf,{size:14,className:"text-[#636363]"}),c.jsx("span",{className:"text-sm text-[#d6d6d6]",children:D2(e)})]}),t&&c.jsxs("div",{className:"text-xs text-[#636363]",children:["Versao: ",c.jsx("span",{className:"text-[#828282]",children:t})]})]}),(r!==null||a!==null)&&c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:[c.jsx("h3",{className:"text-xs text-[#828282] uppercase tracking-wide mb-2",children:"Resumo da Sessao"}),c.jsxs("div",{className:"space-y-2",children:[r!==null&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-[#636363]",children:"Tasks completadas"}),c.jsx("span",{className:"text-[#909d63]",children:r})]}),a!==null&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-[#636363]",children:"Tokens usados"}),c.jsx("span",{className:"text-[#d3869b]",children:md(a)})]})]})]})]})}function EA(e){switch(e){case"done":case"completed":return"bg-[#909d63]/20 text-[#909d63]";case"in_progress":case"working":case"structuring":return"bg-[#7daea3]/20 text-[#7daea3]";case"pending":case"structured":case"standby":return"bg-[#636363]/20 text-[#636363]";case"awaiting_review":case"ready_to_review":return"bg-[#ebc17a]/20 text-[#ebc17a]";default:return"bg-[#636363]/20 text-[#636363]"}}function j0(e){if(e<60)return`${Math.round(e)}s`;const t=Math.floor(e/60);if(t<60)return`${t}m`;const n=Math.floor(t/60),r=t%60;return r>0?`${n}h ${r}m`:`${n}h`}function TA(e){const t=new Date(e*1e3),n=new Date;return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()}function NA(e){let t=0,n=0,r=0,a=0;const s=e.filter(o=>TA(o.created_at));for(const o of s){const l=o.metadata;switch(o.event_type){case"task_started":t++;break;case"task_completed":n++,typeof(l==null?void 0:l.duration_seconds)=="number"&&(r+=l.duration_seconds,a++);break}}const i=a>0?r/a:0;return{tasksStarted:t,tasksCompleted:n,avgTaskDuration:i,totalWorked:r}}function RA({logs:e}){const t=NA(e),r=new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long"});return c.jsxs("div",{className:"p-4 border-b border-[#3d3a34] bg-[#1c1c1c]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-xs text-[#828282] uppercase tracking-wide",children:"Metricas de Hoje"}),c.jsx("span",{className:"text-xs text-[#636363] capitalize",children:r})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[c.jsx(Yc,{icon:ok,iconColor:"text-[#7daea3]",label:"Tarefas iniciadas",value:t.tasksStarted.toString()}),c.jsx(Yc,{icon:af,iconColor:"text-[#909d63]",label:"Tarefas concluidas",value:t.tasksCompleted.toString()}),c.jsx(Yc,{icon:Bf,iconColor:"text-[#ebc17a]",label:"Tempo medio/task",value:t.avgTaskDuration>0?j0(t.avgTaskDuration):"-"}),c.jsx(Yc,{icon:Bk,iconColor:"text-[#d3869b]",label:"Total trabalhado",value:t.totalWorked>0?j0(t.totalWorked):"-"})]})]})}function Yc({icon:e,iconColor:t,label:n,value:r,subvalue:a,progress:s}){return c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(e,{size:14,className:t}),c.jsx("span",{className:"text-xs text-[#636363]",children:n})]}),c.jsx("p",{className:"text-lg text-[#d6d6d6] font-medium",children:r}),a&&c.jsx("p",{className:"text-xs text-[#636363] mt-0.5",children:a}),s!==void 0&&c.jsx("div",{className:"mt-2 h-1 bg-[#3d3a34] overflow-hidden",children:c.jsx("div",{className:"h-full bg-[#d3869b] transition-all duration-300",style:{width:`${s}%`}})})]})}function kA(e){let t={};if(e.metadata)try{t=JSON.parse(e.metadata)}catch{t={}}return{id:e.id,event_type:e.event_type,entity_type:e.entity_type||"unknown",entity_id:e.entity_id||"",project_id:e.project_id||"",project_name:e.project_name||"",task_title:e.task_title||t.task_title||"",metadata:t,created_at:Math.floor(new Date(e.created_at).getTime()/1e3),created_at_str:e.created_at}}function OA(){const[e,t]=T.useState([]),[n,r]=T.useState(null),[a,s]=T.useState(!1),[i,o]=T.useState(!1),[l,u]=T.useState(null),[f,h]=T.useState(!0),[p,d]=T.useState(0),m=T.useRef(!1),g=T.useRef({query:"",eventTypes:[],projectId:null,fromDate:null,toDate:null}),x=T.useRef(!1),v=T.useCallback(async M=>{if(m.current)return;m.current=!0;const E=g.current,q=M===null;q?s(!0):o(!0);try{const L=await se("search_activity_logs",{query:E.query||null,eventTypes:E.eventTypes.length>0?E.eventTypes:null,projectId:E.projectId||null,fromDate:E.fromDate||null,toDate:E.toDate||null,cursor:M,limit:30}),N=L.logs.map(kA);t(q?N:k=>[...k,...N]),d(L.total),u(L.next_cursor),h(L.has_more)}catch(L){console.error("Failed to load logs:",L)}finally{s(!1),o(!1),m.current=!1}},[]);T.useEffect(()=>{x.current||(x.current=!0,v(null))},[v]);function y(M){g.current=M,u(null),r(null),v(null)}function b(){!a&&!i&&f&&l!==null&&v(l)}function S(M){r(M)}function j(){r(null)}return c.jsxs(c.Fragment,{children:[c.jsx(uc,{}),c.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden bg-[#1c1c1c]",children:[c.jsx("div",{className:"border-b border-[#3d3a34] bg-[#232323]/50",children:c.jsx("div",{className:"max-w-5xl mx-auto",children:c.jsx(vA,{onFiltersChange:y,totalLogs:p})})}),c.jsx("div",{className:"border-b border-[#3d3a34]",children:c.jsx("div",{className:"max-w-5xl mx-auto",children:c.jsx(RA,{logs:e,fromDate:g.current.fromDate,toDate:g.current.toDate})})}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx("div",{className:"max-w-5xl mx-auto h-full",children:c.jsx(mA,{logs:e,selectedLogId:(n==null?void 0:n.id)||null,onSelectLog:S,onLoadMore:b,hasMore:f,isLoading:a,isLoadingMore:i})})})]}),c.jsx(xA,{log:n,onClose:j})]})}const AA=or("/logs")({component:OA}),DA={1:"#bc5653",2:"#ebc17a",3:"#909d63"};function MA({task:e,compact:t=!1}){const n=DA[e.priority]??"#909d63";return c.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-[#2a2a2a] text-xs rounded-sm cursor-pointer hover:bg-[#333] transition-colors",style:{borderLeftColor:e.is_overdue?"#bc5653":"#909d63",borderLeftWidth:"3px",borderLeftStyle:"solid",border:e.is_overdue?"1px solid #bc5653":void 0},children:[!t&&c.jsx("span",{className:"text-[#d6d6d6] truncate max-w-[60px]",children:e.project_name}),c.jsxs("span",{style:{color:n},className:"font-medium",children:["P",e.priority]}),e.subtask_count>0&&c.jsxs("span",{className:"text-[10px] text-[#636363]",children:["+",e.subtask_count," subtasks"]})]})}const C0=new Date,Fe=cc(e=>({selectedDate:null,currentMonth:{year:C0.getFullYear(),month:C0.getMonth()+1},draggedTask:null,drawerCollapsed:!1,selectedTaskIds:new Set,selectedDates:new Set,isDistributionMode:!1,isDistributing:!1,setSelectedDate:t=>e({selectedDate:t}),setCurrentMonth:t=>e({currentMonth:t}),setDraggedTask:t=>e({draggedTask:t}),setDrawerCollapsed:t=>e({drawerCollapsed:t}),toggleTaskSelection:t=>e(n=>{const r=new Set(n.selectedTaskIds);return r.has(t)?r.delete(t):r.add(t),{selectedTaskIds:r}}),selectAllTasks:t=>e({selectedTaskIds:new Set(t)}),clearTaskSelection:()=>e({selectedTaskIds:new Set}),toggleDateSelection:t=>e(n=>{const r=new Set(n.selectedDates);return r.has(t)?r.delete(t):r.add(t),{selectedDates:r}}),clearDateSelection:()=>e({selectedDates:new Set}),setDistributionMode:t=>e({isDistributionMode:t}),setIsDistributing:t=>e({isDistributing:t}),resetDistributionState:()=>e({selectedTaskIds:new Set,selectedDates:new Set,isDistributionMode:!1,isDistributing:!1})}));function zA({date:e,dayNumber:t,isCurrentMonth:n,isToday:r,tasks:a,onDrop:s}){const i=Fe(N=>N.selectedDate),o=Fe(N=>N.setSelectedDate),l=Fe(N=>N.draggedTask),u=Fe(N=>N.isDistributionMode),f=Fe(N=>N.selectedDates),h=Fe(N=>N.toggleDateSelection),[p,d]=T.useState(!1),m=i===e,g=f.has(e),x=a.some(N=>N.is_overdue),v=a.slice(0,3),y=Math.max(0,a.length-3);function b(){if(n){if(u){h(e);return}o(e)}}function S(N){N.preventDefault(),l&&n&&!u&&d(!0)}function j(){d(!1)}function M(N){N.preventDefault(),d(!1),l&&n&&!u&&s(l.id,e)}function E(){return u&&g?"bg-[#909d63]/30":m&&!u?"bg-[#909d63]":p?"bg-[#2a2a2a]":n?"bg-[#232323]":"bg-[#1c1c1c]"}function q(){return m&&!u?"text-[#1c1c1c]":n?"text-[#d6d6d6]":"text-[#636363]"}function L(){return u&&g||r&&!m?"border-[#909d63] border-2":p?"border-dashed":""}return c.jsxs("button",{type:"button",className:`flex flex-col p-1 min-h-[80px] border border-[#3d3a34] transition-all text-left ${E()} ${n?"":"opacity-50"} ${L()}`,onClick:b,onDragOver:S,onDragLeave:j,onDrop:M,children:[c.jsxs("div",{className:"flex items-center justify-between w-full mb-1",children:[c.jsx("span",{className:`text-sm font-medium ${q()}`,children:t}),c.jsxs("div",{className:"flex items-center gap-1",children:[u&&g&&c.jsx("span",{className:"text-[#909d63] text-xs",children:""}),x&&c.jsx("span",{className:"text-[#bc5653] text-xs",children:""})]})]}),c.jsxs("div",{className:"flex flex-col gap-0.5 flex-1 overflow-hidden",children:[v.map(N=>c.jsx(MA,{task:N,compact:a.length>2},N.id)),y>0&&c.jsxs("span",{className:"text-[10px] text-[#828282]",children:["+",y]})]})]})}const LA=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],PA=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function UA(e,t){const n=new Date(e,t-1,1),r=new Date(e,t,0),a=n.getDay(),s=r.getDate(),i=[],o=t===1?12:t-1,l=t===1?e-1:e,u=new Date(l,o,0).getDate();for(let g=a-1;g>=0;g--){const x=u-g;i.push({date:`${l}-${String(o).padStart(2,"0")}-${String(x).padStart(2,"0")}`,dayNumber:x,isCurrentMonth:!1,isToday:!1})}const f=new Date,h=`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}-${String(f.getDate()).padStart(2,"0")}`;for(let g=1;g<=s;g++){const x=`${e}-${String(t).padStart(2,"0")}-${String(g).padStart(2,"0")}`;i.push({date:x,dayNumber:g,isCurrentMonth:!0,isToday:x===h})}const p=t===12?1:t+1,d=t===12?e+1:e,m=42-i.length;for(let g=1;g<=m;g++)i.push({date:`${d}-${String(p).padStart(2,"0")}-${String(g).padStart(2,"0")}`,dayNumber:g,isCurrentMonth:!1,isToday:!1});return i}const qA=T.forwardRef(function({projectId:t=null,onTasksChanged:n},r){const a=Fe(j=>j.currentMonth),s=Fe(j=>j.setCurrentMonth),i=Fe(j=>j.setDraggedTask),o=Fe(j=>j.isDistributing),l=Fe(j=>j.isDistributionMode),[u,f]=T.useState([]),[h,p]=T.useState(!0),d=UA(a.year,a.month),m=PA[a.month-1];function g(j){return u.filter(M=>M.scheduled_date===j)}async function x(){p(!0);const j=await se("get_tasks_for_month",{year:a.year,month:a.month,projectId:t}).catch(M=>(console.error("Failed to load calendar tasks:",M),[]));f(j),p(!1)}async function v(j,M){await se("schedule_task",{taskId:j,scheduledDate:M}).catch(E=>console.error("Failed to schedule task:",E)),await x(),n==null||n(),i(null)}function y(){a.month===1?s({year:a.year-1,month:12}):s({year:a.year,month:a.month-1})}function b(){a.month===12?s({year:a.year+1,month:1}):s({year:a.year,month:a.month+1})}function S(){const j=new Date;s({year:j.getFullYear(),month:j.getMonth()+1})}return T.useEffect(()=>{x()},[a.year,a.month,t]),T.useImperativeHandle(r,()=>({refresh:x})),c.jsxs("div",{className:"flex flex-col h-full relative",children:[o&&c.jsxs("div",{className:"absolute inset-0 bg-[#1c1c1c]/80 z-10 flex flex-col items-center justify-center",children:[c.jsx("div",{className:"animate-spin w-10 h-10 border-3 border-[#909d63] border-t-transparent rounded-full mb-4"}),c.jsx("p",{className:"text-[#d6d6d6] font-medium",children:"Distribuindo com IA..."}),c.jsx("p",{className:"text-[#828282] text-sm mt-1",children:"OpenCode est processando"})]}),l&&!o&&c.jsx("div",{className:"absolute top-0 left-0 right-0 bg-[#909d63]/20 border-b border-[#909d63] px-4 py-2 z-10",children:c.jsx("p",{className:"text-[#909d63] text-sm font-medium text-center",children:"Clique nos dias para selecionar onde distribuir as tarefas"})}),c.jsxs("div",{className:`flex items-center justify-between mb-4 ${l&&!o?"mt-10":""}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:y,className:"p-1 text-[#828282] hover:text-[#d6d6d6] transition-colors",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"m15 18-6-6 6-6"})})}),c.jsxs("h2",{className:"text-lg font-medium text-[#d6d6d6] min-w-[180px] text-center",children:[m," ",a.year]}),c.jsx("button",{onClick:b,className:"p-1 text-[#828282] hover:text-[#d6d6d6] transition-colors",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"m9 18 6-6-6-6"})})})]}),c.jsx("button",{onClick:S,className:"px-3 py-1 text-sm bg-[#232323] text-[#d6d6d6] border border-[#3d3a34] hover:bg-[#2a2a2a] transition-colors",children:"Hoje"})]}),c.jsx("div",{className:"grid grid-cols-7 mb-1",children:LA.map(j=>c.jsx("div",{className:"text-center text-xs text-[#828282] py-1",children:j},j))}),c.jsx("div",{className:"grid grid-cols-7 flex-1",children:d.map(j=>c.jsx(zA,{date:j.date,dayNumber:j.dayNumber,isCurrentMonth:j.isCurrentMonth,isToday:j.isToday,tasks:g(j.date),onDrop:v},j.date))})]})}),$A={1:"#bc5653",2:"#ebc17a",3:"#909d63"};function HA(e){return e?new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}):""}function BA({task:e}){const t=cr(),n=Fe(g=>g.setDraggedTask),r=Fe(g=>g.isDistributionMode),a=Fe(g=>g.selectedTaskIds),s=Fe(g=>g.toggleTaskSelection),[i,o]=T.useState(!1),l=$A[e.priority]??"#909d63",u=e.due_date?new Date(e.due_date)<new Date:!1,f=a.has(e.id);function h(g){if(r){g.preventDefault();return}o(!0),n({id:e.id,title:e.title,fromDate:null}),g.dataTransfer&&(g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("text/plain",e.id))}function p(){o(!1),n(null)}function d(){if(r){s(e.id);return}t({to:"/tasks/$taskId",params:{taskId:e.id}})}function m(g){g.stopPropagation(),s(e.id)}return c.jsxs("div",{draggable:!r,role:"button",tabIndex:0,className:`flex items-center gap-2 px-2 py-1.5 bg-[#232323] transition-all hover:bg-[#2a2a2a] ${i?"opacity-50 cursor-grabbing":r?"cursor-pointer":"cursor-grab"} ${f?"ring-1 ring-[#909d63] bg-[#2a2a2a]":""}`,style:{borderLeftColor:u?"#bc5653":"#909d63",borderLeftWidth:"3px",borderLeftStyle:"solid"},onDragStart:h,onDragEnd:p,onClick:d,onKeyDown:g=>g.key==="Enter"&&d(),children:[r&&c.jsx("input",{type:"checkbox",checked:f,onChange:m,className:"w-4 h-4 accent-[#909d63] cursor-pointer",onClick:g=>g.stopPropagation()}),c.jsx("span",{className:"flex-1 text-sm text-[#d6d6d6] truncate",children:e.title}),e.due_date&&c.jsx("span",{className:`text-xs ${u?"text-[#bc5653]":"text-[#636363]"}`,children:HA(e.due_date)}),c.jsxs("span",{style:{color:l},className:"text-xs font-medium",children:["P",e.priority]})]})}const IA="/home/pedro/Documents/projects/workopilot/packages/cli";function FA(e,t){const n=e.map(a=>({id:a.id,title:a.title,priority:a.priority,category:a.category,complexity:a.complexity||"medium",due_date:a.due_date})),r=[...t].sort();return`You are a task scheduling assistant. Your job is to distribute the following tasks across the available dates using the WorkoPilot CLI.

## TASKS TO DISTRIBUTE:
${JSON.stringify(n,null,2)}

## AVAILABLE DATES (user selected these specific days):
${r.join(", ")}

## DISTRIBUTION RULES:
1. Consider task complexity: "complex" tasks need more time, schedule fewer per day
2. Consider priority: P1 (highest) should be scheduled earlier when possible
3. Consider due_date: Tasks with due dates should be scheduled before their due_date
4. Balance the workload across days - don't overload a single day
5. A "simple" task = 1 unit, "medium" = 2 units, "complex" = 3 units
6. Try to keep each day around 4-6 units total

## YOUR TASK:
For EACH task, run this command to schedule it:
\`\`\`bash
cd ${IA} && bun run src/index.ts update-task {TASK_ID} --scheduled-date {YYYY-MM-DD}
\`\`\`

Execute ALL the commands now. Do NOT explain, just run the commands to schedule each task.

After scheduling all tasks, respond with a brief summary of what was scheduled.`}async function VA(e,t){var i;if(e.length===0)throw new Error("Nenhuma tarefa selecionada");if(t.length===0)throw new Error("Nenhum dia selecionado");const n=my({baseUrl:"http://localhost:4096"}),r=FA(e,t),a=await n.session.create({body:{title:"Distribuio de Tarefas com IA"}});if(!((i=a.data)!=null&&i.id))throw new Error("Failed to create OpenCode session");const s=a.data.id;return await n.session.promptAsync({path:{id:s},body:{parts:[{type:"text",text:r}]}}),{sessionId:s}}async function ZA(e){const t=my({baseUrl:"http://localhost:4096"});try{const n=await t.session.status({});if(n.data){const r=n.data[e];if((r==null?void 0:r.type)==="idle")return"idle";if((r==null?void 0:r.type)==="busy"||(r==null?void 0:r.type)==="retry")return"running"}return"idle"}catch{return"error"}}const KA=["feature","bug","refactor","test","docs"],QA=[{value:"1",label:"Alta"},{value:"2",label:"Mdia"},{value:"3",label:"Baixa"}],YA=T.forwardRef(function({projects:t,onTaskScheduled:n},r){const a=Fe(oe=>oe.draggedTask),s=Fe(oe=>oe.setDraggedTask),i=Fe(oe=>oe.isDistributionMode),o=Fe(oe=>oe.setDistributionMode),l=Fe(oe=>oe.isDistributing),u=Fe(oe=>oe.setIsDistributing),f=Fe(oe=>oe.selectedTaskIds),h=Fe(oe=>oe.selectedDates),p=Fe(oe=>oe.selectAllTasks),d=Fe(oe=>oe.clearTaskSelection),m=Fe(oe=>oe.resetDistributionState),[g,x]=T.useState([]),[v,y]=T.useState(!0),[b,S]=T.useState(!1),[j,M]=T.useState(""),[E,q]=T.useState(""),[L,N]=T.useState(""),[k,P]=T.useState(null);async function F(){y(!0);const oe=await se("get_unscheduled_tasks",{projectId:j||null,category:E||null,priority:L?parseInt(L):null}).catch(de=>(console.error("Failed to load unscheduled tasks:",de),[]));x(oe),y(!1)}async function W(oe){oe.preventDefault(),S(!1),a!=null&&a.fromDate&&(await se("unschedule_task",{taskId:a.id}).catch(de=>console.error("Failed to unschedule task:",de)),await F(),n()),s(null)}function Y(oe){oe.preventDefault(),a!=null&&a.fromDate&&S(!0)}function U(){S(!1)}function Q(){return[{value:"",label:"Todos projetos"},...t.map(oe=>({value:oe.id,label:oe.name}))]}function ae(){return[{value:"",label:"Categoria"},...KA.map(oe=>({value:oe,label:oe}))]}function ve(){return[{value:"",label:"Prioridade"},...QA]}function pe(){o(!0),p(g.map(oe=>oe.id)),P(null)}function me(){m(),P(null)}async function Oe(){if(f.size===0||h.size===0)return;const oe=g.filter(de=>f.has(de.id)).map(de=>({id:de.id,title:de.title,priority:de.priority,category:de.category,complexity:null,due_date:de.due_date}));u(!0),P(null);try{const{sessionId:de}=await VA(oe,[...h]),Be=setInterval(async()=>{const Ie=await ZA(de);(Ie==="idle"||Ie==="error")&&(clearInterval(Be),u(!1),m(),F(),n())},2e3);setTimeout(()=>{clearInterval(Be),l&&(u(!1),m(),F(),n())},12e4)}catch(de){P(de instanceof Error?de.message:"Erro ao distribuir tarefas"),u(!1)}}function Ke(){f.size===g.length?d():p(g.map(oe=>oe.id))}return T.useEffect(()=>{F()},[j,E,L]),T.useImperativeHandle(r,()=>({refresh:F})),c.jsxs("div",{className:`flex flex-col h-full border-r border-[#3d3a34] bg-[#1c1c1c] ${b?"bg-[#232323] border-dashed border-[#909d63]":""}`,onDragOver:Y,onDragLeave:U,onDrop:W,role:"region","aria-label":"Tarefas no agendadas",children:[c.jsxs("div",{className:"p-3 border-b border-[#3d3a34]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm font-medium text-[#d6d6d6]",children:i?"Selecionar Tarefas":"No Agendadas"}),i&&c.jsxs("button",{type:"button",onClick:Ke,className:"text-xs text-[#909d63] hover:text-[#a0ad73]",children:[f.size===g.length?"Desmarcar":"Selecionar"," todas"]})]}),!i&&c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(Bn,{value:j,options:Q(),onChange:oe=>M(oe),className:"w-full"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Bn,{value:E,options:ae(),onChange:oe=>q(oe),className:"flex-1"}),c.jsx(Bn,{value:L,options:ve(),onChange:oe=>N(oe),className:"flex-1"})]})]}),i&&c.jsxs("div",{className:"text-xs text-[#828282]",children:[c.jsxs("p",{children:[f.size," tarefas selecionadas"]}),c.jsxs("p",{children:[h.size," dias selecionados no calendrio"]})]}),k&&c.jsx("div",{className:"mt-2 p-2 bg-[#bc5653]/20 border border-[#bc5653] text-[#d6d6d6] text-xs",children:k})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:v?c.jsx("div",{className:"text-center text-[#636363] py-4 text-sm",children:"Carregando..."}):g.length===0?c.jsx("div",{className:"text-center text-[#636363] py-4 text-sm",children:b?"Solte para remover do calendrio":"Todas as tarefas esto agendadas"}):c.jsx("div",{className:"flex flex-col gap-1",children:g.map(oe=>c.jsx(BA,{task:oe},oe.id))})}),c.jsx("div",{className:"p-3 border-t border-[#3d3a34]",children:i?c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"button",onClick:me,disabled:l,className:"flex-1 px-4 py-2 bg-[#232323] text-[#d6d6d6] text-sm hover:bg-[#2a2a2a] disabled:opacity-50 transition-colors",children:"Cancelar"}),c.jsx("button",{type:"button",disabled:f.size===0||h.size===0||l,onClick:Oe,className:"flex-1 px-4 py-2 bg-[#909d63] text-[#1c1c1c] text-sm font-medium hover:bg-[#a0ad73] disabled:bg-[#3d3a34] disabled:text-[#636363] disabled:cursor-not-allowed transition-colors",children:l?"Processando...":"Distribuir"})]}):c.jsx("button",{type:"button",disabled:g.length===0,onClick:pe,className:"w-full px-4 py-2 bg-[#909d63] text-[#1c1c1c] text-sm font-medium hover:bg-[#a0ad73] disabled:bg-[#3d3a34] disabled:text-[#636363] disabled:cursor-not-allowed transition-colors",children:"Distribuir com IA"})})]})});function GA(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function JA(e,t,n,r,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var gd;const XA="__TAURI_TO_IPC_KEY__";function WA(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}async function vy(e,t={},n){return window.__TAURI_INTERNALS__.invoke(e,t,n)}class e4{get rid(){return GA(this,gd,"f")}constructor(t){gd.set(this,void 0),JA(this,gd,t)}async close(){return vy("plugin:resources|close",{rid:this.rid})}}gd=new WeakMap;const t4=Object.freeze(Object.defineProperty({__proto__:null,Resource:e4,SERIALIZE_TO_IPC_FN:XA,invoke:vy,transformCallback:WA},Symbol.toStringTag,{value:"Module"})),n4={1:"#bc5653",2:"#ebc17a",3:"#909d63"};function r4({task:e,onStatusChange:t}){const n=cr(),r=Fe(d=>d.setDraggedTask),a=Fe(d=>d.setDrawerCollapsed),[s,i]=T.useState(!1),o=n4[e.priority]??"#909d63",l=e.status==="done";async function u(d){d.stopPropagation();const m=l?"pending":"done";await vy("update_task_status",{taskId:e.id,status:m}).catch(g=>console.error("Failed to update task status:",g)),t()}function f(d){i(!0),a(!0),r({id:e.id,title:e.title,fromDate:e.scheduled_date}),d.dataTransfer&&(d.dataTransfer.effectAllowed="move",d.dataTransfer.setData("text/plain",e.id))}function h(){i(!1),a(!1),r(null)}function p(){n({to:"/tasks/$taskId",params:{taskId:e.id}})}return c.jsxs("div",{draggable:"true",role:"button",tabIndex:0,className:`flex items-center gap-3 px-3 py-2 bg-[#232323] hover:bg-[#2a2a2a] cursor-grab transition-all group ${s||l?"opacity-50":""} ${s?"cursor-grabbing":""}`,onDragStart:f,onDragEnd:h,onClick:p,onKeyDown:d=>d.key==="Enter"&&p(),children:[c.jsx("button",{onClick:u,className:"text-[#636363] hover:text-[#909d63] transition-colors",children:l?"[x]":"[ ]"}),c.jsx("span",{className:`flex-1 text-sm text-[#d6d6d6] truncate ${l?"line-through":""}`,children:e.title}),c.jsx("span",{className:"px-2 py-0.5 text-xs text-[#1c1c1c] bg-[#6b7c5e]",children:e.category}),c.jsxs("span",{style:{color:o},className:"text-xs font-medium",children:["P",e.priority]})]})}function a4({onClose:e,onTaskChange:t}){const n=Fe(j=>j.selectedDate),r=Fe(j=>j.drawerCollapsed),[a,s]=T.useState([]),[i,o]=T.useState(!0),[l,u]=T.useState(new Map),[f,h]=T.useState(new Set),p=T.useCallback(()=>n?new Date(n+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"",[n]);async function d(j,M){const E=await se("get_task_full",{projectPath:M,taskId:j}).catch(()=>null);return E&&u(q=>new Map(q).set(j,E)),E}async function m(j){for(const M of j)if(M.project_id&&M.json_path){const E=await se("get_project_with_config",{projectId:M.project_id}).catch(()=>null);E&&await d(M.id,E.path)}}async function g(){if(!n)return;o(!0);const j=await se("get_tasks_for_date",{date:n}).catch(M=>(console.error("Failed to load tasks for date:",M),[]));s(j),await m(j),o(!1)}function x(j){var M;return((M=l.get(j))==null?void 0:M.subtasks)??[]}function v(j){h(M=>{const E=new Set(M);return E.has(j)?E.delete(j):E.add(j),E})}async function y(j,M){const E=l.get(j);if(!E)return;const q=a.find(P=>P.id===j);if(!(q!=null&&q.project_id))return;const L=await se("get_project_with_config",{projectId:q.project_id}).catch(()=>null);if(!L)return;const N=E.subtasks.map(P=>{if(P.id===M){const F=P.status==="done"?"pending":"done";return{...P,status:F,completed_at:F==="done"?new Date().toISOString():null}}return P}),k={...E,subtasks:N,modified_at:new Date().toISOString()};N.every(P=>P.status==="done")&&N.length>0&&(k.status="done"),await se("update_task_and_sync",{projectPath:L.path,task:k}).catch(P=>console.error("Failed to toggle subtask:",P)),u(P=>new Map(P).set(j,k)),S()}function b(j){j.target.classList.contains("drawer-backdrop")&&e()}function S(){g(),t()}return T.useEffect(()=>{n&&g()},[n]),T.useEffect(()=>{function j(M){M.key==="Escape"&&e()}return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[e]),!n||r?null:c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",className:"drawer-backdrop fixed inset-0 bg-black/50 z-40",onClick:b,"aria-label":"Fechar drawer"}),c.jsxs("div",{className:"fixed top-0 right-0 h-full w-[400px] bg-[#1c1c1c] border-l border-[#3d3a34] z-50 flex flex-col shadow-xl animate-slide-in",children:[c.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-[#3d3a34]",children:[c.jsx("button",{onClick:e,className:"text-[#636363] hover:text-[#d6d6d6] transition-colors p-1",title:"Fechar",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"m15 18-6-6 6-6"})})}),c.jsx("h2",{className:"text-base font-medium text-[#d6d6d6] capitalize",children:p()})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:i?c.jsx("div",{className:"text-center text-[#636363] py-8 text-sm",children:"Carregando..."}):a.length===0?c.jsx("div",{className:"text-center text-[#636363] py-8 text-sm",children:"Nenhuma tarefa para este dia"}):c.jsx("div",{className:"flex flex-col gap-1",children:a.map(j=>{const M=x(j.id),E=M.filter(L=>L.status==="done").length,q=f.has(j.id);return c.jsxs("div",{className:"bg-[#232323]",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[M.length>0&&c.jsx("button",{onClick:()=>v(j.id),className:"pl-2 text-[#636363] hover:text-[#d6d6d6] transition-colors",title:q?"Recolher subtasks":"Expandir subtasks",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`transition-transform ${q?"rotate-90":""}`,children:c.jsx("path",{d:"m9 18 6-6-6-6"})})}),c.jsx("div",{className:`flex-1 ${M.length>0?"":"pl-2"}`,children:c.jsx(r4,{task:j,onStatusChange:S})}),M.length>0&&c.jsxs("span",{className:"pr-3 text-xs text-[#636363]",children:[E,"/",M.length]})]}),q&&M.length>0&&c.jsx("div",{className:"pl-8 pr-3 pb-2 space-y-1",children:M.map(L=>c.jsxs("div",{className:`flex items-center gap-2 text-sm ${L.status==="done"?"opacity-50":""}`,children:[c.jsx("button",{onClick:()=>y(j.id,L.id),className:`text-xs ${L.status==="done"?"text-[#909d63]":"text-[#636363] hover:text-[#909d63]"}`,children:L.status==="done"?"[x]":"[ ]"}),c.jsx("span",{className:`text-[#d6d6d6] ${L.status==="done"?"line-through":""}`,children:L.title})]},L.id))})]},j.id)})})}),c.jsx("div",{className:"p-3 border-t border-[#3d3a34] text-xs text-[#636363]",children:"Arraste tarefas para reagendar  Clique para editar"})]})]})}function s4(){const e=Fe(u=>u.setSelectedDate),[t,n]=T.useState([]),r=T.useRef(null),a=T.useRef(null);async function s(){const u=await se("get_projects").catch(f=>(console.error("Failed to load projects:",f),[]));n(u)}function i(){e(null)}function o(){var u,f;(u=r.current)==null||u.refresh(),(f=a.current)==null||f.refresh()}function l(){var u,f;(u=r.current)==null||u.refresh(),(f=a.current)==null||f.refresh()}return T.useEffect(()=>{s()},[]),c.jsxs(c.Fragment,{children:[c.jsx(uc,{}),c.jsxs("main",{className:"flex-1 flex overflow-hidden",children:[c.jsx("div",{className:"w-1/3 min-w-[280px] max-w-[360px]",children:c.jsx(YA,{ref:a,projects:t,onTaskScheduled:o})}),c.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:c.jsx(qA,{ref:r,onTasksChanged:o})}),c.jsx(a4,{onClose:i,onTaskChange:l})]})]})}const i4=or("/agenda")({component:s4}),o4=or("/")({beforeLoad:()=>{throw dg({to:"/projects"})}}),by=["pending","structuring","structured","working","standby","ready_to_review","completed"],sf={pending:"#636363",structuring:"#c678dd",structured:"#e5c07b",working:"#61afef",standby:"#d19a66",ready_to_review:"#98c379",completed:"#909d63"},_y={pending:"Pendente",structuring:"Estruturando",structured:"Estruturada",working:"Trabalhando",standby:"Standby",ready_to_review:"Reviso",completed:"Concluda"},l4={pending:"none",structuring:"border-l",structured:"ring",working:"border-l",standby:"ring",ready_to_review:"ring",completed:"border-l"};function Ff(e){return by.includes(e)?e:e==="done"?"completed":e==="active"||e==="in_progress"?"working":"pending"}function dc(e){return e?Ff(e.status):"pending"}function xy(e){const t=dc(e);return sf[t]}function Sy(e){const t=dc(e);return _y[t]}function c4(e){const t=Ff(e);return t==="structuring"||t==="working"}function wy(e){return e?c4(e.status):!1}function u4(e){const t=Ff(e);return l4[t]}function jy(e){return e?u4(e.status):"none"}function d4(e){return e&&{simple:"text-[#909d63]",medium:"text-[#ebc17a]",complex:"text-[#bc5653]",S:"text-[#909d63]",M:"text-[#ebc17a]",L:"text-[#bc5653]",XL:"text-[#bc5653] font-bold"}[e]||"text-[#636363]"}function f4(e){return e?{simple:"Simples",medium:"Mdia",complex:"Complexa",S:"Simples",M:"Mdia",L:"Complexa",XL:"Muito Complexa"}[e]||e:"-"}function h4(){return by.map(e=>({value:e,label:_y[e]}))}function p4(e){if(!e)return null;const t=Ff(e.status);return t==="completed"||t==="structuring"||t==="working"?null:t==="pending"?"structure":t==="ready_to_review"?"review":t==="structured"?e.subtasks.length<=3?"execute_all":"execute_subtask":t==="standby"?"execute_subtask":null}const m4=dc,dp=["tasks"],fp=["activeExecutions"];async function g4(){return se("get_tasks").catch(()=>[])}async function y4(){const e=await se("get_all_active_executions").catch(()=>[]),t=new Map;for(const n of e)t.set(n.task_id,n);return t}async function E0(e,t){return se("get_task_full",{projectPath:t,taskId:e}).catch(()=>null)}function v4({filters:e}){const t=wo(),n=T.useRef([]),r=T.useRef(new Map),a=xa({queryKey:[...dp],queryFn:g4,staleTime:3e4}),s=xa({queryKey:[...fp],queryFn:y4,staleTime:5e3,refetchInterval:1e4}),i=a.data??[],o=s.data??new Map;T.useEffect(()=>{n.current=i},[i]);const l=T.useCallback(async()=>{const m=new Map;for(const g of i)if(g.project_id){const x=await se("get_project_with_config",{projectId:g.project_id}).catch(()=>null);if(x){const v=await E0(g.id,x.path);v&&m.set(g.id,v)}}r.current=m},[i]);T.useEffect(()=>{i.length>0&&l()},[i,l]),T.useEffect(()=>{let m=null,g=null;return ts("task-updated",async x=>{if(x.payload.source==="ai"){const v=x.payload.task_id,y=n.current.find(b=>b.id===v);if(y!=null&&y.project_id){const b=await se("get_project_with_config",{projectId:y.project_id}).catch(()=>null);if(b){const S=await E0(v,b.path);S&&(await se("update_task_and_sync",{projectPath:b.path,task:S}).catch(()=>null),r.current=new Map(r.current).set(v,S),t.invalidateQueries({queryKey:dp}))}}}}).then(x=>{m=x}),ts("execution-changed",()=>{t.invalidateQueries({queryKey:fp})}).then(x=>{g=x}),()=>{m==null||m(),g==null||g()}},[t]);const u=T.useMemo(()=>{let m=e.projectId?i.filter(g=>g.project_id===e.projectId):i;return e.priority&&(m=m.filter(g=>g.priority===e.priority)),e.category&&(m=m.filter(g=>g.category===e.category)),e.status&&(m=m.filter(g=>{const x=r.current.get(g.id);return m4(x||null)===e.status})),m},[i,e]),f=T.useMemo(()=>u.filter(g=>g.status!=="done").sort((g,x)=>{const v=g.status==="active",y=x.status==="active";if(v&&!y)return-1;if(!v&&y)return 1;const b=o.has(g.id),S=o.has(x.id);return b&&!S?-1:!b&&S?1:0}),[u,o]),h=T.useMemo(()=>u.filter(m=>m.status==="done"),[u]),p=T.useCallback(m=>{var g;return((g=r.current.get(m))==null?void 0:g.subtasks)||[]},[]),d=T.useCallback(()=>{t.invalidateQueries({queryKey:dp}),t.invalidateQueries({queryKey:fp})},[t]);return{tasks:u,taskFullCache:r.current,activeExecutions:o,isLoading:a.isLoading,isError:a.isError,refetch:d,getSubtasks:p,pendingTasks:f,doneTasks:h}}function b4(e){return xa({queryKey:["projectPath",e],queryFn:async()=>{if(!e)return null;const t=await se("get_project_with_config",{projectId:e}).catch(()=>null);return(t==null?void 0:t.path)??null},enabled:!!e,staleTime:6e4})}const T0={projectId:null,priority:null,category:null,status:null};function _4(e=null){const[t,n]=T.useState({...T0,projectId:e}),r=T.useCallback(u=>{n(f=>({...f,projectId:u}))},[]),a=T.useCallback(u=>{n(f=>({...f,priority:u}))},[]),s=T.useCallback(u=>{n(f=>({...f,category:u}))},[]),i=T.useCallback(u=>{n(f=>({...f,status:u}))},[]),o=T.useCallback(()=>{n(u=>({...T0,projectId:u.projectId}))},[]),l=T.useMemo(()=>t.priority!==null||t.category!==null||t.status!==null,[t.priority,t.category,t.status]);return{filters:t,setProjectFilter:r,setPriorityFilter:a,setCategoryFilter:s,setStatusFilter:i,clearFilters:o,hasActiveFilters:l}}const x4=["feature","bug","refactor","test","docs"],M2=[{value:1,label:"Alta",color:"bg-[#bc5653]"},{value:2,label:"Mdia",color:"bg-[#ebc17a]"},{value:3,label:"Baixa",color:"bg-[#8b7355]"}];function z2(){return x4.map(e=>({value:e,label:e}))}function L2(){return M2.map(e=>({value:String(e.value),label:e.label}))}function S4(e){const t=M2.find(n=>n.value===e);return(t==null?void 0:t.color)||"bg-[#8b7355]"}function w4({queryState:e,onNewTaskClick:t,canCreateTask:n}){const{filters:r,setCategoryFilter:a,setPriorityFilter:s,setStatusFilter:i,clearFilters:o,hasActiveFilters:l}=e;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2 p-3 border-b border-[#3d3a34]",children:[c.jsx("button",{type:"button",onClick:t,disabled:!n,className:"flex-1 px-3 py-2 bg-[#1c1c1c] border border-[#3d3a34] text-[#636363] text-sm text-left hover:border-[#909d63] hover:text-[#d6d6d6] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Nova tarefa...":"Selecione um projeto para adicionar tarefas"}),c.jsx("button",{type:"button",onClick:t,disabled:!n,className:"px-4 py-2 bg-[#909d63] text-[#1c1c1c] text-sm hover:bg-[#a0ad73] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"+ Nova"})]}),c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#1c1c1c] border-b border-[#3d3a34]",children:[c.jsx("div",{className:"flex-1"}),c.jsx(Bn,{value:r.category||"",onChange:u=>a(u||null),options:[{value:"",label:"Categoria"},...z2()]}),c.jsx(Bn,{value:r.priority?String(r.priority):"",onChange:u=>s(u?parseInt(u):null),options:[{value:"",label:"Prioridade"},...L2()]}),c.jsx(Bn,{value:r.status||"",onChange:u=>i(u||null),options:[{value:"",label:"Status"},...h4()]}),l&&c.jsx("button",{type:"button",onClick:o,className:"px-3 py-2 text-xs text-[#636363] hover:text-[#d6d6d6] transition-colors",children:"Limpar"})]})]})}function j4(){const e=wo();return os({mutationFn:async t=>await se("create_task_with_json",t),onSuccess:()=>{e.invalidateQueries({queryKey:["tasks"]})}})}function C4({projectId:e,projectPath:t,onClose:n,onCreated:r}){const[a,s]=T.useState(""),[i,o]=T.useState(2),[l,u]=T.useState("feature"),f=T.useRef(null),h=j4();T.useEffect(()=>{var d;(d=f.current)==null||d.focus()},[]),T.useEffect(()=>{function d(m){m.key==="Escape"&&n()}return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[n]);async function p(d){d.preventDefault(),a.trim()&&(await h.mutateAsync({projectId:e,projectPath:t,title:a.trim(),priority:i,category:l}),r())}return wf.createPortal(c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-24",children:[c.jsx("button",{type:"button",className:"absolute inset-0 bg-black/50",onClick:n,"aria-label":"Fechar dialog"}),c.jsxs("div",{className:"relative w-full max-w-lg bg-[#1c1c1c] border border-[#3d3a34] shadow-xl animate-fade-in",children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-[#3d3a34]",children:[c.jsx("h2",{className:"text-sm font-medium text-[#d6d6d6]",children:"Nova Tarefa"}),c.jsx("button",{type:"button",onClick:n,className:"p-1 hover:bg-[#2a2a2a] transition-colors","aria-label":"Fechar",children:c.jsx(ni,{size:16,className:"text-[#828282]"})})]}),c.jsxs("form",{onSubmit:p,className:"p-4 space-y-4",children:[c.jsx("div",{children:c.jsx("input",{ref:f,type:"text",placeholder:"Ttulo da tarefa...",value:a,onChange:d=>s(d.target.value),className:"w-full px-3 py-2 bg-[#232323] border border-[#3d3a34] text-[#d6d6d6] text-sm focus:border-[#909d63] focus:outline-none"})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("span",{className:"block text-xs text-[#636363] mb-1",children:"Categoria"}),c.jsx(Bn,{value:l,onChange:d=>u(d),options:z2(),className:"w-full"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("span",{className:"block text-xs text-[#636363] mb-1",children:"Prioridade"}),c.jsx(Bn,{value:String(i),onChange:d=>o(parseInt(d)),options:L2(),className:"w-full"})]})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm text-[#636363] hover:text-[#d6d6d6] transition-colors",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:!a.trim()||h.isPending,className:"px-4 py-2 bg-[#909d63] text-[#1c1c1c] text-sm hover:bg-[#a0ad73] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h.isPending?"Criando...":"Criar Tarefa"})]})]})]})]}),document.body)}function N0({task:e,taskFull:t,execution:n,subtasks:r,isDeleteConfirming:a,isDone:s=!1,onToggle:i,onEdit:o,onCodar:l,onCodarSubtask:u,onToggleSubtask:f,onReview:h,onDelete:p}){const d=n&&n.status==="running",m=wy(t),g=d||m,x=xy(t),v=Sy(t),y=jy(t),b=t==null?void 0:t.complexity,S=r.filter(N=>N.status==="done").length,j=r.length>0&&r.every(N=>N.status==="done"),E=`bg-[#232323] hover:bg-[#2a2a2a] transition-colors group ${y==="ring"?"ring-1":y==="border-l"?"border-l-4":""} ${d?"ring-1 ring-[#909d63]":""}`,q={...y==="border-l"?{borderLeftColor:x}:{},...y==="ring"&&!d?{boxShadow:`0 0 0 1px ${x}`}:{}};function L(N){(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),o())}return s?c.jsxs("div",{role:"button",tabIndex:0,onClick:o,onKeyDown:L,className:"flex items-center gap-3 px-3 py-2 bg-[#232323] hover:bg-[#2a2a2a] transition-colors group cursor-pointer",children:[c.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),i()},className:"text-[#909d63]",children:"[x]"}),c.jsx("span",{className:"flex-1 text-[#d6d6d6] text-sm line-through",children:e.title}),c.jsx("span",{className:"px-2 py-0.5 text-xs text-[#1c1c1c] bg-[#6b7c5e]",children:e.category}),c.jsx(R0,{isConfirming:a,onDelete:p})]}):c.jsxs("div",{className:E,style:q,children:[c.jsxs("div",{role:"button",tabIndex:0,onClick:o,onKeyDown:L,className:"flex items-center gap-3 px-3 py-2 cursor-pointer",children:[g?c.jsx(da,{size:14,className:"text-[#61afef] animate-spin","aria-label":"Carregando"}):c.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),i()},className:"text-[#636363] hover:text-[#909d63] transition-colors",children:"[ ]"}),c.jsxs("span",{className:"flex-1 text-[#d6d6d6] text-sm flex items-center gap-2",children:[e.title,d&&n&&c.jsxs("span",{className:"text-xs text-[#909d63] opacity-75",children:["(Passo ",n.current_step,"/",n.total_steps,")"]})]}),r.length>0&&c.jsxs("span",{className:"text-xs text-[#636363]",children:[S,"/",r.length]}),b&&c.jsx("span",{className:`text-xs ${d4(b)}`,children:f4(b)}),c.jsx(E4,{color:x,label:v}),c.jsx("span",{className:"px-2 py-0.5 text-xs text-[#1c1c1c] bg-[#6b7c5e]",children:e.category}),c.jsx(T4,{priority:e.priority}),c.jsx(R0,{isConfirming:a,onDelete:p}),j&&c.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),h()},className:"px-3 py-1 text-xs bg-[#ebc17a] text-[#1c1c1c] hover:bg-[#f5d08a] transition-colors",children:"Revisar"}),c.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),l()},className:"px-3 py-1 text-xs bg-[#909d63] text-[#1c1c1c] hover:bg-[#a0ad73] transition-colors",children:"Codar >"})]}),r.length>0&&c.jsx("div",{className:"pl-8 pr-3 pb-2 space-y-1",children:r.map(N=>c.jsx(N4,{subtask:N,onToggle:()=>f(N.id),onCodar:()=>u(N.id)},N.id))})]})}function E4({color:e,label:t}){return c.jsx("span",{className:"px-2 py-0.5 text-xs text-[#1c1c1c] rounded",style:{backgroundColor:e},children:t})}function T4({priority:e}){return c.jsxs("span",{className:`px-2 py-0.5 text-xs text-[#1c1c1c] ${S4(e)}`,children:["P",e]})}function R0({isConfirming:e,onDelete:t}){return c.jsx("button",{type:"button",onClick:n=>{n.stopPropagation(),t()},className:`opacity-0 group-hover:opacity-100 p-1 transition-all ${e?"text-[#bc5653]":"text-[#636363] hover:text-[#bc5653]"}`,title:e?"Confirmar exclusao":"Excluir tarefa",children:e?c.jsx(py,{size:14}):c.jsx(Fk,{size:14})})}function N4({subtask:e,onToggle:t,onCodar:n}){const r=e.status==="done";return c.jsxs("div",{className:`flex items-center gap-2 text-sm ${r?"opacity-50":""}`,children:[c.jsx("button",{type:"button",onClick:t,className:`text-xs ${r?"text-[#909d63]":"text-[#636363] hover:text-[#909d63]"}`,children:r?"[x]":"[ ]"}),c.jsx("span",{className:`text-[#d6d6d6] ${r?"line-through":""}`,children:e.title}),c.jsx("button",{type:"button",onClick:a=>{a.stopPropagation(),n()},disabled:r,className:"ml-auto px-2 py-0.5 text-xs bg-[#3d3a34] text-[#d6d6d6] hover:bg-[#4a4a4a] disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Codar >"})]})}function R4({pendingTasks:e,doneTasks:t,taskFullCache:n,activeExecutions:r,deleteConfirmId:a,isLoading:s,getSubtasks:i,onToggleTask:o,onEditTask:l,onCodarTask:u,onCodarSubtask:f,onToggleSubtask:h,onReviewTask:p,onDeleteClick:d}){const m=e.length===0&&t.length===0;return s?c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center gap-2 text-[#636363]",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin","aria-hidden":"true",children:c.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),c.jsx("span",{className:"text-sm",children:"Carregando tarefas..."})]})}):m?c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsx("div",{className:"text-center text-[#636363] py-8",children:"Nenhuma tarefa encontrada. Adicione uma nova!"})}):c.jsxs("div",{className:"flex-1 overflow-y-auto p-3",children:[e.length>0&&c.jsx("div",{className:"space-y-1",children:e.map(g=>c.jsx(N0,{task:g,taskFull:n.get(g.id)||null,execution:r.get(g.id),subtasks:i(g.id),isDeleteConfirming:a===g.id,onToggle:()=>o(g.id,g.status),onEdit:()=>l(g.id),onCodar:()=>u(g),onCodarSubtask:x=>f(g,x),onToggleSubtask:x=>h(g.id,x),onReview:()=>p(g),onDelete:()=>d(g.id)},g.id))}),t.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"text-xs text-[#636363] uppercase tracking-wide mb-2",children:["Concluidas (",t.length,")"]}),c.jsx("div",{className:"space-y-1 opacity-50",children:t.map(g=>c.jsx(N0,{task:g,taskFull:n.get(g.id)||null,execution:void 0,subtasks:[],isDeleteConfirming:a===g.id,isDone:!0,onToggle:()=>o(g.id,g.status),onEdit:()=>l(g.id),onCodar:()=>u(g),onCodarSubtask:()=>{},onToggleSubtask:()=>{},onReview:()=>{},onDelete:()=>d(g.id)},g.id))})]})]})}function k4(){const e=cr(),t=fn(L=>L.selectedProjectId),[n,r]=T.useState(!1),[a,s]=T.useState(null),i=_4(t),{data:o}=b4(t),{tasks:l,taskFullCache:u,activeExecutions:f,isLoading:h,refetch:p,getSubtasks:d,pendingTasks:m,doneTasks:g}=v4({filters:i.filters}),x=T.useCallback(async(L,N)=>{await se("update_task_status",{taskId:L,status:N==="done"?"pending":"done"}).catch(P=>console.error("Failed to update task:",P)),p()},[p]),v=T.useCallback(L=>{e({to:"/tasks/$taskId",params:{taskId:L}})},[e]),y=T.useCallback(async L=>{L.project_id&&await se("launch_task_workflow",{projectId:L.project_id,taskId:L.id,subtaskId:null}).catch(N=>console.error("Failed to launch task workflow:",N))},[]),b=T.useCallback(async(L,N)=>{L.project_id&&await se("launch_task_workflow",{projectId:L.project_id,taskId:L.id,subtaskId:N}).catch(k=>console.error("Failed to launch subtask workflow:",k))},[]),S=T.useCallback(async(L,N)=>{const k=u.get(L);if(!k)return;const P=l.find(U=>U.id===L);if(!(P!=null&&P.project_id))return;const F=await se("get_project_with_config",{projectId:P.project_id}).catch(()=>null);if(!F)return;const W=k.subtasks.map(U=>{if(U.id===N){const Q=U.status==="done"?"pending":"done";return{...U,status:Q,completed_at:Q==="done"?new Date().toISOString():null}}return U}),Y={...k,subtasks:W,modified_at:new Date().toISOString()};W.every(U=>U.status==="done")&&W.length>0&&(Y.status="done"),await se("update_task_and_sync",{projectPath:F.path,task:Y}).catch(U=>console.error("Failed to toggle subtask:",U)),p()},[u,l,p]),j=T.useCallback(async L=>{L.project_id&&await se("launch_task_review",{projectId:L.project_id,taskId:L.id}).catch(N=>console.error("Failed to launch task review:",N))},[]),M=T.useCallback(async L=>{const N=l.find(P=>P.id===L);if(!(N!=null&&N.project_id))return;const k=await se("get_project_with_config",{projectId:N.project_id}).catch(()=>null);k&&(await se("delete_task_full",{projectPath:k.path,taskId:L}).catch(P=>console.error("Failed to delete task:",P)),s(null),p())},[l,p]),E=T.useCallback(L=>{a===L?M(L):(s(L),setTimeout(()=>{s(N=>N===L?null:N)},3e3))},[a,M]),q=T.useCallback(()=>{r(!1),p()},[p]);return c.jsxs(c.Fragment,{children:[c.jsx(w4,{queryState:i,onNewTaskClick:()=>r(!0),canCreateTask:!!t}),c.jsx(R4,{pendingTasks:m,doneTasks:g,taskFullCache:u,activeExecutions:f,deleteConfirmId:a,isLoading:h,getSubtasks:d,onToggleTask:x,onEditTask:v,onCodarTask:y,onCodarSubtask:b,onToggleSubtask:S,onReviewTask:j,onDeleteClick:E}),n&&t&&o&&c.jsx(C4,{projectId:t,projectPath:o,onClose:()=>r(!1),onCreated:q})]})}function O4(){return c.jsx(k4,{})}const A4=or("/tasks/")({component:O4});function J(e,t,n){function r(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:i,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,l);const u=i.prototype,f=Object.keys(u);for(let h=0;h<f.length;h++){const p=f[h];p in o||(o[p]=u[p].bind(o))}}const a=(n==null?void 0:n.Parent)??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function i(o){var l;const u=n!=null&&n.Parent?new s:this;r(u,o),(l=u._zod).deferred??(l.deferred=[]);for(const f of u._zod.deferred)f();return u}return Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:o=>{var l,u;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(u=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:u.has(e)}}),Object.defineProperty(i,"name",{value:e}),i}class Zi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class P2 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const U2={};function ri(e){return U2}function q2(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function Hm(e,t){return typeof t=="bigint"?t.toString():t}function Cy(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ey(e){return e==null}function Ty(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function D4(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l!=null&&l[1]&&(a=Number.parseInt(l[1]))}const s=n>a?n:a,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}const k0=Symbol("evaluating");function Xe(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==k0)return r===void 0&&(r=k0,r=n()),r},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function di(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function us(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function O0(e){return JSON.stringify(e)}function M4(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const $2="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function of(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const z4=Cy(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Bl(e){if(of(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(of(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function H2(e){return Bl(e)?{...e}:Array.isArray(e)?[...e]:e}const L4=new Set(["string","number","symbol"]);function Vf(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ds(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function xe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function P4(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const U4={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function q4(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=us(e._zod.def,{get shape(){const i={};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(i[o]=n.shape[o])}return di(this,"shape",i),i},checks:[]});return ds(e,s)}function $4(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=us(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete i[o]}return di(this,"shape",i),i},checks:[]});return ds(e,s)}function H4(e,t){if(!Bl(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const i in t)if(Object.getOwnPropertyDescriptor(s,i)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=us(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return di(this,"shape",s),s}});return ds(e,a)}function B4(e,t){if(!Bl(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=us(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return di(this,"shape",r),r}});return ds(e,n)}function I4(e,t){const n=us(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return di(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return ds(e,n)}function F4(e,t,n){const a=t._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const i=us(t._zod.def,{get shape(){const o=t._zod.def.shape,l={...o};if(n)for(const u in n){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=e?new e({type:"optional",innerType:o[u]}):o[u])}else for(const u in o)l[u]=e?new e({type:"optional",innerType:o[u]}):o[u];return di(this,"shape",l),l},checks:[]});return ds(t,i)}function V4(e,t,n){const r=us(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(n)for(const i in n){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(s[i]=new e({type:"nonoptional",innerType:a[i]}))}else for(const i in a)s[i]=new e({type:"nonoptional",innerType:a[i]});return di(this,"shape",s),s}});return ds(t,r)}function Pi(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function B2(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Gc(e){return typeof e=="string"?e:e==null?void 0:e.message}function ai(e,t,n){var a,s,i,o,l,u;const r={...e,path:e.path??[]};if(!e.message){const f=Gc((i=(s=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:s.error)==null?void 0:i.call(s,e))??Gc((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??Gc((l=n.customError)==null?void 0:l.call(n,e))??Gc((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=f}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Ny(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Il(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const I2=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Hm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ry=J("$ZodError",I2),Zf=J("$ZodError",I2,{Parent:Error});function Z4(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function K4(e,t=n=>n.message){const n={_errors:[]},r=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(i=>r({issues:i}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let i=n,o=0;for(;o<s.path.length;){const l=s.path[o];o===s.path.length-1?(i[l]=i[l]||{_errors:[]},i[l]._errors.push(t(s))):i[l]=i[l]||{_errors:[]},i=i[l],o++}}};return r(e),n}const Kf=e=>(t,n,r,a)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new Zi;if(i.issues.length){const o=new((a==null?void 0:a.Err)??e)(i.issues.map(l=>ai(l,s,ri())));throw $2(o,a==null?void 0:a.callee),o}return i.value},Q4=Kf(Zf),Qf=e=>async(t,n,r,a)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const o=new((a==null?void 0:a.Err)??e)(i.issues.map(l=>ai(l,s,ri())));throw $2(o,a==null?void 0:a.callee),o}return i.value},Y4=Qf(Zf),Yf=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new Zi;return s.issues.length?{success:!1,error:new(e??Ry)(s.issues.map(i=>ai(i,a,ri())))}:{success:!0,data:s.value}},G4=Yf(Zf),Gf=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(i=>ai(i,a,ri())))}:{success:!0,data:s.value}},J4=Gf(Zf),X4=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Kf(e)(t,n,a)},W4=e=>(t,n,r)=>Kf(e)(t,n,r),eD=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Qf(e)(t,n,a)},tD=e=>async(t,n,r)=>Qf(e)(t,n,r),nD=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Yf(e)(t,n,a)},rD=e=>(t,n,r)=>Yf(e)(t,n,r),aD=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gf(e)(t,n,a)},sD=e=>async(t,n,r)=>Gf(e)(t,n,r),iD=/^[cC][^\s-]{8,}$/,oD=/^[0-9a-z]+$/,lD=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,cD=/^[0-9a-vA-V]{20}$/,uD=/^[A-Za-z0-9]{27}$/,dD=/^[a-zA-Z0-9_-]{21}$/,fD=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,hD=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,A0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,pD=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,mD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function gD(){return new RegExp(mD,"u")}const yD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vD=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,bD=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,_D=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xD=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,F2=/^[A-Za-z0-9_-]*$/,SD=/^\+[1-9]\d{6,14}$/,V2="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",wD=new RegExp(`^${V2}$`);function Z2(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function jD(e){return new RegExp(`^${Z2(e)}$`)}function CD(e){const t=Z2({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${V2}T(?:${r})$`)}const ED=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},TD=/^-?\d+$/,ND=/^-?\d+(?:\.\d+)?$/,RD=/^(?:true|false)$/i,kD=/^[^A-Z]*$/,OD=/^[^a-z]*$/,Tn=J("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),K2={number:"number",bigint:"bigint",object:"date"},Q2=J("$ZodCheckLessThan",(e,t)=>{Tn.init(e,t);const n=K2[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Y2=J("$ZodCheckGreaterThan",(e,t)=>{Tn.init(e,t);const n=K2[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),AD=J("$ZodCheckMultipleOf",(e,t)=>{Tn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):D4(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),DD=J("$ZodCheckNumberFormat",(e,t)=>{var i;Tn.init(e,t),t.format=t.format||"float64";const n=(i=t.format)==null?void 0:i.includes("int"),r=n?"int":"number",[a,s]=U4[t.format];e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,l.minimum=a,l.maximum=s,n&&(l.pattern=TD)}),e._zod.check=o=>{const l=o.value;if(n){if(!Number.isInteger(l)){o.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}l<a&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),l>s&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),MD=J("$ZodCheckMaxLength",(e,t)=>{var n;Tn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Ey(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const i=Ny(a);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),zD=J("$ZodCheckMinLength",(e,t)=>{var n;Tn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Ey(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const i=Ny(a);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),LD=J("$ZodCheckLengthEquals",(e,t)=>{var n;Tn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Ey(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,s=a.length;if(s===t.length)return;const i=Ny(a),o=s>t.length;r.issues.push({origin:i,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Jf=J("$ZodCheckStringFormat",(e,t)=>{var n,r;Tn.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),PD=J("$ZodCheckRegex",(e,t)=>{Jf.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),UD=J("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=kD),Jf.init(e,t)}),qD=J("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=OD),Jf.init(e,t)}),$D=J("$ZodCheckIncludes",(e,t)=>{Tn.init(e,t);const n=Vf(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),HD=J("$ZodCheckStartsWith",(e,t)=>{Tn.init(e,t);const n=new RegExp(`^${Vf(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),BD=J("$ZodCheckEndsWith",(e,t)=>{Tn.init(e,t);const n=new RegExp(`.*${Vf(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),ID=J("$ZodCheckOverwrite",(e,t)=>{Tn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class FD{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(i=>i),a=Math.min(...r.map(i=>i.length-i.trimStart().length)),s=r.map(i=>i.slice(a)).map(i=>" ".repeat(this.indent*2)+i);for(const i of s)this.content.push(i)}compile(){const t=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,a.join(`
`))}}const VD={major:4,minor:3,patch:6},Ct=J("$ZodType",(e,t)=>{var a;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=VD;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const i of s._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,l,u)=>{let f=Pi(o),h;for(const p of l){if(p._zod.def.when){if(!p._zod.def.when(o))continue}else if(f)continue;const d=o.issues.length,m=p._zod.check(o);if(m instanceof Promise&&(u==null?void 0:u.async)===!1)throw new Zi;if(h||m instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await m,o.issues.length!==d&&(f||(f=Pi(o,d)))});else{if(o.issues.length===d)continue;f||(f=Pi(o,d))}}return h?h.then(()=>o):o},i=(o,l,u)=>{if(Pi(o))return o.aborted=!0,o;const f=s(l,r,u);if(f instanceof Promise){if(u.async===!1)throw new Zi;return f.then(h=>e._zod.parse(h,u))}return e._zod.parse(f,u)};e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){const f=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return f instanceof Promise?f.then(h=>i(h,o,l)):i(f,o,l)}const u=e._zod.parse(o,l);if(u instanceof Promise){if(l.async===!1)throw new Zi;return u.then(f=>s(f,r,l))}return s(u,r,l)}}Xe(e,"~standard",()=>({validate:s=>{var i;try{const o=G4(e,s);return o.success?{value:o.data}:{issues:(i=o.error)==null?void 0:i.issues}}catch{return J4(e,s).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}))}),ky=J("$ZodString",(e,t)=>{var n;Ct.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??ED(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),mt=J("$ZodStringFormat",(e,t)=>{Jf.init(e,t),ky.init(e,t)}),ZD=J("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=hD),mt.init(e,t)}),KD=J("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=A0(r))}else t.pattern??(t.pattern=A0());mt.init(e,t)}),QD=J("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=pD),mt.init(e,t)}),YD=J("$ZodURL",(e,t)=>{mt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),GD=J("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=gD()),mt.init(e,t)}),JD=J("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=dD),mt.init(e,t)}),XD=J("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=iD),mt.init(e,t)}),WD=J("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=oD),mt.init(e,t)}),eM=J("$ZodULID",(e,t)=>{t.pattern??(t.pattern=lD),mt.init(e,t)}),tM=J("$ZodXID",(e,t)=>{t.pattern??(t.pattern=cD),mt.init(e,t)}),nM=J("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=uD),mt.init(e,t)}),rM=J("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=CD(t)),mt.init(e,t)}),aM=J("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=wD),mt.init(e,t)}),sM=J("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=jD(t)),mt.init(e,t)}),iM=J("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=fD),mt.init(e,t)}),oM=J("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=yD),mt.init(e,t),e._zod.bag.format="ipv4"}),lM=J("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=vD),mt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),cM=J("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=bD),mt.init(e,t)}),uM=J("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=_D),mt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,s]=r;if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function G2(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const dM=J("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=xD),mt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{G2(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function fM(e){if(!F2.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return G2(n)}const hM=J("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=F2),mt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{fM(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),pM=J("$ZodE164",(e,t)=>{t.pattern??(t.pattern=SD),mt.init(e,t)});function mM(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const gM=J("$ZodJWT",(e,t)=>{mt.init(e,t),e._zod.check=n=>{mM(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),J2=J("$ZodNumber",(e,t)=>{Ct.init(e,t),e._zod.pattern=e._zod.bag.pattern??ND,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),n}}),yM=J("$ZodNumberFormat",(e,t)=>{DD.init(e,t),J2.init(e,t)}),vM=J("$ZodBoolean",(e,t)=>{Ct.init(e,t),e._zod.pattern=RD,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),bM=J("$ZodUnknown",(e,t)=>{Ct.init(e,t),e._zod.parse=n=>n}),_M=J("$ZodNever",(e,t)=>{Ct.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function D0(e,t,n){e.issues.length&&t.issues.push(...B2(n,e.issues)),t.value[n]=e.value}const xM=J("$ZodArray",(e,t)=>{Ct.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const s=[];for(let i=0;i<a.length;i++){const o=a[i],l=t.element._zod.run({value:o,issues:[]},r);l instanceof Promise?s.push(l.then(u=>D0(u,n,i))):D0(l,n,i)}return s.length?Promise.all(s).then(()=>n):n}});function lf(e,t,n,r,a){if(e.issues.length){if(a&&!(n in r))return;t.issues.push(...B2(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function X2(e){var r,a,s,i;const t=Object.keys(e.shape);for(const o of t)if(!((i=(s=(a=(r=e.shape)==null?void 0:r[o])==null?void 0:a._zod)==null?void 0:s.traits)!=null&&i.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=P4(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function W2(e,t,n,r,a,s){const i=[],o=a.keySet,l=a.catchall._zod,u=l.def.type,f=l.optout==="optional";for(const h in t){if(o.has(h))continue;if(u==="never"){i.push(h);continue}const p=l.run({value:t[h],issues:[]},r);p instanceof Promise?e.push(p.then(d=>lf(d,n,h,t,f))):lf(p,n,h,t,f)}return i.length&&n.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const SM=J("$ZodObject",(e,t)=>{Ct.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const l={...o};return Object.defineProperty(t,"shape",{value:l}),l}})}const r=Cy(()=>X2(t));Xe(e._zod,"propValues",()=>{const o=t.shape,l={};for(const u in o){const f=o[u]._zod;if(f.values){l[u]??(l[u]=new Set);for(const h of f.values)l[u].add(h)}}return l});const a=of,s=t.catchall;let i;e._zod.parse=(o,l)=>{i??(i=r.value);const u=o.value;if(!a(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};const f=[],h=i.shape;for(const p of i.keys){const d=h[p],m=d._zod.optout==="optional",g=d._zod.run({value:u[p],issues:[]},l);g instanceof Promise?f.push(g.then(x=>lf(x,o,p,u,m))):lf(g,o,p,u,m)}return s?W2(f,u,o,l,r.value,e):f.length?Promise.all(f).then(()=>o):o}}),wM=J("$ZodObjectJIT",(e,t)=>{SM.init(e,t);const n=e._zod.parse,r=Cy(()=>X2(t)),a=p=>{var b;const d=new FD(["shape","payload","ctx"]),m=r.value,g=S=>{const j=O0(S);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};d.write("const input = payload.value;");const x=Object.create(null);let v=0;for(const S of m.keys)x[S]=`key_${v++}`;d.write("const newResult = {};");for(const S of m.keys){const j=x[S],M=O0(S),E=p[S],q=((b=E==null?void 0:E._zod)==null?void 0:b.optout)==="optional";d.write(`const ${j} = ${g(S)};`),q?d.write(`
        if (${j}.issues.length) {
          if (${M} in input) {
            payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${M}, ...iss.path] : [${M}]
            })));
          }
        }
        
        if (${j}.value === undefined) {
          if (${M} in input) {
            newResult[${M}] = undefined;
          }
        } else {
          newResult[${M}] = ${j}.value;
        }
        
      `):d.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${M}, ...iss.path] : [${M}]
          })));
        }
        
        if (${j}.value === undefined) {
          if (${M} in input) {
            newResult[${M}] = undefined;
          }
        } else {
          newResult[${M}] = ${j}.value;
        }
        
      `)}d.write("payload.value = newResult;"),d.write("return payload;");const y=d.compile();return(S,j)=>y(p,S,j)};let s;const i=of,o=!U2.jitless,u=o&&z4.value,f=t.catchall;let h;e._zod.parse=(p,d)=>{h??(h=r.value);const m=p.value;return i(m)?o&&u&&(d==null?void 0:d.async)===!1&&d.jitless!==!0?(s||(s=a(t.shape)),p=s(p,d),f?W2([],m,p,d,h,e):p):n(p,d):(p.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),p)}});function M0(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!Pi(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(i=>ai(i,r,ri())))}),t)}const jM=J("$ZodUnion",(e,t)=>{Ct.init(e,t),Xe(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),Xe(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),Xe(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),Xe(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>Ty(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(n)return r(a,s);let i=!1;const o=[];for(const l of t.options){const u=l._zod.run({value:a.value,issues:[]},s);if(u instanceof Promise)o.push(u),i=!0;else{if(u.issues.length===0)return u;o.push(u)}}return i?Promise.all(o).then(l=>M0(l,a,e,s)):M0(o,a,e,s)}}),CM=J("$ZodIntersection",(e,t)=>{Ct.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,s=t.left._zod.run({value:a,issues:[]},r),i=t.right._zod.run({value:a,issues:[]},r);return s instanceof Promise||i instanceof Promise?Promise.all([s,i]).then(([l,u])=>z0(n,l,u)):z0(n,s,i)}});function Bm(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Bl(e)&&Bl(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),a={...e,...t};for(const s of r){const i=Bm(e[s],t[s]);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};a[s]=i.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],s=t[r],i=Bm(a,s);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function z0(e,t,n){const r=new Map;let a;for(const o of t.issues)if(o.code==="unrecognized_keys"){a??(a=o);for(const l of o.keys)r.has(l)||r.set(l,{}),r.get(l).l=!0}else e.issues.push(o);for(const o of n.issues)if(o.code==="unrecognized_keys")for(const l of o.keys)r.has(l)||r.set(l,{}),r.get(l).r=!0;else e.issues.push(o);const s=[...r].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(s.length&&a&&e.issues.push({...a,keys:s}),Pi(e))return e;const i=Bm(t.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const EM=J("$ZodEnum",(e,t)=>{Ct.init(e,t);const n=q2(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(a=>L4.has(typeof a)).map(a=>typeof a=="string"?Vf(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const i=a.value;return r.has(i)||a.issues.push({code:"invalid_value",values:n,input:i,inst:e}),a}}),TM=J("$ZodTransform",(e,t)=>{Ct.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new P2(e.constructor.name);const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(i=>(n.value=i,n));if(a instanceof Promise)throw new Zi;return n.value=a,n}});function L0(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const e3=J("$ZodOptional",(e,t)=>{Ct.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Xe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Xe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Ty(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>L0(s,n.value)):L0(a,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),NM=J("$ZodExactOptional",(e,t)=>{e3.init(e,t),Xe(e._zod,"values",()=>t.innerType._zod.values),Xe(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),RM=J("$ZodNullable",(e,t)=>{Ct.init(e,t),Xe(e._zod,"optin",()=>t.innerType._zod.optin),Xe(e._zod,"optout",()=>t.innerType._zod.optout),Xe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Ty(n.source)}|null)$`):void 0}),Xe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),kM=J("$ZodDefault",(e,t)=>{Ct.init(e,t),e._zod.optin="optional",Xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>P0(s,t)):P0(a,t)}});function P0(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const OM=J("$ZodPrefault",(e,t)=>{Ct.init(e,t),e._zod.optin="optional",Xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),AM=J("$ZodNonOptional",(e,t)=>{Ct.init(e,t),Xe(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>U0(s,e)):U0(a,e)}});function U0(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const DM=J("$ZodCatch",(e,t)=>{Ct.init(e,t),Xe(e._zod,"optin",()=>t.innerType._zod.optin),Xe(e._zod,"optout",()=>t.innerType._zod.optout),Xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(i=>ai(i,r,ri()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(s=>ai(s,r,ri()))},input:n.value}),n.issues=[]),n)}}),MM=J("$ZodPipe",(e,t)=>{Ct.init(e,t),Xe(e._zod,"values",()=>t.in._zod.values),Xe(e._zod,"optin",()=>t.in._zod.optin),Xe(e._zod,"optout",()=>t.out._zod.optout),Xe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(i=>Jc(i,t.in,r)):Jc(s,t.in,r)}const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(s=>Jc(s,t.out,r)):Jc(a,t.out,r)}});function Jc(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const zM=J("$ZodReadonly",(e,t)=>{Ct.init(e,t),Xe(e._zod,"propValues",()=>t.innerType._zod.propValues),Xe(e._zod,"values",()=>t.innerType._zod.values),Xe(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Xe(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(q0):q0(a)}});function q0(e){return e.value=Object.freeze(e.value),e}const LM=J("$ZodCustom",(e,t)=>{Tn.init(e,t),Ct.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(s=>$0(s,n,r,e));$0(a,n,r,e)}});function $0(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(Il(a))}}var H0;class PM{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function UM(){return new PM}(H0=globalThis).__zod_globalRegistry??(H0.__zod_globalRegistry=UM());const sl=globalThis.__zod_globalRegistry;function qM(e,t){return new e({type:"string",...xe(t)})}function $M(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...xe(t)})}function B0(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...xe(t)})}function HM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...xe(t)})}function BM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...xe(t)})}function IM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...xe(t)})}function FM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...xe(t)})}function VM(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...xe(t)})}function ZM(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...xe(t)})}function KM(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...xe(t)})}function QM(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...xe(t)})}function YM(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...xe(t)})}function GM(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...xe(t)})}function JM(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...xe(t)})}function XM(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...xe(t)})}function WM(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...xe(t)})}function ez(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...xe(t)})}function tz(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...xe(t)})}function nz(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...xe(t)})}function rz(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...xe(t)})}function az(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...xe(t)})}function sz(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...xe(t)})}function iz(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...xe(t)})}function oz(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...xe(t)})}function lz(e,t){return new e({type:"string",format:"date",check:"string_format",...xe(t)})}function cz(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...xe(t)})}function uz(e,t){return new e({type:"string",format:"duration",check:"string_format",...xe(t)})}function dz(e,t){return new e({type:"number",checks:[],...xe(t)})}function fz(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...xe(t)})}function hz(e,t){return new e({type:"boolean",...xe(t)})}function pz(e){return new e({type:"unknown"})}function mz(e,t){return new e({type:"never",...xe(t)})}function I0(e,t){return new Q2({check:"less_than",...xe(t),value:e,inclusive:!1})}function hp(e,t){return new Q2({check:"less_than",...xe(t),value:e,inclusive:!0})}function F0(e,t){return new Y2({check:"greater_than",...xe(t),value:e,inclusive:!1})}function pp(e,t){return new Y2({check:"greater_than",...xe(t),value:e,inclusive:!0})}function V0(e,t){return new AD({check:"multiple_of",...xe(t),value:e})}function t3(e,t){return new MD({check:"max_length",...xe(t),maximum:e})}function cf(e,t){return new zD({check:"min_length",...xe(t),minimum:e})}function n3(e,t){return new LD({check:"length_equals",...xe(t),length:e})}function gz(e,t){return new PD({check:"string_format",format:"regex",...xe(t),pattern:e})}function yz(e){return new UD({check:"string_format",format:"lowercase",...xe(e)})}function vz(e){return new qD({check:"string_format",format:"uppercase",...xe(e)})}function bz(e,t){return new $D({check:"string_format",format:"includes",...xe(t),includes:e})}function _z(e,t){return new HD({check:"string_format",format:"starts_with",...xe(t),prefix:e})}function xz(e,t){return new BD({check:"string_format",format:"ends_with",...xe(t),suffix:e})}function Do(e){return new ID({check:"overwrite",tx:e})}function Sz(e){return Do(t=>t.normalize(e))}function wz(){return Do(e=>e.trim())}function jz(){return Do(e=>e.toLowerCase())}function Cz(){return Do(e=>e.toUpperCase())}function Ez(){return Do(e=>M4(e))}function Tz(e,t,n){return new e({type:"array",element:t,...xe(n)})}function Nz(e,t,n){return new e({type:"custom",check:"custom",fn:t,...xe(n)})}function Rz(e){const t=kz(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Il(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(Il(a))}},e(n.value,n)));return t}function kz(e,t){const n=new Tn({check:"custom",...xe(t)});return n._zod.check=e,n}function r3(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??sl,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function en(e,t,n={path:[],schemaPath:[]}){var f,h;var r;const a=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const i={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,i);const o=(h=(f=e._zod).toJSONSchema)==null?void 0:h.call(f);if(o)i.schema=o;else{const p={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,i.schema,p);else{const m=i.schema,g=t.processors[a.type];if(!g)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);g(e,t,m,p)}const d=e._zod.parent;d&&(i.ref||(i.ref=d),en(d,t,p),t.seen.get(d).isParent=!0)}const l=t.metadataRegistry.get(e);return l&&Object.assign(i.schema,l),t.io==="input"&&an(e)&&(delete i.schema.examples,delete i.schema.default),t.io==="input"&&i.schema._prefault&&((r=i.schema).default??(r.default=i.schema._prefault)),delete i.schema._prefault,t.seen.get(e).schema}function a3(e,t){var i,o,l,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const f of e.seen.entries()){const h=(i=e.metadataRegistry.get(f[0]))==null?void 0:i.id;if(h){const p=r.get(h);if(p&&p!==f[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,f[0])}}const a=f=>{var g;const h=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const x=(g=e.external.registry.get(f[0]))==null?void 0:g.id,v=e.external.uri??(b=>b);if(x)return{ref:v(x)};const y=f[1].defId??f[1].schema.id??`schema${e.counter++}`;return f[1].defId=y,{defId:y,ref:`${v("__shared")}#/${h}/${y}`}}if(f[1]===n)return{ref:"#"};const d=`#/${h}/`,m=f[1].schema.id??`__schema${e.counter++}`;return{defId:m,ref:d+m}},s=f=>{if(f[1].schema.$ref)return;const h=f[1],{ref:p,defId:d}=a(f);h.def={...h.schema},d&&(h.defId=d);const m=h.schema;for(const g in m)delete m[g];m.$ref=p};if(e.cycles==="throw")for(const f of e.seen.entries()){const h=f[1];if(h.cycle)throw new Error(`Cycle detected: #/${(o=h.cycle)==null?void 0:o.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of e.seen.entries()){const h=f[1];if(t===f[0]){s(f);continue}if(e.external){const d=(l=e.external.registry.get(f[0]))==null?void 0:l.id;if(t!==f[0]&&d){s(f);continue}}if((u=e.metadataRegistry.get(f[0]))==null?void 0:u.id){s(f);continue}if(h.cycle){s(f);continue}if(h.count>1&&e.reused==="ref"){s(f);continue}}}function s3(e,t){var i,o,l;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=u=>{const f=e.seen.get(u);if(f.ref===null)return;const h=f.def??f.schema,p={...h},d=f.ref;if(f.ref=null,d){r(d);const g=e.seen.get(d),x=g.schema;if(x.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(h.allOf=h.allOf??[],h.allOf.push(x)):Object.assign(h,x),Object.assign(h,p),u._zod.parent===d)for(const y in h)y==="$ref"||y==="allOf"||y in p||delete h[y];if(x.$ref&&g.def)for(const y in h)y==="$ref"||y==="allOf"||y in g.def&&JSON.stringify(h[y])===JSON.stringify(g.def[y])&&delete h[y]}const m=u._zod.parent;if(m&&m!==d){r(m);const g=e.seen.get(m);if(g!=null&&g.schema.$ref&&(h.$ref=g.schema.$ref,g.def))for(const x in h)x==="$ref"||x==="allOf"||x in g.def&&JSON.stringify(h[x])===JSON.stringify(g.def[x])&&delete h[x]}e.override({zodSchema:u,jsonSchema:h,path:f.path??[]})};for(const u of[...e.seen.entries()].reverse())r(u[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,(i=e.external)!=null&&i.uri){const u=(o=e.external.registry.get(t))==null?void 0:o.id;if(!u)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(u)}Object.assign(a,n.def??n.schema);const s=((l=e.external)==null?void 0:l.defs)??{};for(const u of e.seen.entries()){const f=u[1];f.def&&f.defId&&(s[f.defId]=f.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?a.$defs=s:a.definitions=s);try{const u=JSON.parse(JSON.stringify(a));return Object.defineProperty(u,"~standard",{value:{...t["~standard"],jsonSchema:{input:uf(t,"input",e.processors),output:uf(t,"output",e.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function an(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return an(r.element,n);if(r.type==="set")return an(r.valueType,n);if(r.type==="lazy")return an(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return an(r.innerType,n);if(r.type==="intersection")return an(r.left,n)||an(r.right,n);if(r.type==="record"||r.type==="map")return an(r.keyType,n)||an(r.valueType,n);if(r.type==="pipe")return an(r.in,n)||an(r.out,n);if(r.type==="object"){for(const a in r.shape)if(an(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(an(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(an(a,n))return!0;return!!(r.rest&&an(r.rest,n))}return!1}const Oz=(e,t={})=>n=>{const r=r3({...n,processors:t});return en(e,r),a3(r,e),s3(r,e)},uf=(e,t,n={})=>r=>{const{libraryOptions:a,target:s}=r??{},i=r3({...a??{},target:s,io:t,processors:n});return en(e,i),a3(i,e),s3(i,e)},Az={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Dz=(e,t,n,r)=>{const a=n;a.type="string";const{minimum:s,maximum:i,format:o,patterns:l,contentEncoding:u}=e._zod.bag;if(typeof s=="number"&&(a.minLength=s),typeof i=="number"&&(a.maxLength=i),o&&(a.format=Az[o]??o,a.format===""&&delete a.format,o==="time"&&delete a.format),u&&(a.contentEncoding=u),l&&l.size>0){const f=[...l];f.length===1?a.pattern=f[0].source:f.length>1&&(a.allOf=[...f.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},Mz=(e,t,n,r)=>{const a=n,{minimum:s,maximum:i,format:o,multipleOf:l,exclusiveMaximum:u,exclusiveMinimum:f}=e._zod.bag;typeof o=="string"&&o.includes("int")?a.type="integer":a.type="number",typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=f,a.exclusiveMinimum=!0):a.exclusiveMinimum=f),typeof s=="number"&&(a.minimum=s,typeof f=="number"&&t.target!=="draft-04"&&(f>=s?delete a.minimum:delete a.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=u,a.exclusiveMaximum=!0):a.exclusiveMaximum=u),typeof i=="number"&&(a.maximum=i,typeof u=="number"&&t.target!=="draft-04"&&(u<=i?delete a.maximum:delete a.exclusiveMaximum)),typeof l=="number"&&(a.multipleOf=l)},zz=(e,t,n,r)=>{n.type="boolean"},Lz=(e,t,n,r)=>{n.not={}},Pz=(e,t,n,r)=>{},Uz=(e,t,n,r)=>{const a=e._zod.def,s=q2(a.entries);s.every(i=>typeof i=="number")&&(n.type="number"),s.every(i=>typeof i=="string")&&(n.type="string"),n.enum=s},qz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},$z=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Hz=(e,t,n,r)=>{const a=n,s=e._zod.def,{minimum:i,maximum:o}=e._zod.bag;typeof i=="number"&&(a.minItems=i),typeof o=="number"&&(a.maxItems=o),a.type="array",a.items=en(s.element,t,{...r,path:[...r.path,"items"]})},Bz=(e,t,n,r)=>{var u;const a=n,s=e._zod.def;a.type="object",a.properties={};const i=s.shape;for(const f in i)a.properties[f]=en(i[f],t,{...r,path:[...r.path,"properties",f]});const o=new Set(Object.keys(i)),l=new Set([...o].filter(f=>{const h=s.shape[f]._zod;return t.io==="input"?h.optin===void 0:h.optout===void 0}));l.size>0&&(a.required=Array.from(l)),((u=s.catchall)==null?void 0:u._zod.def.type)==="never"?a.additionalProperties=!1:s.catchall?s.catchall&&(a.additionalProperties=en(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},Iz=(e,t,n,r)=>{const a=e._zod.def,s=a.inclusive===!1,i=a.options.map((o,l)=>en(o,t,{...r,path:[...r.path,s?"oneOf":"anyOf",l]}));s?n.oneOf=i:n.anyOf=i},Fz=(e,t,n,r)=>{const a=e._zod.def,s=en(a.left,t,{...r,path:[...r.path,"allOf",0]}),i=en(a.right,t,{...r,path:[...r.path,"allOf",1]}),o=u=>"allOf"in u&&Object.keys(u).length===1,l=[...o(s)?s.allOf:[s],...o(i)?i.allOf:[i]];n.allOf=l},Vz=(e,t,n,r)=>{const a=e._zod.def,s=en(a.innerType,t,r),i=t.seen.get(e);t.target==="openapi-3.0"?(i.ref=a.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},Zz=(e,t,n,r)=>{const a=e._zod.def;en(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType},Kz=(e,t,n,r)=>{const a=e._zod.def;en(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},Qz=(e,t,n,r)=>{const a=e._zod.def;en(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},Yz=(e,t,n,r)=>{const a=e._zod.def;en(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType;let i;try{i=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=i},Gz=(e,t,n,r)=>{const a=e._zod.def,s=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;en(s,t,r);const i=t.seen.get(e);i.ref=s},Jz=(e,t,n,r)=>{const a=e._zod.def;en(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType,n.readOnly=!0},i3=(e,t,n,r)=>{const a=e._zod.def;en(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType},Xz=J("ZodISODateTime",(e,t)=>{rM.init(e,t),bt.init(e,t)});function Wz(e){return oz(Xz,e)}const e9=J("ZodISODate",(e,t)=>{aM.init(e,t),bt.init(e,t)});function t9(e){return lz(e9,e)}const n9=J("ZodISOTime",(e,t)=>{sM.init(e,t),bt.init(e,t)});function r9(e){return cz(n9,e)}const a9=J("ZodISODuration",(e,t)=>{iM.init(e,t),bt.init(e,t)});function s9(e){return uz(a9,e)}const i9=(e,t)=>{Ry.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>K4(e,n)},flatten:{value:n=>Z4(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Hm,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Hm,2)}},isEmpty:{get(){return e.issues.length===0}}})},ur=J("ZodError",i9,{Parent:Error}),o9=Kf(ur),l9=Qf(ur),c9=Yf(ur),u9=Gf(ur),d9=X4(ur),f9=W4(ur),h9=eD(ur),p9=tD(ur),m9=nD(ur),g9=rD(ur),y9=aD(ur),v9=sD(ur),Et=J("ZodType",(e,t)=>(Ct.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:uf(e,"input"),output:uf(e,"output")}}),e.toJSONSchema=Oz(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(us(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>ds(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>o9(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>c9(e,n,r),e.parseAsync=async(n,r)=>l9(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>u9(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>d9(e,n,r),e.decode=(n,r)=>f9(e,n,r),e.encodeAsync=async(n,r)=>h9(e,n,r),e.decodeAsync=async(n,r)=>p9(e,n,r),e.safeEncode=(n,r)=>m9(e,n,r),e.safeDecode=(n,r)=>g9(e,n,r),e.safeEncodeAsync=async(n,r)=>y9(e,n,r),e.safeDecodeAsync=async(n,r)=>v9(e,n,r),e.refine=(n,r)=>e.check(uL(n,r)),e.superRefine=n=>e.check(dL(n)),e.overwrite=n=>e.check(Do(n)),e.optional=()=>Y0(e),e.exactOptional=()=>J9(e),e.nullable=()=>G0(e),e.nullish=()=>Y0(G0(e)),e.nonoptional=n=>rL(e,n),e.array=()=>ra(e),e.or=n=>V9([e,n]),e.and=n=>K9(e,n),e.transform=n=>J0(e,Y9(n)),e.default=n=>eL(e,n),e.prefault=n=>nL(e,n),e.catch=n=>sL(e,n),e.pipe=n=>J0(e,n),e.readonly=()=>lL(e),e.describe=n=>{const r=e.clone();return sl.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=sl.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return sl.get(e);const r=e.clone();return sl.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),o3=J("_ZodString",(e,t)=>{ky.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(r,a,s)=>Dz(e,r,a);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(gz(...r)),e.includes=(...r)=>e.check(bz(...r)),e.startsWith=(...r)=>e.check(_z(...r)),e.endsWith=(...r)=>e.check(xz(...r)),e.min=(...r)=>e.check(cf(...r)),e.max=(...r)=>e.check(t3(...r)),e.length=(...r)=>e.check(n3(...r)),e.nonempty=(...r)=>e.check(cf(1,...r)),e.lowercase=r=>e.check(yz(r)),e.uppercase=r=>e.check(vz(r)),e.trim=()=>e.check(wz()),e.normalize=(...r)=>e.check(Sz(...r)),e.toLowerCase=()=>e.check(jz()),e.toUpperCase=()=>e.check(Cz()),e.slugify=()=>e.check(Ez())}),b9=J("ZodString",(e,t)=>{ky.init(e,t),o3.init(e,t),e.email=n=>e.check($M(_9,n)),e.url=n=>e.check(VM(x9,n)),e.jwt=n=>e.check(iz(L9,n)),e.emoji=n=>e.check(ZM(S9,n)),e.guid=n=>e.check(B0(Z0,n)),e.uuid=n=>e.check(HM(Xc,n)),e.uuidv4=n=>e.check(BM(Xc,n)),e.uuidv6=n=>e.check(IM(Xc,n)),e.uuidv7=n=>e.check(FM(Xc,n)),e.nanoid=n=>e.check(KM(w9,n)),e.guid=n=>e.check(B0(Z0,n)),e.cuid=n=>e.check(QM(j9,n)),e.cuid2=n=>e.check(YM(C9,n)),e.ulid=n=>e.check(GM(E9,n)),e.base64=n=>e.check(rz(D9,n)),e.base64url=n=>e.check(az(M9,n)),e.xid=n=>e.check(JM(T9,n)),e.ksuid=n=>e.check(XM(N9,n)),e.ipv4=n=>e.check(WM(R9,n)),e.ipv6=n=>e.check(ez(k9,n)),e.cidrv4=n=>e.check(tz(O9,n)),e.cidrv6=n=>e.check(nz(A9,n)),e.e164=n=>e.check(sz(z9,n)),e.datetime=n=>e.check(Wz(n)),e.date=n=>e.check(t9(n)),e.time=n=>e.check(r9(n)),e.duration=n=>e.check(s9(n))});function He(e){return qM(b9,e)}const bt=J("ZodStringFormat",(e,t)=>{mt.init(e,t),o3.init(e,t)}),_9=J("ZodEmail",(e,t)=>{QD.init(e,t),bt.init(e,t)}),Z0=J("ZodGUID",(e,t)=>{ZD.init(e,t),bt.init(e,t)}),Xc=J("ZodUUID",(e,t)=>{KD.init(e,t),bt.init(e,t)}),x9=J("ZodURL",(e,t)=>{YD.init(e,t),bt.init(e,t)}),S9=J("ZodEmoji",(e,t)=>{GD.init(e,t),bt.init(e,t)}),w9=J("ZodNanoID",(e,t)=>{JD.init(e,t),bt.init(e,t)}),j9=J("ZodCUID",(e,t)=>{XD.init(e,t),bt.init(e,t)}),C9=J("ZodCUID2",(e,t)=>{WD.init(e,t),bt.init(e,t)}),E9=J("ZodULID",(e,t)=>{eM.init(e,t),bt.init(e,t)}),T9=J("ZodXID",(e,t)=>{tM.init(e,t),bt.init(e,t)}),N9=J("ZodKSUID",(e,t)=>{nM.init(e,t),bt.init(e,t)}),R9=J("ZodIPv4",(e,t)=>{oM.init(e,t),bt.init(e,t)}),k9=J("ZodIPv6",(e,t)=>{lM.init(e,t),bt.init(e,t)}),O9=J("ZodCIDRv4",(e,t)=>{cM.init(e,t),bt.init(e,t)}),A9=J("ZodCIDRv6",(e,t)=>{uM.init(e,t),bt.init(e,t)}),D9=J("ZodBase64",(e,t)=>{dM.init(e,t),bt.init(e,t)}),M9=J("ZodBase64URL",(e,t)=>{hM.init(e,t),bt.init(e,t)}),z9=J("ZodE164",(e,t)=>{pM.init(e,t),bt.init(e,t)}),L9=J("ZodJWT",(e,t)=>{gM.init(e,t),bt.init(e,t)}),l3=J("ZodNumber",(e,t)=>{J2.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(r,a,s)=>Mz(e,r,a),e.gt=(r,a)=>e.check(F0(r,a)),e.gte=(r,a)=>e.check(pp(r,a)),e.min=(r,a)=>e.check(pp(r,a)),e.lt=(r,a)=>e.check(I0(r,a)),e.lte=(r,a)=>e.check(hp(r,a)),e.max=(r,a)=>e.check(hp(r,a)),e.int=r=>e.check(K0(r)),e.safe=r=>e.check(K0(r)),e.positive=r=>e.check(F0(0,r)),e.nonnegative=r=>e.check(pp(0,r)),e.negative=r=>e.check(I0(0,r)),e.nonpositive=r=>e.check(hp(0,r)),e.multipleOf=(r,a)=>e.check(V0(r,a)),e.step=(r,a)=>e.check(V0(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Fl(e){return dz(l3,e)}const P9=J("ZodNumberFormat",(e,t)=>{yM.init(e,t),l3.init(e,t)});function K0(e){return fz(P9,e)}const U9=J("ZodBoolean",(e,t)=>{vM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>zz(e,n,r)});function Oy(e){return hz(U9,e)}const q9=J("ZodUnknown",(e,t)=>{bM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Pz()});function Q0(){return pz(q9)}const $9=J("ZodNever",(e,t)=>{_M.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Lz(e,n,r)});function H9(e){return mz($9,e)}const B9=J("ZodArray",(e,t)=>{xM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Hz(e,n,r,a),e.element=t.element,e.min=(n,r)=>e.check(cf(n,r)),e.nonempty=n=>e.check(cf(1,n)),e.max=(n,r)=>e.check(t3(n,r)),e.length=(n,r)=>e.check(n3(n,r)),e.unwrap=()=>e.element});function ra(e,t){return Tz(B9,e,t)}const I9=J("ZodObject",(e,t)=>{wM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Bz(e,n,r,a),Xe(e,"shape",()=>t.shape),e.keyof=()=>Vl(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Q0()}),e.loose=()=>e.clone({...e._zod.def,catchall:Q0()}),e.strict=()=>e.clone({...e._zod.def,catchall:H9()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>H4(e,n),e.safeExtend=n=>B4(e,n),e.merge=n=>I4(e,n),e.pick=n=>q4(e,n),e.omit=n=>$4(e,n),e.partial=(...n)=>F4(c3,e,n[0]),e.required=(...n)=>V4(u3,e,n[0])});function Mr(e,t){const n={type:"object",shape:e??{},...xe(t)};return new I9(n)}const F9=J("ZodUnion",(e,t)=>{jM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Iz(e,n,r,a),e.options=t.options});function V9(e,t){return new F9({type:"union",options:e,...xe(t)})}const Z9=J("ZodIntersection",(e,t)=>{CM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Fz(e,n,r,a)});function K9(e,t){return new Z9({type:"intersection",left:e,right:t})}const Im=J("ZodEnum",(e,t)=>{EM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(r,a,s)=>Uz(e,r,a),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const s={};for(const i of r)if(n.has(i))s[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new Im({...t,checks:[],...xe(a),entries:s})},e.exclude=(r,a)=>{const s={...t.entries};for(const i of r)if(n.has(i))delete s[i];else throw new Error(`Key ${i} not found in enum`);return new Im({...t,checks:[],...xe(a),entries:s})}});function Vl(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Im({type:"enum",entries:n,...xe(t)})}const Q9=J("ZodTransform",(e,t)=>{TM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>$z(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new P2(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Il(s,n.value,t));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),n.issues.push(Il(i))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(s=>(n.value=s,n)):(n.value=a,n)}});function Y9(e){return new Q9({type:"transform",transform:e})}const c3=J("ZodOptional",(e,t)=>{e3.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>i3(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function Y0(e){return new c3({type:"optional",innerType:e})}const G9=J("ZodExactOptional",(e,t)=>{NM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>i3(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function J9(e){return new G9({type:"optional",innerType:e})}const X9=J("ZodNullable",(e,t)=>{RM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Vz(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function G0(e){return new X9({type:"nullable",innerType:e})}const W9=J("ZodDefault",(e,t)=>{kM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Kz(e,n,r,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function eL(e,t){return new W9({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():H2(t)}})}const tL=J("ZodPrefault",(e,t)=>{OM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Qz(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function nL(e,t){return new tL({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():H2(t)}})}const u3=J("ZodNonOptional",(e,t)=>{AM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Zz(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function rL(e,t){return new u3({type:"nonoptional",innerType:e,...xe(t)})}const aL=J("ZodCatch",(e,t)=>{DM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Yz(e,n,r,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function sL(e,t){return new aL({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const iL=J("ZodPipe",(e,t)=>{MM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Gz(e,n,r,a),e.in=t.in,e.out=t.out});function J0(e,t){return new iL({type:"pipe",in:e,out:t})}const oL=J("ZodReadonly",(e,t)=>{zM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Jz(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function lL(e){return new oL({type:"readonly",innerType:e})}const cL=J("ZodCustom",(e,t)=>{LM.init(e,t),Et.init(e,t),e._zod.processJSONSchema=(n,r,a)=>qz(e,n)});function uL(e,t={}){return Nz(cL,e,t)}function dL(e){return Rz(e)}const fL=[{value:1,label:"Alta",color:"bg-[#bc5653]"},{value:2,label:"Media",color:"bg-[#ebc17a]"},{value:3,label:"Baixa",color:"bg-[#8b7355]"}],hL=Mr({newProject:He().optional()});function pL(){const e=xf({from:"/projects/"}),t=Wt($=>$.openDialog),n=Wt($=>$.closeDialog),r=fn($=>$.selectedProjectId),a=fn($=>$.setSelectedProjectId),s=fn($=>$.projectsList),i=fn($=>$.setProjectsList),[o,l]=T.useState(null),[u,f]=T.useState(!1),[h,p]=T.useState(e.newProject==="true"),[d,m]=T.useState(""),[g,x]=T.useState(""),[v,y]=T.useState([]),[b,S]=T.useState([]),[j,M]=T.useState(new Map),[E,q]=T.useState([]),[L,N]=T.useState(0),k=1e5,[P,F]=T.useState(!1),[W,Y]=T.useState(""),U=Math.min(L/k*100,100),Q=E.length>0?E[0]:null,ae=o?o.tmux_configured||o.routes.length>1:!1;T.useEffect(()=>{ve()},[]),T.useEffect(()=>{e.newProject==="true"&&p(!0)},[e.newProject]),T.useEffect(()=>{r&&pe(r)},[r]);async function ve(){try{const $=await se("get_projects");i($),$.length>0&&!r&&a($[0].id)}catch($){console.error("Failed to load projects:",$)}}async function pe($){f(!0);try{const Z=await se("get_project_with_config",{projectId:$});l(Z),await me($),await Oe($),await Ke(Z)}catch(Z){console.error("Failed to load project config:",Z)}finally{f(!1)}}async function me($){try{const Z=await se("get_urgent_tasks",{projectId:$,limit:5});y(Z)}catch(Z){console.error("Failed to load urgent tasks:",Z),y([])}}async function Oe($){try{const Z=await se("get_active_tasks",{projectId:$,limit:5});if(S(Z),o){const ne=new Map;for(const fe of Z)try{const ce=await se("get_task_full",{projectPath:o.path,taskId:fe.id});ce&&ne.set(fe.id,ce)}catch{}M(ne)}}catch(Z){console.error("Failed to load active tasks:",Z),S([])}}async function Ke($){try{const Z=await se("get_session_logs"),ne=Z.filter(fe=>fe.project_name===$.name).slice(0,5);q(ne),N(Z.reduce((fe,ce)=>fe+ce.tokens_total,0))}catch(Z){console.error("Failed to load logs:",Z)}}async function oe(){if(r)try{await se("launch_project_tmux",{projectId:r})}catch($){console.error("Failed to launch tmux:",$)}}async function de(){if(!(!r||!o))try{await se("set_tmux_configured",{projectId:r,configured:!0}),l({...o,tmux_configured:!0})}catch($){console.error("Failed to mark tmux as configured:",$)}}async function Be(){if(Ao()){t();try{const{open:$}=await Oo(async()=>{const{open:ne}=await import("./index-lieS2Vz-.js");return{open:ne}},[]),Z=await $({directory:!0,multiple:!1,title:"Selecionar diretorio do projeto"});if(Z&&typeof Z=="string"&&(x(Z),!d)){const ne=Z.split("/");m(ne[ne.length-1]||"")}}catch($){console.error("Failed to pick directory:",$)}finally{n()}}}async function Ie(){if(!(!d.trim()||!g.trim()))try{const $=await se("add_project",{name:d,path:g,description:null}),Z=await se("get_projects");i(Z),a($),p(!1),m(""),x("")}catch($){console.error("Failed to create project:",$)}}function lt(){o&&(Y(o.name),F(!0))}async function tt(){if(!(!r||!o||!W.trim()))try{await se("update_project_name",{projectId:r,name:W.trim()}),l({...o,name:W.trim()});const $=s.map(Z=>Z.id===r?{...Z,name:W.trim()}:Z);i($)}catch($){console.error("Failed to update project name:",$)}finally{F(!1)}}function Ye(){F(!1),Y("")}function nt($){const Z=fL.find(ne=>ne.value===$);return(Z==null?void 0:Z.color)||"bg-[#8b7355]"}function Ee($){return $>=1e3?`${($/1e3).toFixed(1)}k`:$.toString()}function Kt($){return new Date($).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function zt($){if(!$)return"";const Z=new Date($),ne=new Date;ne.setHours(0,0,0,0);const fe=new Date(Z);fe.setHours(0,0,0,0);const ce=Math.ceil((fe.getTime()-ne.getTime())/(1e3*60*60*24));return ce<0?"Atrasada":ce===0?"Hoje":ce===1?"Amanha":Z.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}function K($){if(!$)return!1;const Z=new Date($),ne=new Date;return ne.setHours(0,0,0,0),Z<ne}return c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h?c.jsxs("div",{className:"max-w-xl bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsx("h2",{className:"text-lg text-[#d6d6d6] mb-4",children:"Novo Projeto"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[#828282] mb-1",children:"Nome"}),c.jsx("input",{type:"text",value:d,onChange:$=>m($.target.value),placeholder:"meu-projeto",className:"w-full px-3 py-2 bg-[#1c1c1c] border border-[#3d3a34] text-[#d6d6d6] text-sm focus:border-[#909d63] focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[#828282] mb-1",children:"Caminho"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:g,onChange:$=>x($.target.value),placeholder:"/home/user/projects/...",className:"flex-1 px-3 py-2 bg-[#1c1c1c] border border-[#3d3a34] text-[#d6d6d6] text-sm focus:border-[#909d63] focus:outline-none"}),c.jsx("button",{onClick:Be,className:"px-3 py-2 bg-[#2c2c2c] border border-[#3d3a34] text-[#828282] text-sm hover:text-[#d6d6d6] hover:border-[#636363] transition-colors",children:"..."})]})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx("button",{onClick:Ie,className:"px-4 py-2 bg-[#909d63] text-[#1c1c1c] text-sm hover:bg-[#a0ad73] transition-colors",children:"Criar"}),c.jsx("button",{onClick:()=>{p(!1),m(""),x("")},className:"px-4 py-2 bg-[#2c2c2c] border border-[#3d3a34] text-[#828282] text-sm hover:text-[#d6d6d6] transition-colors",children:"Cancelar"})]})]})]}):u?c.jsx("div",{className:"flex items-center justify-center h-full text-[#828282]",children:"Carregando..."}):o?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[P?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:W,onChange:$=>Y($.target.value),onKeyDown:$=>{$.key==="Enter"&&tt(),$.key==="Escape"&&Ye()},className:"px-2 py-1 bg-[#1c1c1c] border border-[#909d63] text-[#d6d6d6] text-xl focus:outline-none"}),c.jsx("button",{onClick:tt,className:"text-[#909d63] hover:text-[#a0ad73] text-sm",children:"ok"}),c.jsx("button",{onClick:Ye,className:"text-[#636363] hover:text-[#828282] text-sm",children:"x"})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h2",{className:"text-xl text-[#d6d6d6]",children:o.name}),c.jsx("button",{onClick:lt,className:"text-[#636363] hover:text-[#909d63] text-xs transition-colors",title:"Editar nome",children:"*"})]}),c.jsx("p",{className:"text-sm text-[#636363]",children:o.path})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:oe,className:"px-4 py-2 bg-[#909d63] text-[#1c1c1c] text-sm hover:bg-[#a0ad73] transition-colors flex items-center gap-2",children:["Codar",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),c.jsx("a",{href:`/projects/settings?projectId=${r}`,className:"px-3 py-2 bg-[#2c2c2c] border border-[#3d3a34] text-[#828282] text-sm hover:text-[#d6d6d6] hover:border-[#636363] transition-colors flex items-center",title:"Configuracoes do projeto",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"3"}),c.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})})]})]}),b.length>0&&c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm text-[#828282] uppercase tracking-wide",children:"Tarefas em Andamento"}),c.jsx(yr,{to:"/tasks",className:"text-xs text-[#636363] hover:text-[#909d63] transition-colors",children:"ver todas"})]}),c.jsx("div",{className:"space-y-2",children:b.map($=>{const Z=j.get($.id)||null,ne=xy(Z),fe=Sy(Z),ce=jy(Z),D=wy(Z),H=ce==="ring"?"ring-1":ce==="border-l"?"border-l-4":"";return c.jsxs(yr,{to:"/tasks/$taskId",params:{taskId:$.id},className:`flex items-center gap-3 px-3 py-2 bg-[#1c1c1c] hover:bg-[#2a2a2a] transition-colors ${H}`,style:{...ce==="border-l"?{borderLeftColor:ne}:{},...ce==="ring"?{boxShadow:`0 0 0 1px ${ne}`}:{}},children:[D&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#61afef",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin flex-shrink-0",children:c.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),c.jsx("span",{className:"flex-1 text-[#d6d6d6] text-sm",children:$.title}),c.jsx("span",{className:"px-2 py-0.5 text-xs text-[#1c1c1c] rounded",style:{backgroundColor:ne},children:fe}),c.jsxs("span",{className:`px-2 py-0.5 text-xs text-[#1c1c1c] ${nt($.priority)}`,children:["P",$.priority]})]},$.id)})})]}),c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm text-[#828282] uppercase tracking-wide",children:"Tarefas Urgentes"}),c.jsx(yr,{to:"/tasks",className:"text-xs text-[#636363] hover:text-[#909d63] transition-colors",children:"ver todas"})]}),v.length>0?c.jsx("div",{className:"space-y-2",children:v.map($=>c.jsxs(yr,{to:"/tasks/$taskId",params:{taskId:$.id},className:"flex items-center gap-3 px-3 py-2 bg-[#1c1c1c] border border-[#2d2a24] hover:bg-[#2a2a2a] transition-colors",children:[c.jsx("span",{className:"flex-1 text-[#d6d6d6] text-sm",children:$.title}),$.due_date&&c.jsx("span",{className:`text-xs ${K($.due_date)?"text-[#bc5653]":"text-[#636363]"}`,children:zt($.due_date)}),c.jsxs("span",{className:`px-2 py-0.5 text-xs text-[#1c1c1c] ${nt($.priority)}`,children:["P",$.priority]})]},$.id))}):c.jsxs("div",{className:"text-center py-6",children:[c.jsx("p",{className:"text-[#636363] text-sm mb-3",children:"Nenhuma tarefa pendente"}),c.jsx(yr,{to:"/tasks",className:"inline-block px-4 py-2 bg-[#909d63] text-[#1c1c1c] text-sm hover:bg-[#a0ad73] transition-colors",children:"+ Adicionar tarefa"})]})]}),c.jsxs("div",{className:"flex flex-col xs:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsx("h3",{className:"text-sm text-[#828282] uppercase tracking-wide mb-3",children:"Tokens Diario"}),c.jsx("div",{className:"h-2 bg-[#2c2c2c] overflow-hidden mb-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-[#909d63] to-[#c67b5c] transition-all",style:{width:`${U}%`}})}),c.jsxs("div",{className:"flex justify-between text-xs text-[#636363]",children:[c.jsx("span",{children:Ee(L)}),c.jsxs("span",{children:["Meta: ",Ee(k)]})]})]}),c.jsxs("div",{className:"flex-1 bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm text-[#828282] uppercase tracking-wide",children:"Ultimo Log"}),c.jsx(yr,{to:"/logs",className:"text-xs text-[#636363] hover:text-[#909d63] transition-colors",children:"ver todos"})]}),Q?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-sm text-[#d6d6d6] line-clamp-2",children:Q.summary||"Sem resumo"}),c.jsxs("p",{className:"text-xs text-[#636363] mt-2",children:[Kt(Q.created_at)," - ",Ee(Q.tokens_total)," tokens"]})]}):c.jsx("p",{className:"text-[#636363] text-sm",children:"Nenhum log registrado"})]})]}),c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsx("h3",{className:"text-sm text-[#828282] uppercase tracking-wide mb-3",children:"Tarefas da Semana"}),c.jsx("div",{className:"flex items-center justify-center py-6 text-center",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl mb-2",children:""}),c.jsx("p",{className:"text-[#636363] text-sm",children:"Em desenvolvimento"}),c.jsx("p",{className:"text-xs text-[#4a4a4a] mt-1",children:"Calendario com distribuicao de tarefas"})]})})]}),c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm text-[#828282] uppercase tracking-wide",children:"Configuracao Tmux"}),c.jsx("a",{href:`/projects/settings?projectId=${r}`,className:"text-xs text-[#636363] hover:text-[#909d63] transition-colors",children:"configurar"})]}),ae?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-[#909d63]",children:""}),c.jsx("span",{className:"text-[#d6d6d6] text-sm",children:"Tmux configurado"}),c.jsxs("span",{className:"text-xs text-[#636363]",children:[o.routes.length," rota(s), ",o.tmux_config.tabs.length," tab(s)"]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-[#ebc17a]",children:"!"}),c.jsx("span",{className:"text-[#d6d6d6] text-sm",children:"Tmux nao configurado"})]}),c.jsx("button",{onClick:de,className:"text-xs text-[#909d63] hover:text-[#a0ad73] transition-colors",children:"Marcar como configurado"})]})]})]}):c.jsx("div",{className:"flex items-center justify-center h-full text-[#828282]",children:"Selecione um projeto ou crie um novo"})})}const mL=or("/projects/")({component:pL,validateSearch:e=>hL.parse(e)});function d3({imageId:e,fileName:t,imageState:n,disabled:r=!1,onView:a,onDelete:s}){const[i,o]=T.useState(!1),l=()=>{s(e),o(!1)};return c.jsxs("div",{className:"relative group",children:[c.jsx("button",{type:"button",className:"w-10 h-10 bg-[#232323] border border-[#3d3a34] cursor-pointer overflow-hidden flex items-center justify-center transition-all hover:border-[#909d63] hover:scale-105 disabled:cursor-not-allowed disabled:opacity-60",onClick:()=>a(e),disabled:r||(n==null?void 0:n.loading)||!!(n!=null&&n.error),title:t,children:n!=null&&n.loading||!n?c.jsx("div",{className:"flex items-center justify-center w-full h-full text-[#636363]",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin",children:c.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})}):n!=null&&n.error?c.jsx("div",{className:"flex items-center justify-center w-full h-full text-[#bc5653]",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"m15 9-6 6"}),c.jsx("path",{d:"m9 9 6 6"})]})}):c.jsx("img",{src:n.data,alt:t,className:"w-full h-full object-cover"})}),!r&&(i?c.jsxs("button",{type:"button",className:"absolute inset-0 w-10 h-10 bg-[#bc5653] flex flex-col items-center justify-center cursor-pointer transition-all animate-pulse",onClick:l,onBlur:()=>o(!1),title:"Clique para confirmar",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#1c1c1c",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M3 6h18"}),c.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),c.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"#1c1c1c",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"mt-0.5",children:c.jsx("path",{d:"M20 6 9 17l-5-5"})})]}):c.jsx("button",{type:"button",className:"absolute -top-1 -right-1 w-4 h-4 bg-[rgba(28,28,28,0.95)] border border-[#3d3a34] rounded-full text-[#bc5653] flex items-center justify-center cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity hover:bg-[#bc5653] hover:text-[#1c1c1c] hover:border-[#bc5653]",onClick:()=>o(!0),title:"Remover imagem",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 6 6 18"}),c.jsx("path",{d:"m6 6 12 12"})]})}))]})}const gL=["image/png","image/jpeg","image/gif","image/webp"];function yL({taskId:e,description:t,images:n,maxImages:r=5,disabled:a=!1,onDescriptionSave:s,onImageUpload:i,onImageDelete:o,onImageView:l}){const u=T.useRef(null),[f,h]=T.useState(t),[p,d]=T.useState(!1),[m,g]=T.useState(!1),[x,v]=T.useState(null),[y,b]=T.useState(""),[S,j]=T.useState(new Map),M=n.length<r&&!a&&!m,E=T.useCallback(F=>new Promise((W,Y)=>{const U=new FileReader;U.onload=()=>{const ae=U.result.split(",")[1];W(ae)},U.onerror=()=>Y(new Error("Falha ao ler arquivo.")),U.readAsDataURL(F)}),[]),q=T.useCallback(async F=>{if(!gL.includes(F.type)){b("Formato invalido. Use PNG, JPG, GIF ou WebP."),v("error"),setTimeout(()=>{v(null),b("")},3e3);return}if(n.length>=r){b(`Limite de ${r} imagens atingido.`),v("error"),setTimeout(()=>{v(null),b("")},3e3);return}g(!0),b("");try{const W=await E(F);await se("add_task_image",{taskId:e,fileData:W,fileName:F.name||`screenshot-${Date.now()}.png`,mimeType:F.type}),v("success"),setTimeout(()=>v(null),1500),i()}catch(W){b(W instanceof Error?W.message:"Erro ao enviar imagem."),v("error"),setTimeout(()=>v(null),3e3)}finally{g(!1)}},[e,n.length,r,E,i]),L=T.useCallback(F=>{var Y;if(a||m||n.length>=r)return;const W=(Y=F.clipboardData)==null?void 0:Y.items;if(W){for(const U of W)if(U.type.startsWith("image/")){const Q=U.getAsFile();if(Q){F.preventDefault(),q(Q);break}}}},[a,m,n.length,r,q]),N=T.useCallback(async F=>{const W=S.get(F);if(!(W!=null&&W.data||W!=null&&W.loading)){j(Y=>{const U=new Map(Y);return U.set(F,{data:"",loading:!0,error:null}),U});try{const Y=await se("get_task_image",{imageId:F});j(U=>{const Q=new Map(U);return Q.set(F,{data:`data:${Y.mime_type};base64,${Y.data}`,loading:!1,error:null}),Q})}catch(Y){j(U=>{const Q=new Map(U);return Q.set(F,{data:"",loading:!1,error:Y instanceof Error?Y.message:"Erro ao carregar"}),Q})}}},[S]),k=T.useCallback(F=>{a||o(F)},[a,o]);T.useEffect(()=>{p||h(t)},[t,p]),T.useEffect(()=>{n.forEach(F=>{N(F.id)})},[n,N]);const P=["border transition-colors",p?"border-[#909d63]":"border-[#3d3a34]",x==="success"?"animate-flash-success":"",x==="error"?"animate-flash-error":""].filter(Boolean).join(" ");return c.jsxs("section",{className:"flex flex-col gap-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("label",{className:"text-xs text-[#828282] uppercase tracking-wide",children:"Descricao"}),M&&c.jsxs("span",{className:`flex items-center gap-1 text-xs transition-colors ${p?"text-[#909d63]":"text-[#4a4a4a]"}`,children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),c.jsx("circle",{cx:"9",cy:"9",r:"2"}),c.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),c.jsx("span",{children:"Ctrl+V cola imagem"})]}),m&&c.jsxs("span",{className:"flex items-center gap-1 text-xs text-[#909d63]",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin",children:c.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),c.jsx("span",{children:"Enviando..."})]})]}),c.jsx("div",{className:P,children:c.jsx("textarea",{ref:u,value:f,onChange:F=>h(F.target.value),onBlur:()=>{d(!1),f!==t&&s(f)},onFocus:()=>d(!0),onPaste:L,disabled:a,placeholder:"Descreva o objetivo desta tarefa... (Ctrl+V para colar imagens)",rows:3,className:"w-full px-3 py-2 bg-[#232323] border-none text-[#d6d6d6] text-sm resize-y outline-none transition-opacity disabled:opacity-50 disabled:cursor-not-allowed placeholder:text-[#4a4a4a]"})}),y&&c.jsx("span",{className:"text-xs text-[#bc5653]",children:y}),n.length>0&&c.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-1",children:[n.map(F=>c.jsx(d3,{imageId:F.id,fileName:F.file_name,imageState:S.get(F.id),disabled:a,onView:l,onDelete:k},F.id)),c.jsxs("span",{className:"text-xs text-[#636363] ml-1",children:[n.length,"/",r]})]})]})}function vL({imageUrl:e,onClose:t}){return T.useEffect(()=>{function n(r){r.key==="Escape"&&t()}return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm animate-fade-in",onClick:t,children:[c.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/70 hover:text-white transition-colors",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),c.jsx("img",{src:e,alt:"Full size",className:"max-w-[90vw] max-h-[90vh] object-contain rounded-lg shadow-2xl",onClick:n=>n.stopPropagation()})]}):null}function bL({subtask:e,onToggle:t,onRemove:n,onCodar:r,onUpdate:a,expanded:s=!1,onToggleExpand:i,disabled:o=!1}){const[l,u]=T.useState(""),[f,h]=T.useState(e.description||""),[p,d]=T.useState(e.technical_notes||"");T.useEffect(()=>{h(e.description||""),d(e.technical_notes||"")},[e.description,e.technical_notes]);const m=e.status==="done",g=e.description||e.acceptance_criteria&&e.acceptance_criteria.length>0||e.technical_notes;function x(){if(!l.trim())return;const y=e.acceptance_criteria||[];a(e.id,"acceptance_criteria",[...y,l.trim()]),u("")}function v(y){const S=(e.acceptance_criteria||[]).filter((j,M)=>M!==y);a(e.id,"acceptance_criteria",S.length>0?S:null)}return c.jsxs("div",{className:`animate-fade-in ${m?"opacity-50":""} ${o?"opacity-50 pointer-events-none":""}`,children:[c.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-[#232323] hover:bg-[#2a2a2a] transition-colors group",children:[c.jsx("button",{onClick:()=>t(e.id),disabled:o,className:`transition-colors ${m?"text-[#909d63]":"text-[#636363] hover:text-[#909d63]"} ${o?"cursor-not-allowed":""}`,children:m?"[x]":"[ ]"}),c.jsx("button",{onClick:()=>i(e.id),disabled:o,className:`text-[#636363] hover:text-[#909d63] transition-colors ${o?"cursor-not-allowed":""}`,title:s?"Recolher detalhes":"Expandir detalhes",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform ${s?"rotate-90":""}`,children:c.jsx("path",{d:"m9 18 6-6-6-6"})})}),c.jsx("span",{className:`flex-1 text-[#d6d6d6] text-sm ${m?"line-through":""}`,children:e.title}),!s&&g&&c.jsx("span",{className:"text-[#636363] text-xs",children:e.acceptance_criteria&&e.acceptance_criteria.length>0?`(${e.acceptance_criteria.length} criterios)`:"(detalhes)"}),c.jsx("button",{onClick:()=>n(e.id),disabled:o,className:`opacity-0 group-hover:opacity-100 text-[#bc5653] hover:text-[#cc6663] transition-all p-1 ${o?"cursor-not-allowed hidden":""}`,title:"Remover subtask",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 6 6 18"}),c.jsx("path",{d:"m6 6 12 12"})]})}),c.jsx("button",{onClick:()=>r(e.id),disabled:m||o,className:"px-3 py-1 text-xs bg-[#909d63] text-[#1c1c1c] hover:bg-[#a0ad73] disabled:bg-[#3d3a34] disabled:text-[#636363] disabled:cursor-not-allowed transition-colors",children:"Codar >"})]}),s&&c.jsxs("div",{className:"px-3 py-3 bg-[#1c1c1c] border-l-2 border-[#3d3a34] ml-6 animate-slide-down space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[#636363] text-xs uppercase tracking-wide",children:"Descricao"}),c.jsx("textarea",{value:f,onChange:y=>h(y.target.value),onBlur:()=>a(e.id,"description",f||null),disabled:o,placeholder:"Descreva a subtask...",className:"w-full bg-[#232323] text-[#d6d6d6] text-sm px-3 py-2 border border-[#3d3a34] focus:border-[#909d63] focus:outline-none resize-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",rows:2})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[#636363] text-xs uppercase tracking-wide",children:"Criterios de Aceitacao"}),e.acceptance_criteria&&e.acceptance_criteria.length>0&&c.jsx("ul",{className:"space-y-1",children:e.acceptance_criteria.map((y,b)=>c.jsxs("li",{className:"flex items-center gap-2 group/criteria",children:[c.jsx("span",{className:"text-[#909d63]",children:"-"}),c.jsx("span",{className:"flex-1 text-[#d6d6d6] text-sm",children:y}),c.jsx("button",{onClick:()=>v(b),disabled:o,className:`opacity-0 group-hover/criteria:opacity-100 text-[#bc5653] hover:text-[#cc6663] transition-all p-1 ${o?"hidden":""}`,title:"Remover criterio",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 6 6 18"}),c.jsx("path",{d:"m6 6 12 12"})]})})]},b))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:l,onChange:y=>u(y.target.value),onKeyDown:y=>y.key==="Enter"&&x(),disabled:o,placeholder:"Adicionar criterio...",className:"flex-1 bg-[#232323] text-[#d6d6d6] text-sm px-3 py-1 border border-[#3d3a34] focus:border-[#909d63] focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}),c.jsx("button",{onClick:x,disabled:!l.trim()||o,className:"px-3 py-1 text-xs bg-[#909d63] text-[#1c1c1c] hover:bg-[#a0ad73] disabled:bg-[#3d3a34] disabled:text-[#636363] disabled:cursor-not-allowed transition-colors",children:"+"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[#636363] text-xs uppercase tracking-wide",children:"Notas Tecnicas"}),c.jsx("textarea",{value:p,onChange:y=>d(y.target.value),onBlur:()=>a(e.id,"technical_notes",p||null),disabled:o,placeholder:"Adicione notas tecnicas, referencias, ou consideracoes de implementacao...",className:"w-full bg-[#232323] text-[#d6d6d6] text-sm px-3 py-2 border border-[#3d3a34] focus:border-[#909d63] focus:outline-none resize-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",rows:3})]})]})]})}function X0({subtasks:e,onAdd:t,onToggle:n,onRemove:r,onCodar:a,onUpdate:s,onReorder:i,disabled:o=!1}){const[l,u]=T.useState(""),[f,h]=T.useState(new Set),p=T.useMemo(()=>[...e].sort((y,b)=>y.order-b.order),[e]),d=e.filter(y=>y.status==="done").length;function m(){l.trim()&&(t(l.trim()),u(""))}function g(y){h(b=>{const S=new Set(b);return S.has(y)?S.delete(y):S.add(y),S})}function x(y){if(y===0)return;const b=[...p];[b[y-1],b[y]]=[b[y],b[y-1]],b.forEach((S,j)=>{S.order=j}),i(b)}function v(y){if(y===p.length-1)return;const b=[...p];[b[y],b[y+1]]=[b[y+1],b[y]],b.forEach((S,j)=>{S.order=j}),i(b)}return c.jsxs("section",{className:o?"opacity-50 pointer-events-none":"",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs text-[#828282] uppercase tracking-wide",children:"Subtasks"}),e.length>0&&c.jsxs("span",{className:"text-xs text-[#636363]",children:[d,"/",e.length," concluidas"]})]}),p.length>0?c.jsx("div",{className:"space-y-1 mb-3",children:p.map((y,b)=>c.jsxs("div",{className:"flex items-start gap-1",children:[c.jsxs("div",{className:"flex flex-col pt-2",children:[c.jsx("button",{onClick:()=>x(b),disabled:b===0||o,className:`text-[#636363] hover:text-[#909d63] disabled:text-[#3d3a34] disabled:cursor-not-allowed transition-colors p-0.5 ${o?"cursor-not-allowed":""}`,title:"Mover para cima",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"m18 15-6-6-6 6"})})}),c.jsx("button",{onClick:()=>v(b),disabled:b===p.length-1||o,className:`text-[#636363] hover:text-[#909d63] disabled:text-[#3d3a34] disabled:cursor-not-allowed transition-colors p-0.5 ${o?"cursor-not-allowed":""}`,title:"Mover para baixo",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"m6 9 6 6 6-6"})})})]}),c.jsx("div",{className:"flex-1",children:c.jsx(bL,{subtask:y,onToggle:n,onRemove:r,onCodar:a,onUpdate:s,expanded:f.has(y.id),onToggleExpand:g,disabled:o})})]},y.id))}):c.jsx("div",{className:"text-sm text-[#636363] py-4 text-center border border-dashed border-[#3d3a34] bg-[#1c1c1c] mb-3",children:"Nenhuma subtask ainda"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[#636363]",children:"+"}),c.jsx("input",{type:"text",value:l,onChange:y=>u(y.target.value),onKeyDown:y=>y.key==="Enter"&&m(),placeholder:"Adicionar subtask...",disabled:o,className:"flex-1 bg-transparent text-[#d6d6d6] text-sm focus:outline-none border-b border-transparent focus:border-[#909d63] transition-colors placeholder:text-[#4a4a4a] disabled:opacity-50 disabled:cursor-not-allowed"}),c.jsx("button",{onClick:m,disabled:!l.trim()||o,className:"px-3 py-1 text-xs bg-[#909d63] text-[#1c1c1c] hover:bg-[#a0ad73] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Adicionar"})]})]})}function _L({onSelect:e,title:t="Selecionar imagens",multiple:n=!0,disabled:r=!1,children:a,className:s=""}){const i=Wt(u=>u.openDialog),o=Wt(u=>u.closeDialog);async function l(){if(!(r||!Ao()))try{i();const{open:u}=await Oo(async()=>{const{open:p}=await import("./index-lieS2Vz-.js");return{open:p}},[]),f=await u({multiple:n,title:t,filters:[{name:"Imagens",extensions:["png","jpg","jpeg","gif","webp"]}]});if(!f){o();return}const h=Array.isArray(f)?f:[f];if(h.length===0){o();return}o(),e(h)}catch(u){console.error("Failed to select images:",u),o()}}return c.jsx("button",{type:"button",onClick:l,disabled:r,className:s,children:a})}function xL({taskId:e,taskFull:t,taskImages:n,loadedImages:r,activeExecution:a,isBlocked:s,isExecuting:i,isAdjusting:o,adjustingPrompt:l,quickfixInput:u,isLaunchingQuickfix:f,onQuickfixInputChange:h,onLaunchQuickfix:p,onDescriptionSave:d,onImageUpload:m,onImageDelete:g,onImageView:x,onAddSubtask:v,onToggleSubtask:y,onRemoveSubtask:b,onCodarSubtask:S,onUpdateSubtask:j,onReorderSubtasks:M,onAddBusinessRule:E,onRemoveBusinessRule:q,onAddAcceptanceCriteria:L,onRemoveAcceptanceCriteria:N,onTechnicalNotesChange:k,onTechnicalNotesSave:P,localTechnicalNotes:F,viewingImageId:W,viewingImageUrl:Y,onCloseImageModal:U}){var K,$;const[Q,ae]=T.useState(""),[ve,pe]=T.useState(""),[me,Oe]=T.useState(!!((K=t==null?void 0:t.context.business_rules)!=null&&K.length)),[Ke,oe]=T.useState(!!(t!=null&&t.context.technical_notes)),[de,Be]=T.useState(!!(($=t==null?void 0:t.context.acceptance_criteria)!=null&&$.length)),[Ie,lt]=T.useState(n.length>0),[tt,Ye]=T.useState(!1),nt=dc(t);function Ee(){Q.trim()&&(E(Q.trim()),ae(""))}function Kt(){ve.trim()&&(L(ve.trim()),pe(""))}async function zt(Z){if(tt)return;const fe=5-n.length;if(fe<=0||Z.length===0)return;Ye(!0);const ce=Z.slice(0,fe);for(const D of ce)try{await se("add_task_image_from_path",{taskId:e,filePath:D})}catch(H){console.error("Failed to upload image:",H)}await m(),Ye(!1)}return c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[i&&a&&c.jsx(SL,{execution:a,onFocusTerminal:Z=>se("focus_tmux_session",{sessionName:Z})}),o&&c.jsx(wL,{prompt:l}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:u,onChange:Z=>h(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&p(),placeholder:"Quickfix: Descreva uma correo rpida...",disabled:s,className:"flex-1 px-4 py-2 bg-[#1c1c1c] border border-[#3d3a34] rounded-lg text-[#d6d6d6] text-sm focus:border-[#e5c07b] focus:outline-none transition-colors disabled:opacity-50"}),c.jsxs("button",{type:"button",onClick:p,disabled:!u.trim()||s,className:"px-4 py-2 bg-[#e5c07b] text-[#1c1c1c] font-medium text-sm rounded-lg hover:bg-[#f5d08a] disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[f?c.jsx(da,{size:16,className:"animate-spin"}):c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"m5 12 7-7 7 7"}),c.jsx("path",{d:"M12 19V5"})]}),"Fix"]})]}),nt!=="pending"&&c.jsx(X0,{subtasks:t.subtasks,onAdd:v,onToggle:y,onRemove:b,onCodar:S,onUpdate:j,onReorder:M,disabled:s}),c.jsx(yL,{taskId:e,description:t.context.description||"",images:n,maxImages:5,disabled:s,onDescriptionSave:d,onImageUpload:m,onImageDelete:g,onImageView:x}),c.jsx(Wc,{title:`Imagens (${n.length}/5)`,isOpen:Ie,onToggle:()=>lt(!Ie),children:c.jsxs("div",{className:`space-y-3 ${s?"opacity-50 pointer-events-none":""}`,children:[c.jsxs(_L,{onSelect:zt,disabled:s||tt||n.length>=5,className:"flex items-center gap-2 px-3 py-1.5 text-xs bg-[#232323] hover:bg-[#2a2a2a] text-[#d6d6d6] border border-[#3d3a34] rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[tt?c.jsx(da,{size:14,className:"animate-spin"}):c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),c.jsx("circle",{cx:"9",cy:"9",r:"2"}),c.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),"Adicionar"]}),n.length>0&&c.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:n.map(Z=>c.jsx(d3,{imageId:Z.id,fileName:Z.file_name,imageState:r.get(Z.id),disabled:s,onView:x,onDelete:g},Z.id))})]})}),c.jsx(Wc,{title:"Regras de Negocio (opcional)",isOpen:me,onToggle:()=>Oe(!me),children:c.jsxs("div",{className:`space-y-2 ${s?"opacity-50 pointer-events-none":""}`,children:[t.context.business_rules.map((Z,ne)=>c.jsxs("div",{className:"flex items-center gap-2 group",children:[c.jsx("span",{className:"text-[#636363]",children:"*"}),c.jsx("span",{className:"flex-1 text-[#d6d6d6] text-sm",children:Z}),c.jsx("button",{type:"button",onClick:()=>q(ne),disabled:s,className:"opacity-0 group-hover:opacity-100 text-[#bc5653] hover:text-[#cc6663] transition-all p-1 disabled:cursor-not-allowed",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 6 6 18"}),c.jsx("path",{d:"m6 6 12 12"})]})})]},`rule-${ne}`)),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[#636363]",children:"+"}),c.jsx("input",{type:"text",value:Q,onChange:Z=>ae(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&Ee(),placeholder:"Adicionar regra...",disabled:s,className:"flex-1 bg-transparent text-[#d6d6d6] text-sm focus:outline-none border-b border-transparent focus:border-[#909d63] transition-colors placeholder:text-[#4a4a4a] disabled:opacity-50 disabled:cursor-not-allowed"})]})]})}),c.jsx(Wc,{title:"Notas Tcnicas (opcional)",isOpen:Ke,onToggle:()=>oe(!Ke),children:c.jsx("textarea",{value:F,onChange:Z=>k(Z.target.value),onBlur:P,placeholder:"Stack, libs, padres relevantes...",rows:2,disabled:s,className:"w-full px-3 py-2 bg-[#232323] border border-[#3d3a34] text-[#d6d6d6] text-sm focus:border-[#909d63] focus:outline-none resize-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed"})}),c.jsx(Wc,{title:"Critrios de Aceite (opcional)",isOpen:de,onToggle:()=>Be(!de),children:c.jsxs("div",{className:"space-y-2",children:[(t.context.acceptance_criteria||[]).map((Z,ne)=>c.jsxs("div",{className:"flex items-center gap-2 group",children:[c.jsx("span",{className:"text-[#636363]",children:""}),c.jsx("span",{className:"flex-1 text-[#d6d6d6] text-sm",children:Z}),c.jsx("button",{type:"button",onClick:()=>N(ne),className:"opacity-0 group-hover:opacity-100 text-[#bc5653] hover:text-[#cc6663] transition-all p-1",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 6 6 18"}),c.jsx("path",{d:"m6 6 12 12"})]})})]},`criteria-${ne}`)),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[#636363]",children:"+"}),c.jsx("input",{type:"text",value:ve,onChange:Z=>pe(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&Kt(),placeholder:"Adicionar critrio...",disabled:s,className:"flex-1 bg-transparent text-[#d6d6d6] text-sm focus:outline-none border-b border-transparent focus:border-[#909d63] transition-colors placeholder:text-[#4a4a4a] disabled:opacity-50 disabled:cursor-not-allowed"})]})]})}),nt==="pending"&&c.jsx(X0,{subtasks:t.subtasks,onAdd:v,onToggle:y,onRemove:b,onCodar:S,onUpdate:j,onReorder:M,disabled:s}),W&&Y&&c.jsx(vL,{imageUrl:Y,onClose:U})]})}function Wc({title:e,isOpen:t,onToggle:n,children:r}){return c.jsxs("section",{children:[c.jsxs("button",{type:"button",onClick:n,className:"flex items-center gap-2 text-xs text-[#828282] uppercase tracking-wide mb-2 hover:text-[#d6d6d6] transition-colors",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-transform duration-200",style:{transform:`rotate(${t?90:0}deg)`},children:c.jsx("path",{d:"m9 18 6-6-6-6"})}),e]}),t&&c.jsx("div",{className:"animate-slide-down",children:r})]})}function SL({execution:e,onFocusTerminal:t}){return c.jsxs("div",{className:"p-4 bg-[#1c1c1c] border border-[#909d63] rounded-lg animate-fade-in relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-[#232323]",children:c.jsx("div",{className:"h-full bg-[#909d63] transition-all duration-500 ease-out",style:{width:`${e.current_step/e.total_steps*100}%`}})}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-[#909d63]/20 text-[#909d63] text-xs",children:c.jsx(da,{size:14,className:"animate-spin"})}),c.jsxs("span",{className:"text-[#909d63] font-medium text-sm",children:["Executando: Passo ",e.current_step," de ",e.total_steps]}),e.execution_type==="subtask"&&c.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-[#909d63]/10 text-[#909d63] border border-[#909d63]/20",children:"Subtask"})]}),c.jsx("div",{className:"pl-9 text-sm text-[#d6d6d6]",children:e.current_step_description||"Processando..."}),e.tmux_session&&c.jsx("div",{className:"mt-3 pl-9",children:c.jsxs("button",{type:"button",onClick:()=>t(e.tmux_session??""),className:"text-xs flex items-center gap-1.5 text-[#636363] hover:text-[#909d63] transition-colors",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}),c.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),c.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),"Abrir Terminal (",e.tmux_session,")"]})})]})}function wL({prompt:e}){return c.jsx("div",{className:"p-4 bg-[#1c1c1c] border border-[#61afef] rounded-lg animate-fade-in",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-3 h-3 bg-[#61afef] rounded-full animate-pulse"}),c.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-[#61afef] rounded-full animate-ping opacity-50"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-[#61afef]",children:"Agent ajustando tarefa..."}),c.jsx("div",{className:"text-xs text-[#636363]",children:"Os campos estao bloqueados durante o ajuste"})]})]}),e&&c.jsxs("div",{className:"flex-1 text-sm text-[#d6d6d6] truncate italic",children:['"',e,'"']}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(da,{size:18,className:"animate-spin text-[#61afef]"})})]})})}const jL=["feature","bug","refactor","test","docs"],CL=[{value:"1",label:"Alta"},{value:"2",label:"Mdia"},{value:"3",label:"Baixa"}];function EL({title:e,category:t,priority:n,isSaving:r,aiUpdatedRecently:a,isOpenCodeConnected:s,onTitleChange:i,onTitleBlur:o,onCategoryChange:l,onPriorityChange:u}){const f=cr();function h(){f({to:"/tasks"})}return c.jsxs("div",{className:"flex items-center gap-3 p-3 border-b border-[#3d3a34] bg-[#1c1c1c]",children:[c.jsx("button",{type:"button",onClick:h,className:"text-[#636363] hover:text-[#d6d6d6] transition-colors p-1",title:"Voltar",children:c.jsx(rk,{size:18})}),c.jsx("input",{type:"text",value:e,onChange:p=>i(p.target.value),onBlur:o,className:"flex-1 bg-transparent text-[#d6d6d6] text-base font-medium focus:outline-none border-b border-transparent focus:border-[#909d63] transition-colors"}),c.jsx(Bn,{value:t,options:jL.map(p=>({value:p,label:p})),onChange:l}),c.jsx(Bn,{value:String(n),options:CL,onChange:p=>u(Number.parseInt(p))}),r&&c.jsx("span",{className:"text-xs text-[#636363]",children:"Salvando..."}),a&&c.jsxs("span",{className:"text-xs text-[#909d63] flex items-center gap-1 animate-pulse",children:[c.jsx(hy,{size:14}),"IA atualizou"]}),c.jsx("span",{className:`w-2 h-2 rounded-full ${s?"bg-[#61afef]":"bg-[#636363]"}`,title:s?"OpenCode conectado - atualizaes em tempo real":"OpenCode desconectado"})]})}function TL({taskFull:e}){const[t,n]=T.useState(!1),[r,a]=T.useState(!1),s={id:e.id,created_at:e.timestamps.created_at,started_at:e.timestamps.started_at,completed_at:e.timestamps.completed_at,modified_at:e.modified_at,ai_metadata:e.ai_metadata,subtasks:e.subtasks.map(l=>({id:l.id,title:l.title,status:l.status,order:l.order,created_at:l.created_at,completed_at:l.completed_at}))},i=JSON.stringify(s,null,2);async function o(){await navigator.clipboard.writeText(i),a(!0),setTimeout(()=>a(!1),2e3)}return c.jsxs("section",{className:"border border-[#3d3a34] rounded-lg overflow-hidden",children:[c.jsxs("button",{type:"button",onClick:()=>n(!t),className:"w-full flex items-center justify-between px-4 py-3 bg-[#1c1c1c] hover:bg-[#232323] transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[t?c.jsx(tk,{size:16,className:"text-[#636363]"}):c.jsx(b2,{size:16,className:"text-[#636363]"}),c.jsx("span",{className:"text-xs text-[#828282] uppercase tracking-wide",children:"Metadados"})]}),c.jsxs("span",{className:"text-xs text-[#636363] font-mono",children:[e.id.slice(0,8),"..."]})]}),t&&c.jsxs("div",{className:"relative border-t border-[#3d3a34]",children:[c.jsx("button",{type:"button",onClick:o,className:"absolute top-2 right-2 p-1.5 text-[#636363] hover:text-[#d6d6d6] hover:bg-[#2a2a2a] rounded transition-colors",title:"Copiar JSON",children:r?c.jsx(py,{size:14,className:"text-[#909d63]"}):c.jsx(dk,{size:14})}),c.jsx("pre",{className:"p-4 bg-[#0d0d0d] text-[#d6d6d6] text-xs font-mono overflow-x-auto max-h-96 overflow-y-auto",children:c.jsx("code",{children:i})})]})]})}const f3=Mr({id:He().uuid(),title:He().min(1,"Titulo e obrigatorio"),status:He(),order:Fl().int().min(0),description:He().nullable(),acceptance_criteria:ra(He()).nullable(),technical_notes:He().nullable(),prompt_context:He().nullable(),created_at:He(),completed_at:He().nullable()}),NL=Mr({description:He().nullable(),business_rules:ra(He()),technical_notes:He().nullable(),acceptance_criteria:ra(He()).nullable()}),RL=Mr({last_interaction:He().nullable(),last_completed_action:He().nullable(),session_ids:ra(He()),tokens_used:Fl().int().min(0),structuring_complete:Oy()}),kL=Mr({created_at:He(),started_at:He().nullable(),completed_at:He().nullable()});Mr({schema_version:Fl().int(),initialized:Oy(),id:He().uuid(),title:He().min(1,"Titulo e obrigatorio"),status:He(),priority:Fl().int().min(1).max(3),category:Vl(["feature","bug","refactor","test","docs"]),complexity:He().nullable(),context:NL,subtasks:ra(f3),ai_metadata:RL,timestamps:kL,modified_at:He().nullable().optional(),modified_by:Vl(["user","ai"]).nullable().optional()});const OL=Mr({title:He().min(1,"Titulo e obrigatorio"),status:He(),priority:Fl().int().min(1).max(3),category:Vl(["feature","bug","refactor","test","docs"]),complexity:He().nullable(),context:Mr({description:He().nullable(),business_rules:ra(He()),technical_notes:He().nullable(),acceptance_criteria:ra(He()).nullable()}),subtasks:ra(f3),initialized:Oy()});Mr({title:He().min(1,"Titulo da subtask e obrigatorio")});Mr({status:Vl(["pending","in_progress","done"])});const il=["taskFull"],mp=["taskExecution"],W0=["taskImages"];async function AL(e){return se("get_task_by_id",{taskId:e}).catch(()=>null)}async function DL(e){return se("get_project_with_config",{projectId:e}).catch(()=>null)}async function ML(e,t){return se("get_task_full",{projectPath:t,taskId:e}).catch(()=>null)}async function zL(e){return se("get_active_task_execution",{taskId:e}).catch(()=>null)}async function LL(e){return se("get_task_images",{taskId:e}).catch(()=>[])}function PL({taskId:e}){const t=wo(),n=xa({queryKey:["task",e],queryFn:()=>AL(e),enabled:!!e,staleTime:3e4}),r=n.data??null,a=xa({queryKey:["project",r==null?void 0:r.project_id],queryFn:async()=>r!=null&&r.project_id?DL(r.project_id):null,enabled:!!(r!=null&&r.project_id),staleTime:6e4}),s=a.data??null,i=(s==null?void 0:s.path)??null,o=xa({queryKey:[...il,e],queryFn:async()=>i?ML(e,i):null,enabled:!!e&&!!i,staleTime:3e4}),l=xa({queryKey:[...mp,e],queryFn:()=>zL(e),enabled:!!e,staleTime:5e3,refetchInterval:1e4}),u=xa({queryKey:[...W0,e],queryFn:()=>LL(e),enabled:!!e,staleTime:6e4});T.useEffect(()=>{let m=null,g=null;return ts("task-updated",async x=>{x.payload.task_id===e&&x.payload.source==="ai"&&(t.invalidateQueries({queryKey:["task",e]}),t.invalidateQueries({queryKey:[...il,e]}))}).then(x=>{m=x}),ts("execution-changed",x=>{x.payload.task_id===e&&(t.invalidateQueries({queryKey:[...mp,e]}),(x.payload.status==="completed"||x.payload.status==="error")&&t.invalidateQueries({queryKey:[...il,e]}))}).then(x=>{g=x}),()=>{m==null||m(),g==null||g()}},[e,t]);const f=()=>{t.invalidateQueries({queryKey:["task",e]}),t.invalidateQueries({queryKey:[...il,e]}),t.invalidateQueries({queryKey:[...mp,e]})},h=()=>{t.invalidateQueries({queryKey:[...W0,e]})},p=n.isLoading||a.isLoading||o.isLoading,d=n.isError||a.isError||o.isError;return{task:r,taskFull:o.data??null,project:s,projectPath:i,activeExecution:l.data??null,taskImages:u.data??[],isLoading:p,isError:d,refetch:f,refetchImages:h}}function UL(){const e=wo();return os({mutationFn:async({projectPath:t,task:n})=>{const r={...n,modified_at:new Date().toISOString(),modified_by:"user"};return await se("update_task_and_sync",{projectPath:t,task:r}),r},onSuccess:t=>{e.invalidateQueries({queryKey:["tasks"]}),e.invalidateQueries({queryKey:["task",t.id]}),e.invalidateQueries({queryKey:[...il,t.id]})}})}function qL(){return os({mutationFn:async({projectId:e,taskId:t})=>{await se("launch_task_structure",{projectId:e,taskId:t})}})}function $L(){return os({mutationFn:async({projectId:e,taskId:t})=>{await se("launch_task_execute_all",{projectId:e,taskId:t})}})}function HL(){return os({mutationFn:async({projectId:e,taskId:t,subtaskId:n})=>{await se("launch_task_execute_subtask",{projectId:e,taskId:t,subtaskId:n})}})}function BL(){return os({mutationFn:async({projectId:e,taskId:t})=>{await se("launch_task_review",{projectId:e,taskId:t})}})}function IL(){return os({mutationFn:async({taskId:e,prompt:t})=>{await se("send_quickfix",{taskId:e,prompt:t})}})}function FL(){return os({mutationFn:async({sessionName:e})=>{await se("focus_tmux_session",{sessionName:e})}})}var fc=e=>e.type==="checkbox",ks=e=>e instanceof Date,Sn=e=>e==null;const h3=e=>typeof e=="object";var Mt=e=>!Sn(e)&&!Array.isArray(e)&&h3(e)&&!ks(e),VL=e=>Mt(e)&&e.target?fc(e.target)?e.target.checked:e.target.value:e,ZL=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,KL=(e,t)=>e.has(ZL(t)),QL=e=>{const t=e.constructor&&e.constructor.prototype;return Mt(t)&&t.hasOwnProperty("isPrototypeOf")},Ay=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ut(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Ay&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(Mt(e)&&QL(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=Ut(e[a]));return r}var Xf=e=>/^\w*$/.test(e),yt=e=>e===void 0,Dy=e=>Array.isArray(e)?e.filter(Boolean):[],My=e=>Dy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ge=(e,t,n)=>{if(!t||!Mt(e))return n;const r=(Xf(t)?[t]:My(t)).reduce((a,s)=>Sn(a)?a:a[s],e);return yt(r)||r===e?yt(e[t])?n:e[t]:r},Cr=e=>typeof e=="boolean",br=e=>typeof e=="function",rt=(e,t,n)=>{let r=-1;const a=Xf(t)?[t]:My(t),s=a.length,i=s-1;for(;++r<s;){const o=a[r];let l=n;if(r!==i){const u=e[o];l=Mt(u)||Array.isArray(u)?u:isNaN(+a[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=l,e=e[o]}};const e_={BLUR:"blur",FOCUS_OUT:"focusout"},_r={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},YL=pt.createContext(null);YL.displayName="HookFormControlContext";var GL=(e,t,n,r=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const i=s;return t._proxyFormState[i]!==_r.all&&(t._proxyFormState[i]=!r||_r.all),e[i]}});return a};const JL=typeof window<"u"?pt.useLayoutEffect:pt.useEffect;var zn=e=>typeof e=="string",XL=(e,t,n,r,a)=>zn(e)?(r&&t.watch.add(e),ge(n,e,a)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),ge(n,s))):(r&&(t.watchAll=!0),n),Fm=e=>Sn(e)||!h3(e);function Ea(e,t,n=new WeakSet){if(Fm(e)||Fm(t))return Object.is(e,t);if(ks(e)&&ks(t))return Object.is(e.getTime(),t.getTime());const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const o=t[s];if(ks(i)&&ks(o)||Mt(i)&&Mt(o)||Array.isArray(i)&&Array.isArray(o)?!Ea(i,o,n):!Object.is(i,o))return!1}}return!0}const WL=pt.createContext(null);WL.displayName="HookFormContext";var zy=(e,t,n,r,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:a||!0}}:{},jl=e=>Array.isArray(e)?e:[e],t_=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}};function p3(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const a=e[r],s=t[r];if(a&&Mt(a)&&s){const i=p3(a,s);Mt(i)&&(n[r]=i)}else e[r]&&(n[r]=s)}return n}var cn=e=>Mt(e)&&!Object.keys(e).length,Ly=e=>e.type==="file",df=e=>{if(!Ay)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},m3=e=>e.type==="select-multiple",Py=e=>e.type==="radio",e5=e=>Py(e)||fc(e),gp=e=>df(e)&&e.isConnected;function t5(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=yt(e)?r++:e[t[r++]];return e}function n5(e){for(const t in e)if(e.hasOwnProperty(t)&&!yt(e[t]))return!1;return!0}function Rt(e,t){const n=Array.isArray(t)?t:Xf(t)?[t]:My(t),r=n.length===1?e:t5(e,n),a=n.length-1,s=n[a];return r&&delete r[s],a!==0&&(Mt(r)&&cn(r)||Array.isArray(r)&&n5(r))&&Rt(e,n.slice(0,-1)),e}var r5=e=>{for(const t in e)if(br(e[t]))return!0;return!1};function g3(e){return Array.isArray(e)||Mt(e)&&!r5(e)}function Vm(e,t={}){for(const n in e){const r=e[n];g3(r)?(t[n]=Array.isArray(r)?[]:{},Vm(r,t[n])):yt(r)||(t[n]=!0)}return t}function wi(e,t,n){n||(n=Vm(t));for(const r in e){const a=e[r];if(g3(a))yt(t)||Fm(n[r])?n[r]=Vm(a,Array.isArray(a)?[]:{}):wi(a,Sn(t)?{}:t[r],n[r]);else{const s=t[r];n[r]=!Ea(a,s)}}return n}const n_={value:!1,isValid:!1},r_={value:!0,isValid:!0};var y3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!yt(e[0].attributes.value)?yt(e[0].value)||e[0].value===""?r_:{value:e[0].value,isValid:!0}:r_:n_}return n_},v3=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>yt(e)?e:t?e===""?NaN:e&&+e:n&&zn(e)?new Date(e):r?r(e):e;const a_={isValid:!1,value:null};var b3=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,a_):a_;function s_(e){const t=e.ref;return Ly(t)?t.files:Py(t)?b3(e.refs).value:m3(t)?[...t.selectedOptions].map(({value:n})=>n):fc(t)?y3(e.refs).value:v3(yt(t.value)?e.ref.value:t.value,e)}var a5=(e,t,n,r)=>{const a={};for(const s of e){const i=ge(t,s);i&&rt(a,s,i._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:r}},ff=e=>e instanceof RegExp,Ko=e=>yt(e)?e:ff(e)?e.source:Mt(e)?ff(e.value)?e.value.source:e.value:e,i_=e=>({isOnSubmit:!e||e===_r.onSubmit,isOnBlur:e===_r.onBlur,isOnChange:e===_r.onChange,isOnAll:e===_r.all,isOnTouch:e===_r.onTouched});const o_="AsyncFunction";var s5=e=>!!e&&!!e.validate&&!!(br(e.validate)&&e.validate.constructor.name===o_||Mt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===o_)),i5=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),l_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Cl=(e,t,n,r)=>{for(const a of n||Object.keys(e)){const s=ge(e,a);if(s){const{_f:i,...o}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!r)return!0;if(i.ref&&t(i.ref,i.name)&&!r)return!0;if(Cl(o,t))break}else if(Mt(o)&&Cl(o,t))break}}};function c_(e,t,n){const r=ge(e,n);if(r||Xf(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const s=a.join("."),i=ge(t,s),o=ge(e,s);if(i&&!Array.isArray(i)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};a.pop()}return{name:n}}var o5=(e,t,n,r)=>{n(e);const{name:a,...s}=e;return cn(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!r||_r.all))},l5=(e,t,n)=>!e||!t||e===t||jl(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),c5=(e,t,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?r.isOnBlur:a.isOnBlur)?!e:(n?r.isOnChange:a.isOnChange)?e:!0,u5=(e,t)=>!Dy(ge(e,t)).length&&Rt(e,t),d5=(e,t,n)=>{const r=jl(ge(e,n));return rt(r,"root",t[n]),rt(e,n,r),e};function u_(e,t,n="validate"){if(zn(e)||Array.isArray(e)&&e.every(zn)||Cr(e)&&!e)return{type:n,message:zn(e)?e:"",ref:t}}var yi=e=>Mt(e)&&!ff(e)?e:{value:e,message:""},d_=async(e,t,n,r,a,s)=>{const{ref:i,refs:o,required:l,maxLength:u,minLength:f,min:h,max:p,pattern:d,validate:m,name:g,valueAsNumber:x,mount:v}=e._f,y=ge(n,g);if(!v||t.has(g))return{};const b=o?o[0]:i,S=P=>{a&&b.reportValidity&&(b.setCustomValidity(Cr(P)?"":P||""),b.reportValidity())},j={},M=Py(i),E=fc(i),q=M||E,L=(x||Ly(i))&&yt(i.value)&&yt(y)||df(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,N=zy.bind(null,g,r,j),k=(P,F,W,Y=Hr.maxLength,U=Hr.minLength)=>{const Q=P?F:W;j[g]={type:P?Y:U,message:Q,ref:i,...N(P?Y:U,Q)}};if(s?!Array.isArray(y)||!y.length:l&&(!q&&(L||Sn(y))||Cr(y)&&!y||E&&!y3(o).isValid||M&&!b3(o).isValid)){const{value:P,message:F}=zn(l)?{value:!!l,message:l}:yi(l);if(P&&(j[g]={type:Hr.required,message:F,ref:b,...N(Hr.required,F)},!r))return S(F),j}if(!L&&(!Sn(h)||!Sn(p))){let P,F;const W=yi(p),Y=yi(h);if(!Sn(y)&&!isNaN(y)){const U=i.valueAsNumber||y&&+y;Sn(W.value)||(P=U>W.value),Sn(Y.value)||(F=U<Y.value)}else{const U=i.valueAsDate||new Date(y),Q=pe=>new Date(new Date().toDateString()+" "+pe),ae=i.type=="time",ve=i.type=="week";zn(W.value)&&y&&(P=ae?Q(y)>Q(W.value):ve?y>W.value:U>new Date(W.value)),zn(Y.value)&&y&&(F=ae?Q(y)<Q(Y.value):ve?y<Y.value:U<new Date(Y.value))}if((P||F)&&(k(!!P,W.message,Y.message,Hr.max,Hr.min),!r))return S(j[g].message),j}if((u||f)&&!L&&(zn(y)||s&&Array.isArray(y))){const P=yi(u),F=yi(f),W=!Sn(P.value)&&y.length>+P.value,Y=!Sn(F.value)&&y.length<+F.value;if((W||Y)&&(k(W,P.message,F.message),!r))return S(j[g].message),j}if(d&&!L&&zn(y)){const{value:P,message:F}=yi(d);if(ff(P)&&!y.match(P)&&(j[g]={type:Hr.pattern,message:F,ref:i,...N(Hr.pattern,F)},!r))return S(F),j}if(m){if(br(m)){const P=await m(y,n),F=u_(P,b);if(F&&(j[g]={...F,...N(Hr.validate,F.message)},!r))return S(F.message),j}else if(Mt(m)){let P={};for(const F in m){if(!cn(P)&&!r)break;const W=u_(await m[F](y,n),b,F);W&&(P={...W,...N(F,W.message)},S(W.message),r&&(j[g]=P))}if(!cn(P)&&(j[g]={ref:b,...P},!r))return j}}return S(!0),j};const f5={mode:_r.onSubmit,reValidateMode:_r.onChange,shouldFocusError:!0};function h5(e={}){let t={...f5,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:br(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},a=Mt(t.defaultValues)||Mt(t.values)?Ut(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Ut(a),i={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...f};let p={...h};const d={array:t_(),state:t_()},m=t.criteriaMode===_r.all,g=D=>H=>{clearTimeout(u),u=setTimeout(D,H)},x=async D=>{if(!i.keepIsValid&&!t.disabled&&(h.isValid||p.isValid||D)){let H;t.resolver?(H=cn((await q()).errors),v()):H=await N(r,!0),H!==n.isValid&&d.state.next({isValid:H})}},v=(D,H)=>{!t.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((D||Array.from(o.mount)).forEach(I=>{I&&(H?rt(n.validatingFields,I,H):Rt(n.validatingFields,I))}),d.state.next({validatingFields:n.validatingFields,isValidating:!cn(n.validatingFields)}))},y=(D,H=[],I,te,ee=!0,O=!0)=>{if(te&&I&&!t.disabled){if(i.action=!0,O&&Array.isArray(ge(r,D))){const re=I(ge(r,D),te.argA,te.argB);ee&&rt(r,D,re)}if(O&&Array.isArray(ge(n.errors,D))){const re=I(ge(n.errors,D),te.argA,te.argB);ee&&rt(n.errors,D,re),u5(n.errors,D)}if((h.touchedFields||p.touchedFields)&&O&&Array.isArray(ge(n.touchedFields,D))){const re=I(ge(n.touchedFields,D),te.argA,te.argB);ee&&rt(n.touchedFields,D,re)}(h.dirtyFields||p.dirtyFields)&&(n.dirtyFields=wi(a,s)),d.state.next({name:D,isDirty:P(D,H),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else rt(s,D,H)},b=(D,H)=>{rt(n.errors,D,H),d.state.next({errors:n.errors})},S=D=>{n.errors=D,d.state.next({errors:n.errors,isValid:!1})},j=(D,H,I,te)=>{const ee=ge(r,D);if(ee){const O=ge(s,D,yt(I)?ge(a,D):I);yt(O)||te&&te.defaultChecked||H?rt(s,D,H?O:s_(ee._f)):Y(D,O),i.mount&&!i.action&&x()}},M=(D,H,I,te,ee)=>{let O=!1,re=!1;const qe={name:D};if(!t.disabled){if(!I||te){(h.isDirty||p.isDirty)&&(re=n.isDirty,n.isDirty=qe.isDirty=P(),O=re!==qe.isDirty);const $e=Ea(ge(a,D),H);re=!!ge(n.dirtyFields,D),$e?Rt(n.dirtyFields,D):rt(n.dirtyFields,D,!0),qe.dirtyFields=n.dirtyFields,O=O||(h.dirtyFields||p.dirtyFields)&&re!==!$e}if(I){const $e=ge(n.touchedFields,D);$e||(rt(n.touchedFields,D,I),qe.touchedFields=n.touchedFields,O=O||(h.touchedFields||p.touchedFields)&&$e!==I)}O&&ee&&d.state.next(qe)}return O?qe:{}},E=(D,H,I,te)=>{const ee=ge(n.errors,D),O=(h.isValid||p.isValid)&&Cr(H)&&n.isValid!==H;if(t.delayError&&I?(l=g(()=>b(D,I)),l(t.delayError)):(clearTimeout(u),l=null,I?rt(n.errors,D,I):Rt(n.errors,D)),(I?!Ea(ee,I):ee)||!cn(te)||O){const re={...te,...O&&Cr(H)?{isValid:H}:{},errors:n.errors,name:D};n={...n,...re},d.state.next(re)}},q=async D=>(v(D,!0),await t.resolver(s,t.context,a5(D||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),L=async D=>{const{errors:H}=await q(D);if(v(D),D)for(const I of D){const te=ge(H,I);te?rt(n.errors,I,te):Rt(n.errors,I)}else n.errors=H;return H},N=async(D,H,I={valid:!0})=>{for(const te in D){const ee=D[te];if(ee){const{_f:O,...re}=ee;if(O){const qe=o.array.has(O.name),$e=ee._f&&s5(ee._f);$e&&h.validatingFields&&v([O.name],!0);const Lt=await d_(ee,o.disabled,s,m,t.shouldUseNativeValidation&&!H,qe);if($e&&h.validatingFields&&v([O.name]),Lt[O.name]&&(I.valid=!1,H||e.shouldUseNativeValidation))break;!H&&(ge(Lt,O.name)?qe?d5(n.errors,Lt,O.name):rt(n.errors,O.name,Lt[O.name]):Rt(n.errors,O.name))}!cn(re)&&await N(re,H,I)}}return I.valid},k=()=>{for(const D of o.unMount){const H=ge(r,D);H&&(H._f.refs?H._f.refs.every(I=>!gp(I)):!gp(H._f.ref))&&lt(D)}o.unMount=new Set},P=(D,H)=>!t.disabled&&(D&&H&&rt(s,D,H),!Ea(me(),a)),F=(D,H,I)=>XL(D,o,{...i.mount?s:yt(H)?a:zn(D)?{[D]:H}:H},I,H),W=D=>Dy(ge(i.mount?s:a,D,t.shouldUnregister?ge(a,D,[]):[])),Y=(D,H,I={})=>{const te=ge(r,D);let ee=H;if(te){const O=te._f;O&&(!O.disabled&&rt(s,D,v3(H,O)),ee=df(O.ref)&&Sn(H)?"":H,m3(O.ref)?[...O.ref.options].forEach(re=>re.selected=ee.includes(re.value)):O.refs?fc(O.ref)?O.refs.forEach(re=>{(!re.defaultChecked||!re.disabled)&&(Array.isArray(ee)?re.checked=!!ee.find(qe=>qe===re.value):re.checked=ee===re.value||!!ee)}):O.refs.forEach(re=>re.checked=re.value===ee):Ly(O.ref)?O.ref.value="":(O.ref.value=ee,O.ref.type||d.state.next({name:D,values:Ut(s)})))}(I.shouldDirty||I.shouldTouch)&&M(D,ee,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&pe(D)},U=(D,H,I)=>{for(const te in H){if(!H.hasOwnProperty(te))return;const ee=H[te],O=D+"."+te,re=ge(r,O);(o.array.has(D)||Mt(ee)||re&&!re._f)&&!ks(ee)?U(O,ee,I):Y(O,ee,I)}},Q=(D,H,I={})=>{const te=ge(r,D),ee=o.array.has(D),O=Ut(H);rt(s,D,O),ee?(d.array.next({name:D,values:Ut(s)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&I.shouldDirty&&d.state.next({name:D,dirtyFields:wi(a,s),isDirty:P(D,O)})):te&&!te._f&&!Sn(O)?U(D,O,I):Y(D,O,I),l_(D,o)?d.state.next({...n,name:D,values:Ut(s)}):d.state.next({name:i.mount?D:void 0,values:Ut(s)})},ae=async D=>{i.mount=!0;const H=D.target;let I=H.name,te=!0;const ee=ge(r,I),O=$e=>{te=Number.isNaN($e)||ks($e)&&isNaN($e.getTime())||Ea($e,ge(s,I,$e))},re=i_(t.mode),qe=i_(t.reValidateMode);if(ee){let $e,Lt;const Nn=H.type?s_(ee._f):VL(D),Rn=D.type===e_.BLUR||D.type===e_.FOCUS_OUT,fi=!i5(ee._f)&&!t.resolver&&!ge(n.errors,I)&&!ee._f.deps||c5(Rn,ge(n.touchedFields,I),n.isSubmitted,qe,re),hs=l_(I,o,Rn);rt(s,I,Nn),Rn?(!H||!H.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(D),l&&l(0)):ee._f.onChange&&ee._f.onChange(D);const ps=M(I,Nn,Rn),ha=!cn(ps)||hs;if(!Rn&&d.state.next({name:I,type:D.type,values:Ut(s)}),fi)return(h.isValid||p.isValid)&&(t.mode==="onBlur"?Rn&&x():Rn||x()),ha&&d.state.next({name:I,...hs?{}:ps});if(!Rn&&hs&&d.state.next({...n}),t.resolver){const{errors:ms}=await q([I]);if(v([I]),O(Nn),te){const gs=c_(n.errors,r,I),Te=c_(ms,r,gs.name||I);$e=Te.error,I=Te.name,Lt=cn(ms)}}else v([I],!0),$e=(await d_(ee,o.disabled,s,m,t.shouldUseNativeValidation))[I],v([I]),O(Nn),te&&($e?Lt=!1:(h.isValid||p.isValid)&&(Lt=await N(r,!0)));te&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&pe(ee._f.deps),E(I,Lt,$e,ps))}},ve=(D,H)=>{if(ge(n.errors,H)&&D.focus)return D.focus(),1},pe=async(D,H={})=>{let I,te;const ee=jl(D);if(t.resolver){const O=await L(yt(D)?D:ee);I=cn(O),te=D?!ee.some(re=>ge(O,re)):I}else D?(te=(await Promise.all(ee.map(async O=>{const re=ge(r,O);return await N(re&&re._f?{[O]:re}:re)}))).every(Boolean),!(!te&&!n.isValid)&&x()):te=I=await N(r);return d.state.next({...!zn(D)||(h.isValid||p.isValid)&&I!==n.isValid?{}:{name:D},...t.resolver||!D?{isValid:I}:{},errors:n.errors}),H.shouldFocus&&!te&&Cl(r,ve,D?ee:o.mount),te},me=(D,H)=>{let I={...i.mount?s:a};return H&&(I=p3(H.dirtyFields?n.dirtyFields:n.touchedFields,I)),yt(D)?I:zn(D)?ge(I,D):D.map(te=>ge(I,te))},Oe=(D,H)=>({invalid:!!ge((H||n).errors,D),isDirty:!!ge((H||n).dirtyFields,D),error:ge((H||n).errors,D),isValidating:!!ge(n.validatingFields,D),isTouched:!!ge((H||n).touchedFields,D)}),Ke=D=>{D&&jl(D).forEach(H=>Rt(n.errors,H)),d.state.next({errors:D?n.errors:{}})},oe=(D,H,I)=>{const te=(ge(r,D,{_f:{}})._f||{}).ref,ee=ge(n.errors,D)||{},{ref:O,message:re,type:qe,...$e}=ee;rt(n.errors,D,{...$e,...H,ref:te}),d.state.next({name:D,errors:n.errors,isValid:!1}),I&&I.shouldFocus&&te&&te.focus&&te.focus()},de=(D,H)=>br(D)?d.state.subscribe({next:I=>"values"in I&&D(F(void 0,H),I)}):F(D,H,!0),Be=D=>d.state.subscribe({next:H=>{l5(D.name,H.name,D.exact)&&o5(H,D.formState||h,ne,D.reRenderRoot)&&D.callback({values:{...s},...n,...H,defaultValues:a})}}).unsubscribe,Ie=D=>(i.mount=!0,p={...p,...D.formState},Be({...D,formState:{...f,...D.formState}})),lt=(D,H={})=>{for(const I of D?jl(D):o.mount)o.mount.delete(I),o.array.delete(I),H.keepValue||(Rt(r,I),Rt(s,I)),!H.keepError&&Rt(n.errors,I),!H.keepDirty&&Rt(n.dirtyFields,I),!H.keepTouched&&Rt(n.touchedFields,I),!H.keepIsValidating&&Rt(n.validatingFields,I),!t.shouldUnregister&&!H.keepDefaultValue&&Rt(a,I);d.state.next({values:Ut(s)}),d.state.next({...n,...H.keepDirty?{isDirty:P()}:{}}),!H.keepIsValid&&x()},tt=({disabled:D,name:H})=>{if(Cr(D)&&i.mount||D||o.disabled.has(H)){const ee=o.disabled.has(H)!==!!D;D?o.disabled.add(H):o.disabled.delete(H),ee&&i.mount&&!i.action&&x()}},Ye=(D,H={})=>{let I=ge(r,D);const te=Cr(H.disabled)||Cr(t.disabled);return rt(r,D,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:D}},name:D,mount:!0,...H}}),o.mount.add(D),I?tt({disabled:Cr(H.disabled)?H.disabled:t.disabled,name:D}):j(D,!0,H.value),{...te?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:Ko(H.min),max:Ko(H.max),minLength:Ko(H.minLength),maxLength:Ko(H.maxLength),pattern:Ko(H.pattern)}:{},name:D,onChange:ae,onBlur:ae,ref:ee=>{if(ee){Ye(D,H),I=ge(r,D);const O=yt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,re=e5(O),qe=I._f.refs||[];if(re?qe.find($e=>$e===O):O===I._f.ref)return;rt(r,D,{_f:{...I._f,...re?{refs:[...qe.filter(gp),O,...Array.isArray(ge(a,D))?[{}]:[]],ref:{type:O.type,name:D}}:{ref:O}}}),j(D,!1,void 0,O)}else I=ge(r,D,{}),I._f&&(I._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(KL(o.array,D)&&i.action)&&o.unMount.add(D)}}},nt=()=>t.shouldFocusError&&Cl(r,ve,o.mount),Ee=D=>{Cr(D)&&(d.state.next({disabled:D}),Cl(r,(H,I)=>{const te=ge(r,I);te&&(H.disabled=te._f.disabled||D,Array.isArray(te._f.refs)&&te._f.refs.forEach(ee=>{ee.disabled=te._f.disabled||D}))},0,!1))},Kt=(D,H)=>async I=>{let te;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let ee=Ut(s);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:O,values:re}=await q();v(),n.errors=O,ee=Ut(re)}else await N(r);if(o.disabled.size)for(const O of o.disabled)Rt(ee,O);if(Rt(n.errors,"root"),cn(n.errors)){d.state.next({errors:{}});try{await D(ee,I)}catch(O){te=O}}else H&&await H({...n.errors},I),nt(),setTimeout(nt);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cn(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},zt=(D,H={})=>{ge(r,D)&&(yt(H.defaultValue)?Q(D,Ut(ge(a,D))):(Q(D,H.defaultValue),rt(a,D,Ut(H.defaultValue))),H.keepTouched||Rt(n.touchedFields,D),H.keepDirty||(Rt(n.dirtyFields,D),n.isDirty=H.defaultValue?P(D,Ut(ge(a,D))):P()),H.keepError||(Rt(n.errors,D),h.isValid&&x()),d.state.next({...n}))},K=(D,H={})=>{const I=D?Ut(D):a,te=Ut(I),ee=cn(D),O=ee?a:te;if(H.keepDefaultValues||(a=I),!H.keepValues){if(H.keepDirtyValues){const re=new Set([...o.mount,...Object.keys(wi(a,s))]);for(const qe of Array.from(re)){const $e=ge(n.dirtyFields,qe),Lt=ge(s,qe),Nn=ge(O,qe);$e&&!yt(Lt)?rt(O,qe,Lt):!$e&&!yt(Nn)&&Q(qe,Nn)}}else{if(Ay&&yt(D))for(const re of o.mount){const qe=ge(r,re);if(qe&&qe._f){const $e=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(df($e)){const Lt=$e.closest("form");if(Lt){Lt.reset();break}}}}if(H.keepFieldsRef)for(const re of o.mount)Q(re,ge(O,re));else r={}}s=t.shouldUnregister?H.keepDefaultValues?Ut(a):{}:Ut(O),d.array.next({values:{...O}}),d.state.next({values:{...O}})}o={mount:H.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!h.isValid||!!H.keepIsValid||!!H.keepDirtyValues||!t.shouldUnregister&&!cn(O),i.watch=!!t.shouldUnregister,i.keepIsValid=!!H.keepIsValid,i.action=!1,H.keepErrors||(n.errors={}),d.state.next({submitCount:H.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:H.keepDirty?n.isDirty:!!(H.keepDefaultValues&&!Ea(D,a)),isSubmitted:H.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:H.keepDirtyValues?H.keepDefaultValues&&s?wi(a,s):n.dirtyFields:H.keepDefaultValues&&D?wi(a,D):H.keepDirty?n.dirtyFields:{},touchedFields:H.keepTouched?n.touchedFields:{},errors:H.keepErrors?n.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},$=(D,H)=>K(br(D)?D(s):D,{...t.resetOptions,...H}),Z=(D,H={})=>{const I=ge(r,D),te=I&&I._f;if(te){const ee=te.refs?te.refs[0]:te.ref;ee.focus&&setTimeout(()=>{ee.focus(),H.shouldSelect&&br(ee.select)&&ee.select()})}},ne=D=>{n={...n,...D}},ce={control:{register:Ye,unregister:lt,getFieldState:Oe,handleSubmit:Kt,setError:oe,_subscribe:Be,_runSchema:q,_updateIsValidating:v,_focusError:nt,_getWatch:F,_getDirty:P,_setValid:x,_setFieldArray:y,_setDisabledField:tt,_setErrors:S,_getFieldArray:W,_reset:K,_resetDefaultValues:()=>br(t.defaultValues)&&t.defaultValues().then(D=>{$(D,t.resetOptions),d.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Ee,_subjects:d,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return i},set _state(D){i=D},get _defaultValues(){return a},get _names(){return o},set _names(D){o=D},get _formState(){return n},get _options(){return t},set _options(D){t={...t,...D}}},subscribe:Ie,trigger:pe,register:Ye,handleSubmit:Kt,watch:de,setValue:Q,getValues:me,reset:$,resetField:zt,clearErrors:Ke,unregister:lt,setError:oe,setFocus:Z,getFieldState:Oe};return{...ce,formControl:ce}}function p5(e={}){const t=pt.useRef(void 0),n=pt.useRef(void 0),[r,a]=pt.useState({isDirty:!1,isValidating:!1,isLoading:br(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:br(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!br(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...o}=h5(e);t.current={...o,formState:r}}const s=t.current.control;return s._options=e,JL(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),s._formState.isReady=!0,i},[s]),pt.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),pt.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),pt.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),pt.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),pt.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==r.isDirty&&s._subjects.state.next({isDirty:i})}},[s,r.isDirty]),pt.useEffect(()=>{var i;e.values&&!Ea(e.values,n.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((i=s._options.resetOptions)===null||i===void 0)&&i.keepIsValid||s._setValid(),n.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),pt.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=pt.useMemo(()=>GL(r,s),[s,r]),t.current}const f_=(e,t,n)=>{if(e&&"reportValidity"in e){const r=ge(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Zm=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?f_(r.ref,n,e):r&&r.refs&&r.refs.forEach(a=>f_(a,n,e))}},h_=(e,t)=>{t.shouldUseNativeValidation&&Zm(e,t);const n={};for(const r in e){const a=ge(t.fields,r),s=Object.assign(e[r]||{},{ref:a&&a.ref});if(m5(t.names||Object.keys(e),r)){const i=Object.assign({},ge(n,r));rt(i,"root",s),rt(n,r,i)}else rt(n,r,s)}return n},m5=(e,t)=>{const n=p_(t);return e.some(r=>p_(r).match(`^${n}\\.\\d+`))};function p_(e){return e.replace(/\]|\[/g,"")}function m_(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function g5(e,t){for(var n={};e.length;){var r=e[0],a=r.code,s=r.message,i=r.path.join(".");if(!n[i])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[i]={message:o.message,type:o.code}}else n[i]={message:s,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return e.push(h)})}),t){var l=n[i].types,u=l&&l[r.code];n[i]=zy(i,t,n,a,u?[].concat(u,r.message):r.message)}e.shift()}return n}function y5(e,t){for(var n={};e.length;){var r=e[0],a=r.code,s=r.message,i=r.path.join(".");if(!n[i])if(r.code==="invalid_union"&&r.errors.length>0){var o=r.errors[0][0];n[i]={message:o.message,type:o.code}}else n[i]={message:s,type:a};if(r.code==="invalid_union"&&r.errors.forEach(function(f){return f.forEach(function(h){return e.push(h)})}),t){var l=n[i].types,u=l&&l[r.code];n[i]=zy(i,t,n,a,u?[].concat(u,r.message):r.message)}e.shift()}return n}function v5(e,t,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(e))return function(r,a,s){try{return Promise.resolve(m_(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(i){return s.shouldUseNativeValidation&&Zm({},s),{errors:{},values:n.raw?Object.assign({},r):i}})},function(i){if(function(o){return Array.isArray(o==null?void 0:o.issues)}(i))return{values:{},errors:h_(g5(i.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(e))return function(r,a,s){try{return Promise.resolve(m_(function(){return Promise.resolve((n.mode==="sync"?Q4:Y4)(e,r,t)).then(function(i){return s.shouldUseNativeValidation&&Zm({},s),{errors:{},values:n.raw?Object.assign({},r):i}})},function(i){if(function(o){return o instanceof Ry}(i))return{values:{},errors:h_(y5(i.issues,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}};throw new Error("Invalid input: not a Zod schema")}function g_(e){return{title:e.title,status:e.status,priority:e.priority,category:e.category,complexity:e.complexity,context:{description:e.context.description,business_rules:e.context.business_rules,technical_notes:e.context.technical_notes,acceptance_criteria:e.context.acceptance_criteria},subtasks:e.subtasks,initialized:e.initialized}}function b5({taskFull:e,projectPath:t}){const[n,r]=T.useState(null),[a,s]=T.useState(!1),[i,o]=T.useState(!1),l=T.useRef(null),u=UL(),f=p5({resolver:v5(OL),defaultValues:e?g_(e):void 0,mode:"onBlur"});T.useEffect(()=>{if(e&&(f.reset(g_(e)),r(e.modified_at??null),e.modified_by==="ai")){s(!0);const k=setTimeout(()=>s(!1),5e3);return()=>clearTimeout(k)}},[e,f]);const h=T.useCallback(k=>{if(!e||!t)return;n&&e.modified_at!==n&&e.modified_by==="ai"&&(o(!0),setTimeout(()=>o(!1),8e3));const P={...e,...k,context:k.context,subtasks:k.subtasks};u.mutate({projectPath:t,task:P},{onSuccess:F=>{r(F.modified_at??null)}})},[e,t,n,u]),p=T.useCallback(k=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{h(k)},300)},[h]),d=T.useCallback((k,P)=>{f.setValue(k,P);const F=f.getValues();p(F)},[f,p]),m=T.useCallback((k,P)=>{const F=f.getValues("context");f.setValue("context",{...F,[k]:P});const W=f.getValues();p(W)},[f,p]),g=T.useCallback(k=>{if(!k.trim())return;const P=f.getValues("context.business_rules");f.setValue("context.business_rules",[...P,k.trim()]);const F=f.getValues();p(F)},[f,p]),x=T.useCallback(k=>{const P=f.getValues("context.business_rules");f.setValue("context.business_rules",P.filter((W,Y)=>Y!==k));const F=f.getValues();p(F)},[f,p]),v=T.useCallback(k=>{if(!k.trim())return;const P=f.getValues("context.acceptance_criteria")??[];f.setValue("context.acceptance_criteria",[...P,k.trim()]);const F=f.getValues();p(F)},[f,p]),y=T.useCallback(k=>{const F=(f.getValues("context.acceptance_criteria")??[]).filter((Y,U)=>U!==k);f.setValue("context.acceptance_criteria",F.length>0?F:null);const W=f.getValues();p(W)},[f,p]),b=T.useCallback(k=>{if(!k.trim())return;const P=f.getValues("subtasks"),F=P.length>0?Math.max(...P.map(U=>U.order))+1:0,W={id:crypto.randomUUID(),title:k.trim(),status:"pending",order:F,description:null,acceptance_criteria:null,technical_notes:null,prompt_context:null,created_at:new Date().toISOString(),completed_at:null};f.setValue("subtasks",[...P,W]);const Y=f.getValues();p(Y)},[f,p]),S=T.useCallback(k=>{const F=f.getValues("subtasks").map(U=>{if(U.id===k){const Q=U.status==="done"?"pending":"done";return{...U,status:Q,completed_at:Q==="done"?new Date().toISOString():null}}return U});f.setValue("subtasks",F),F.every(U=>U.status==="done")&&F.length>0&&f.setValue("status","awaiting_review");const Y=f.getValues();p(Y)},[f,p]),j=T.useCallback(k=>{const W=f.getValues("subtasks").filter(U=>U.id!==k).map((U,Q)=>({...U,order:Q}));f.setValue("subtasks",W);const Y=f.getValues();p(Y)},[f,p]),M=T.useCallback((k,P,F)=>{const Y=f.getValues("subtasks").map(Q=>Q.id===k?{...Q,[P]:F}:Q);f.setValue("subtasks",Y);const U=f.getValues();p(U)},[f,p]),E=T.useCallback(k=>{f.setValue("subtasks",k);const P=f.getValues();p(P)},[f,p]),q=T.useCallback(()=>{o(!1)},[]),L=T.useMemo(()=>f.formState.isDirty,[f.formState.isDirty]),N=u.isPending;return{form:f,isDirty:L,isSaving:N,lastKnownModifiedAt:n,aiUpdatedRecently:a,conflictWarning:i,dismissConflictWarning:q,saveField:d,saveContextField:m,addBusinessRule:g,removeBusinessRule:x,addAcceptanceCriteria:v,removeAcceptanceCriteria:y,addSubtask:b,toggleSubtask:S,removeSubtask:j,updateSubtask:M,reorderSubtasks:E}}function y_({status:e,size:t="md"}){const n=sf[e],r=_y[e],a=t==="sm"?"px-2 py-0.5 text-xs":"px-3 py-1 text-sm";return c.jsxs("span",{className:`inline-flex items-center rounded-md font-medium transition-all duration-150 ${a}`,style:{backgroundColor:`${n}20`,color:n,border:`1px solid ${n}40`},children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:n}}),r]})}function _5({value:e,onChange:t,disabled:n=!1}){const[r,a]=T.useState(!1),s=T.useRef(null),i=Wt(h=>h.openDialog),o=Wt(h=>h.closeDialog);T.useEffect(()=>{function h(p){s.current&&!s.current.contains(p.target)&&(a(!1),o())}if(r)return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[r,o]);function l(){n||(r?(a(!1),o()):(a(!0),i()))}function u(h){t(h),a(!1),o()}const f=sf[e];return c.jsxs("div",{ref:s,className:"relative inline-block",children:[c.jsxs("button",{type:"button",onClick:l,disabled:n,className:`
          flex items-center gap-2 px-3 py-1.5 
          bg-[#1c1c1c] border border-[#3d3a34] rounded-lg
          transition-all duration-200 ease-out
          ${n?"opacity-50 cursor-not-allowed":"hover:border-[#636363] hover:bg-[#232323] cursor-pointer"}
          ${r?"border-[#636363] bg-[#232323]":""}
        `,style:{boxShadow:r?`0 0 0 1px ${f}30`:void 0},children:[c.jsx(y_,{status:e}),c.jsx("svg",{"aria-hidden":"true",className:`w-4 h-4 text-[#636363] transition-transform duration-200 ${r?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),r&&c.jsx("div",{className:`
            absolute top-full left-0 mt-2 min-w-[160px]
            bg-[#232323] border border-[#3d3a34] rounded-lg
            shadow-xl z-50 overflow-hidden
            animate-fade-in
          `,style:{boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(61, 58, 52, 0.5)"},children:c.jsx("div",{className:"py-1",children:by.map(h=>{const p=h===e,d=sf[h];return c.jsxs("button",{type:"button",onClick:()=>u(h),className:`
                    w-full px-3 py-2 flex items-center gap-2
                    transition-all duration-150 ease-out
                    ${p?"bg-[#2a2a2a]":"hover:bg-[#2a2a2a]"}
                  `,style:{borderLeft:p?`2px solid ${d}`:"2px solid transparent"},children:[c.jsx(y_,{status:h}),p&&c.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4 ml-auto flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:d,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})]},h)})})})]})}function x5({taskFull:e,conflictWarning:t,isAIWorkingOnTask:n,canFocusTerminal:r,canExecuteSubtask:a,pendingSubtasks:s,lastAction:i,isLaunchingStructure:o,isLaunchingExecuteAll:l,isLaunchingExecuteSubtask:u,isLaunchingReview:f,isLaunchingFocus:h,onDismissConflictWarning:p,onStatusChange:d,onStructureTask:m,onExecuteAll:g,onExecuteSubtask:x,onReviewTask:v,onFocusTerminal:y}){const[b,S]=T.useState(!1),j=dc(e),M=xy(e),E=Sy(e),q=jy(e),L=n?"focus_terminal":p4(e);return c.jsxs(c.Fragment,{children:[t&&c.jsxs("div",{className:"px-4 py-2 bg-[#3d3a34] border-b border-[#4a4a4a] text-[#d6d6d6] text-sm flex items-center gap-2",children:[c.jsx(Zk,{size:16,color:"#e5c07b"}),c.jsx("span",{children:"A IA fez alteracoes nesta task. Suas edicoes podem sobrescrever as mudancas da IA."}),c.jsx("button",{type:"button",onClick:p,className:"ml-auto text-[#636363] hover:text-[#d6d6d6]",children:c.jsx(ni,{size:14})})]}),c.jsxs("div",{className:`border-b border-[#3d3a34] bg-gradient-to-r from-[#1c1c1c] via-[#232323] to-[#1c1c1c] ${q==="ring"?"ring-1":q==="border-l"?"border-l-4":""}`,style:{...q==="ring"?{boxShadow:`0 0 0 1px ${M}`}:{},...q==="border-l"?{borderLeftColor:M}:{}},children:[c.jsxs("div",{className:"px-4 py-3 flex items-center gap-4 border-b border-[#2a2a2a]",children:[c.jsx(_5,{value:e.status,onChange:d}),c.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded",style:{backgroundColor:`${M}20`,color:M},children:E}),i&&c.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-[#636363]",children:[c.jsx("span",{className:"w-3 h-3",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 8V4H8"}),c.jsx("rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}),c.jsx("path",{d:"M2 14h2"}),c.jsx("path",{d:"M20 14h2"}),c.jsx("path",{d:"M15 13v2"}),c.jsx("path",{d:"M9 13v2"})]})}),c.jsxs("span",{children:["ltima ao:"," ",c.jsx("span",{className:"text-[#909d63]",children:i})]})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full transition-colors",style:{backgroundColor:j!=="pending"?"#909d63":"#3d3a34"},title:"Pendente -> Estruturando"}),c.jsx("span",{className:"w-4 h-px",style:{backgroundColor:j!=="pending"&&j!=="structuring"?"#909d63":"#3d3a34"}}),c.jsx("span",{className:"w-1.5 h-1.5 rounded-full transition-colors",style:{backgroundColor:["structured","working","standby","ready_to_review","completed"].includes(j)?"#909d63":"#3d3a34"},title:"Estruturada -> Trabalhando"}),c.jsx("span",{className:"w-4 h-px",style:{backgroundColor:["ready_to_review","completed"].includes(j)?"#909d63":"#3d3a34"}}),c.jsx("span",{className:"w-1.5 h-1.5 rounded-full transition-colors",style:{backgroundColor:j==="completed"?"#909d63":"#3d3a34"},title:"Concluda"})]})]}),c.jsx("div",{className:"px-4 py-4 flex items-stretch gap-3",children:n?c.jsxs("div",{className:"flex-1 relative",children:[c.jsxs("button",{type:"button",onClick:y,disabled:!r||h,className:`w-full h-full flex flex-row items-center justify-center gap-2 p-4 rounded-lg border transition-all duration-200 ${r?"border-[#61afef] bg-[#61afef]/10 text-[#61afef] shadow-lg shadow-[#61afef]/10":"border-[#2a2a2a] bg-[#1c1c1c] text-[#4a4a4a] cursor-not-allowed"}`,children:[h?c.jsx(da,{size:20,className:"animate-spin"}):c.jsx(Ck,{size:20}),c.jsx("span",{className:"text-sm font-medium",children:"Focar Terminal"})]}),c.jsx("span",{className:"absolute -top-2 -right-2 px-1.5 py-0.5 text-[9px] font-semibold uppercase tracking-wider bg-[#61afef] text-[#1c1c1c] rounded",children:"IA Trabalhando"})]}):c.jsxs(c.Fragment,{children:[c.jsx(yp,{label:"Estruturar",icon:c.jsx(vk,{size:20}),isLoading:o,isSuggested:L==="structure",suggestedColor:"#e5c07b",onClick:m}),c.jsx(yp,{label:"Executar Tudo",icon:c.jsx(x2,{size:20}),isLoading:l,isSuggested:L==="execute_all",suggestedColor:"#909d63",onClick:g}),c.jsxs("div",{className:"flex-1 relative",children:[c.jsxs("button",{type:"button",onClick:()=>S(!b),className:`w-full h-full flex flex-row items-center justify-center gap-2 p-4 rounded-lg border transition-all duration-200 ${L==="execute_subtask"?"border-[#61afef] bg-[#61afef]/10 text-[#61afef] shadow-lg shadow-[#61afef]/10":"border-[#3d3a34] bg-[#232323] text-[#d6d6d6] hover:border-[#4a4a4a] hover:bg-[#2a2a2a]"}`,children:[u?c.jsx(da,{size:20,className:"animate-spin"}):c.jsx(S2,{size:20}),c.jsx("span",{className:"text-sm font-medium",children:"Executar Subtask"}),a&&c.jsxs("span",{className:"text-[10px] opacity-60",children:["(",s.length,")"]})]}),L==="execute_subtask"&&c.jsx("span",{className:"absolute -top-2 -right-2 px-1.5 py-0.5 text-[9px] font-semibold uppercase tracking-wider bg-[#61afef] text-[#1c1c1c] rounded",children:"Sugesto"}),b&&a&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#232323] border border-[#3d3a34] rounded-lg shadow-xl z-50 overflow-hidden animate-slide-down",children:[c.jsx("div",{className:"px-3 py-2 border-b border-[#3d3a34] text-xs text-[#636363] uppercase tracking-wider",children:"Selecione uma subtask"}),c.jsx("div",{className:"max-h-48 overflow-y-auto",children:s.map(N=>c.jsxs("button",{type:"button",onClick:()=>{x(N.id),S(!1)},className:"w-full px-3 py-2.5 text-left text-sm text-[#d6d6d6] hover:bg-[#2a2a2a] transition-colors flex items-center gap-2",children:[c.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded bg-[#3d3a34] text-[10px] text-[#909d63]",children:N.order+1}),c.jsx("span",{className:"flex-1 truncate",children:N.title})]},N.id))})]})]}),c.jsx(yp,{label:"Revisar",icon:c.jsx(gk,{size:20}),isLoading:f,isSuggested:L==="review",suggestedColor:"#e5c07b",onClick:v})]})})]})]})}function yp({label:e,icon:t,isLoading:n,isSuggested:r,suggestedColor:a,onClick:s}){return c.jsxs("div",{className:"flex-1 relative",children:[c.jsxs("button",{type:"button",onClick:s,className:`w-full h-full flex flex-row items-center justify-center gap-2 p-4 rounded-lg border transition-all duration-200 ${r?`border-[${a}] bg-[${a}]/10 text-[${a}] shadow-lg shadow-[${a}]/10`:"border-[#3d3a34] bg-[#232323] text-[#d6d6d6] hover:border-[#4a4a4a] hover:bg-[#2a2a2a]"}`,style:r?{borderColor:a,backgroundColor:`${a}1a`,color:a,boxShadow:`0 10px 15px -3px ${a}1a`}:void 0,children:[n?c.jsx(da,{size:20,className:"animate-spin"}):t,c.jsx("span",{className:"text-sm font-medium",children:e})]}),r&&c.jsx("span",{className:"absolute -top-2 -right-2 px-1.5 py-0.5 text-[9px] font-semibold uppercase tracking-wider rounded",style:{backgroundColor:a,color:"#1c1c1c"},children:"Sugesto"})]})}function S5({taskId:e}){const{task:t,taskFull:n,project:r,projectPath:a,activeExecution:s,taskImages:i,isLoading:o,refetch:l,refetchImages:u}=PL({taskId:e}),{form:f,isSaving:h,aiUpdatedRecently:p,conflictWarning:d,dismissConflictWarning:m,saveField:g,saveContextField:x,addBusinessRule:v,removeBusinessRule:y,addAcceptanceCriteria:b,removeAcceptanceCriteria:S,addSubtask:j,toggleSubtask:M,removeSubtask:E,updateSubtask:q,reorderSubtasks:L}=b5({taskFull:n,projectPath:a}),[N,k]=T.useState(!1),[P,F]=T.useState(""),[W,Y]=T.useState(!1),[U,Q]=T.useState(null),[ae,ve]=T.useState(""),[pe,me]=T.useState(null),[Oe,Ke]=T.useState(null),[oe,de]=T.useState(new Map),Be=qL(),Ie=$L(),lt=HL(),tt=BL(),Ye=IL(),nt=FL(),Ee=T.useMemo(()=>{if(!s||s.status!=="running")return!1;if(s.last_heartbeat){const Te=new Date(s.last_heartbeat).getTime();if(Date.now()-Te>5*60*1e3)return!1}return!0},[s]),Kt=Ee||W||Be.isPending||Ie.isPending||lt.isPending||tt.isPending||Ye.isPending||nt.isPending,zt=wy(n),K=T.useMemo(()=>{if(s!=null&&s.tmux_session)return s.tmux_session;if(!r||!e)return null;const Te=r.name.replace(/[^a-zA-Z0-9-_]/g,""),st=e.length>8?e.slice(0,8):e;return`workopilot:${Te}-${st}`},[s==null?void 0:s.tmux_session,r,e]),$=zt&&!!K,Z=T.useMemo(()=>(n==null?void 0:n.subtasks.filter(Te=>Te.status==="pending").sort((Te,st)=>Te.order-st.order))||[],[n==null?void 0:n.subtasks]),ne=n&&Z.length>0;T.useEffect(()=>{n&&F(n.context.technical_notes||"")},[n]);const fe=T.useCallback(async Te=>{const st=oe.get(Te);if(!(st!=null&&st.data||st!=null&&st.loading)){de(rn=>{const kn=new Map(rn);return kn.set(Te,{data:"",loading:!0,error:null}),kn});try{const rn=await se("get_task_image",{imageId:Te});de(kn=>{const On=new Map(kn);return On.set(Te,{data:`data:${rn.mime_type};base64,${rn.data}`,loading:!1,error:null}),On})}catch(rn){de(kn=>{const On=new Map(kn);return On.set(Te,{data:"",loading:!1,error:rn instanceof Error?rn.message:"Erro ao carregar"}),On})}}},[oe]);T.useEffect(()=>{for(const Te of i)fe(Te.id)},[i,fe]),T.useEffect(()=>{let Te=null,st=null,rn=null,kn=null,On=null,ys=null;async function eh(){Te=await ts("task-updated",async Tt=>{Tt.payload.task_id===e&&Tt.payload.source==="ai"&&l()}),st=await ts("execution-changed",Tt=>{Tt.payload.task_id===e&&(Tt.payload.status==="completed"||Tt.payload.status==="error")&&l()}),rn=await ts("quickfix-changed",async Tt=>{Tt.payload.task_id===e&&(Tt.payload.status==="running"?(Y(!0),Q(Tt.payload.prompt||null)):(Y(!1),Q(null),Tt.payload.status==="completed"&&l()))}),kn=vr.onSessionIdle(async(Tt,th)=>{a&&th.includes(a.split("/").pop()||"")&&l()}),On=vr.onFileChange(async Tt=>{(Tt.includes(".workopilot/")||Tt.includes("workopilot.db"))&&l()}),ys=vr.onConnectionChange(Tt=>{k(Tt)}),vr.connected||await vr.init()&&vr.startListening()}return eh(),()=>{Te==null||Te(),st==null||st(),rn==null||rn(),kn==null||kn(),On==null||On(),ys==null||ys()}},[e,a,l]);function ce(){setTimeout(()=>{se("hide_window")},500)}function D(){t!=null&&t.project_id&&Be.mutate({projectId:t.project_id,taskId:t.id},{onSuccess:ce})}function H(){t!=null&&t.project_id&&Ie.mutate({projectId:t.project_id,taskId:t.id},{onSuccess:ce})}function I(Te){t!=null&&t.project_id&&lt.mutate({projectId:t.project_id,taskId:t.id,subtaskId:Te},{onSuccess:ce})}function te(){t!=null&&t.project_id&&tt.mutate({projectId:t.project_id,taskId:t.id},{onSuccess:ce})}function ee(){K&&nt.mutate({sessionName:K})}function O(){ae.trim()&&Ye.mutate({taskId:e,prompt:ae.trim()},{onSuccess:()=>ve("")})}function re(Te){g("status",Te)}function qe(Te){f.setValue("title",Te)}function $e(){g("title",f.getValues("title"))}function Lt(Te){g("category",Te)}function Nn(Te){g("priority",Te)}function Rn(Te){x("description",Te)}async function fi(){await u()}async function hs(Te){try{await se("delete_task_image",{imageId:Te}),await u()}catch(st){console.error("Failed to delete image:",st)}}async function ps(Te){try{const st=await se("get_task_image",{imageId:Te});Ke(`data:${st.mime_type};base64,${st.data}`),me(Te)}catch(st){console.error("Failed to load image for viewing:",st)}}function ha(){me(null),Ke(null)}function ms(Te){t!=null&&t.project_id&&se("launch_task_workflow",{projectId:t.project_id,taskId:t.id,subtaskId:Te}).catch(st=>console.error("Failed to launch subtask workflow:",st))}function gs(){P!==((n==null?void 0:n.context.technical_notes)||"")&&x("technical_notes",P||null)}return o?c.jsx("div",{className:"flex-1 flex items-center justify-center text-[#636363]",children:"Carregando..."}):n?c.jsxs(c.Fragment,{children:[c.jsx(EL,{title:f.watch("title"),category:f.watch("category"),priority:f.watch("priority"),isSaving:h,aiUpdatedRecently:p,isOpenCodeConnected:N,onTitleChange:qe,onTitleBlur:$e,onCategoryChange:Lt,onPriorityChange:Nn}),c.jsx(x5,{taskFull:n,conflictWarning:d,isAIWorkingOnTask:zt,canFocusTerminal:$,canExecuteSubtask:!!ne,pendingSubtasks:Z,lastAction:n.ai_metadata.last_completed_action,isLaunchingStructure:Be.isPending,isLaunchingExecuteAll:Ie.isPending,isLaunchingExecuteSubtask:lt.isPending,isLaunchingReview:tt.isPending,isLaunchingFocus:nt.isPending,onDismissConflictWarning:m,onStatusChange:re,onStructureTask:D,onExecuteAll:H,onExecuteSubtask:I,onReviewTask:te,onFocusTerminal:ee}),c.jsx(xL,{taskId:e,taskFull:n,taskImages:i,loadedImages:oe,activeExecution:s,isBlocked:Kt,isExecuting:Ee,isAdjusting:W,adjustingPrompt:U,quickfixInput:ae,isLaunchingQuickfix:Ye.isPending,onQuickfixInputChange:ve,onLaunchQuickfix:O,onDescriptionSave:Rn,onImageUpload:fi,onImageDelete:hs,onImageView:ps,onAddSubtask:j,onToggleSubtask:M,onRemoveSubtask:E,onCodarSubtask:ms,onUpdateSubtask:q,onReorderSubtasks:L,onAddBusinessRule:v,onRemoveBusinessRule:y,onAddAcceptanceCriteria:b,onRemoveAcceptanceCriteria:S,onTechnicalNotesChange:F,onTechnicalNotesSave:gs,localTechnicalNotes:P,viewingImageId:pe,viewingImageUrl:Oe,onCloseImageModal:ha}),c.jsx("div",{className:"p-4 border-t border-[#3d3a34]",children:c.jsx(TL,{taskFull:n})})]}):c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-[#636363] gap-4",children:c.jsx("span",{children:"Tarefa no encontrada"})})}function w5(){const{taskId:e}=_3.useParams();return c.jsx(S5,{taskId:e})}const _3=or("/tasks/$taskId")({component:w5});function j5({isOpen:e,title:t,message:n,confirmText:r="Confirmar",cancelText:a="Cancelar",onConfirm:s,onCancel:i,danger:o=!1}){const l=Wt(f=>f.openDialog),u=Wt(f=>f.closeDialog);return T.useEffect(()=>{if(e)return l(),()=>u()},[e,l,u]),T.useEffect(()=>{if(!e)return;const f=h=>{h.key==="Escape"&&i(),h.key==="Enter"&&s()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[e,i,s]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:i}),c.jsxs("div",{className:"relative bg-[#232323] border border-[#3d3a34] p-4 max-w-md w-full mx-4",children:[c.jsx("h3",{className:"text-[#d6d6d6] text-lg mb-2",children:t}),c.jsx("p",{className:"text-[#828282] text-sm mb-4",children:n}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{onClick:i,className:"px-4 py-2 bg-[#2c2c2c] border border-[#3d3a34] text-[#828282] text-sm hover:text-[#d6d6d6] transition-colors",children:a}),c.jsx("button",{onClick:s,className:`px-4 py-2 text-sm transition-colors ${o?"bg-[#bc5653] text-[#1c1c1c] hover:bg-[#cc6663]":"bg-[#909d63] text-[#1c1c1c] hover:bg-[#a0ad73]"}`,children:r})]})]})]}):null}function Ss(e){const t=e.split("/").filter(Boolean);return t[t.length-1]||"root"}function C5(){const e=cr(),t=Wt(K=>K.openDialog),n=Wt(K=>K.closeDialog),r=fn(K=>K.selectedProjectId),a=fn(K=>K.setSelectedProjectId),s=fn(K=>K.setProjectsList),[i,o]=T.useState(null),[l,u]=T.useState(!1),[f,h]=T.useState(!1),[p,d]=T.useState(null),[m,g]=T.useState(null),[x,v]=T.useState(null),y=T.useRef(0),b=T.useRef(0);T.useEffect(()=>{r&&S(r)},[r]);async function S(K){u(!0);try{const $=await se("get_project_with_config",{projectId:K});o($)}catch($){console.error("Failed to load project config:",$)}finally{u(!1)}}async function j(K){try{await se("open_env_file",{path:K})}catch($){console.error("Failed to open env file:",$)}}function M(){i&&(d({type:"project",id:i.id,name:i.name}),h(!0))}async function E(){if(p)try{if(p.type==="project"){await se("delete_project",{projectId:p.id}),a(null);const K=await se("get_projects");s(K),e({to:"/projects"})}else p.type==="route"?await P(p.id):p.type==="tab"&&await Ke(p.id)}catch(K){console.error("Failed to delete:",K)}finally{h(!1),d(null)}}async function q(){if(!(!i||!Ao()))try{t();const{open:K}=await Oo(async()=>{const{open:fe}=await import("./index-lieS2Vz-.js");return{open:fe}},[]),$=await K({directory:!0,multiple:!1,title:"Selecionar diretorio da rota",defaultPath:i.path});if(!$||typeof $!="string"){n();return}const Z={id:crypto.randomUUID(),path:$,order:i.routes.length,env_path:void 0},ne={...i,routes:[...i.routes,Z]};o(ne),await ve(ne.routes),await L(Z,ne)}catch(K){console.error("Failed to add route:",K)}finally{n()}}async function L(K,$){const Z=Ss(K.path),ne=$.tmux_config.tabs;let fe=1;const ce=ne.findIndex(te=>te.name.toLowerCase()==="term");ce>0?fe=ce:ne.length>1?fe=ne.length-1:fe=ne.length;const D={id:crypto.randomUUID(),name:Z,route_id:K.id,startup_command:void 0,order:fe},H=[...ne];H.splice(fe,0,D);for(let te=0;te<H.length;te++)H[te]={...H[te],order:te};const I={...$,tmux_config:{...$.tmux_config,tabs:H}};o(I),await oe(I.tmux_config)}function N(K){return K.path===(i==null?void 0:i.path)}function k(K){if(!i)return;const $=i.routes.find(ne=>ne.id===K);if(!$||N($))return;const Z=Ss($.path);d({type:"route",id:K,name:Z}),h(!0)}async function P(K){if(!i)return;const $=i.routes.find(ce=>ce.id===K);if(!$||N($))return;const Z=i.routes.filter(ce=>ce.id!==K),ne=i.tmux_config.tabs.filter(ce=>ce.route_id!==K);for(let ce=0;ce<Z.length;ce++)Z[ce]={...Z[ce],order:ce};for(let ce=0;ce<ne.length;ce++)ne[ce]={...ne[ce],order:ce};const fe={...i,routes:Z,tmux_config:{...i.tmux_config,tabs:ne}};o(fe),await ve(Z),await oe(fe.tmux_config)}function F(K,$){if(g($),K.dataTransfer&&K.target instanceof HTMLElement){K.dataTransfer.effectAllowed="move",K.dataTransfer.setData("text/plain","");const Z=K.target.cloneNode(!0);Z.style.position="absolute",Z.style.top="-9999px",Z.style.opacity="1",Z.style.background="#1c1c1c",document.body.appendChild(Z),K.dataTransfer.setDragImage(Z,K.nativeEvent.offsetX,K.nativeEvent.offsetY),setTimeout(()=>Z.remove(),0)}}function W(K,$){if(K.preventDefault(),m===null||m===$||!i)return;const Z=Date.now();if(Z-y.current<100)return;y.current=Z;const ne=[...i.routes],[fe]=ne.splice(m,1);ne.splice($,0,fe);for(let ce=0;ce<ne.length;ce++)ne[ce]={...ne[ce],order:ce};o({...i,routes:ne}),g($)}async function Y(){g(null),i&&await ve(i.routes)}function U(K,$){if(v($),K.dataTransfer&&K.target instanceof HTMLElement){K.dataTransfer.effectAllowed="move",K.dataTransfer.setData("text/plain","");const Z=K.target.cloneNode(!0);Z.style.position="absolute",Z.style.top="-9999px",Z.style.opacity="1",Z.style.background="#1c1c1c",document.body.appendChild(Z),K.dataTransfer.setDragImage(Z,K.nativeEvent.offsetX,K.nativeEvent.offsetY),setTimeout(()=>Z.remove(),0)}}function Q(K,$){if(K.preventDefault(),x===null||x===$||!i)return;const Z=Date.now();if(Z-b.current<100)return;b.current=Z;const ne=[...i.tmux_config.tabs],[fe]=ne.splice(x,1);ne.splice($,0,fe);for(let ce=0;ce<ne.length;ce++)ne[ce]={...ne[ce],order:ce};o({...i,tmux_config:{...i.tmux_config,tabs:ne}}),v($)}async function ae(){v(null),i&&await oe(i.tmux_config)}async function ve(K){if(r)try{await se("update_project_routes",{projectId:r,routes:K})}catch($){console.error("Failed to save routes:",$)}}async function pe(){if(!i)return;const K=new Set(i.tmux_config.tabs.map(ee=>ee.route_id)),Z=i.routes.find(ee=>!K.has(ee.id))||i.routes[0];if(!Z)return;const ne=Ss(Z.path),fe=i.tmux_config.tabs,ce=fe.findIndex(ee=>ee.name.toLowerCase()==="term"),D=ce>0?ce:fe.length,H={id:crypto.randomUUID(),name:ne,route_id:Z.id,startup_command:void 0,order:D},I=[...fe];I.splice(D,0,H);for(let ee=0;ee<I.length;ee++)I[ee]={...I[ee],order:ee};const te={...i,tmux_config:{...i.tmux_config,tabs:I}};o(te),await oe(te.tmux_config)}function me(K){if(!i)return!1;const $=i.routes.find(Z=>N(Z));return $?K.route_id===$.id&&K.name==="oc":!1}function Oe(K){if(!i)return;const $=i.tmux_config.tabs.find(Z=>Z.id===K);!$||me($)||(d({type:"tab",id:K,name:$.name}),h(!0))}async function Ke(K){if(!i)return;const $=i.tmux_config.tabs.find(fe=>fe.id===K);if(!$||me($))return;const Z=i.tmux_config.tabs.filter(fe=>fe.id!==K);for(let fe=0;fe<Z.length;fe++)Z[fe]={...Z[fe],order:fe};const ne={...i,tmux_config:{...i.tmux_config,tabs:Z}};o(ne),await oe(ne.tmux_config)}async function oe(K){if(r)try{await se("update_project_tmux_config",{projectId:r,tmuxConfig:K})}catch($){console.error("Failed to save tmux config:",$)}}async function de(){if(!(!r||!i))try{await se("update_project",{projectId:r,name:i.name,description:i.description})}catch(K){console.error("Failed to save description:",K)}}async function Be(){if(!(!r||!i))try{await se("update_project_business_rules",{projectId:r,rules:i.business_rules})}catch(K){console.error("Failed to save business rules:",K)}}async function Ie(K){if(!i)return;await ve(i.routes);const $=i.tmux_config.tabs.find(Z=>Z.route_id===K.id);if($){const Z=Ss(K.path),ne=i.tmux_config.tabs.map(ce=>ce.id===$.id?{...ce,name:Z}:ce),fe={...i,tmux_config:{...i.tmux_config,tabs:ne}};o(fe),await oe(fe.tmux_config)}}async function lt(K,$){if(!i)return;const Z=i.routes.find(D=>D.id===$),ne=Z?Ss(Z.path):K.name,fe=i.tmux_config.tabs.map(D=>D.id===K.id?{...D,route_id:$,name:ne}:D),ce={...i,tmux_config:{...i.tmux_config,tabs:fe}};o(ce),await oe(ce.tmux_config)}function tt(){return i?i.routes.map(K=>({value:K.id,label:Ss(K.path)})):[]}function Ye(){return i?[...i.routes].sort((K,$)=>K.order-$.order):[]}function nt(){return i?[...i.tmux_config.tabs].sort((K,$)=>K.order-$.order):[]}function Ee(K,$){if(!i)return;const Z=i.routes.map(ne=>ne.id===K?{...ne,path:$}:ne);o({...i,routes:Z})}function Kt(K,$){if(!i)return;const Z=i.tmux_config.tabs.map(ne=>ne.id===K?{...ne,name:$}:ne);o({...i,tmux_config:{...i.tmux_config,tabs:Z}})}function zt(K,$){if(!i)return;const Z=i.tmux_config.tabs.map(ne=>ne.id===K?{...ne,startup_command:$||void 0}:ne);o({...i,tmux_config:{...i.tmux_config,tabs:Z}})}return l?c.jsx("div",{className:"flex items-center justify-center h-full text-[#828282]",children:"Carregando..."}):i?c.jsxs(c.Fragment,{children:[c.jsx(j5,{isOpen:f,title:"Confirmar exclusao",message:p?`Tem certeza que deseja excluir ${p.type==="project"?"o projeto":p.type==="route"?"a rota":"a tab"} "${p.name}"?`:"",confirmText:"Excluir",onConfirm:E,onCancel:()=>{h(!1),d(null)},danger:!0}),c.jsx("div",{className:"flex-shrink-0 p-4 pb-2 border-b border-[#3d3a34] bg-[#1c1c1c]",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(yr,{to:"/projects",className:"p-1 text-[#636363] hover:text-[#909d63] hover:bg-[#2c2c2c] transition-colors rounded",title:"Voltar",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl text-[#d6d6d6]",children:["Configuracoes: ",i.name]}),c.jsx("p",{className:"text-sm text-[#636363]",children:i.path})]})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsx("h3",{className:"text-sm text-[#828282] uppercase tracking-wide mb-3",children:"Descricao do Projeto"}),c.jsx("textarea",{value:i.description||"",onChange:K=>o({...i,description:K.target.value}),onBlur:de,placeholder:"Breve descricao do projeto...",rows:3,className:"w-full px-3 py-2 bg-[#1c1c1c] border border-[#3d3a34] text-[#d6d6d6] text-sm resize-y focus:border-[#909d63] focus:outline-none"})]}),c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm text-[#828282] uppercase tracking-wide",children:"Rotas"}),c.jsx("button",{onClick:q,className:"text-xs text-[#909d63] hover:text-[#a0ad73] transition-colors",children:"+ Adicionar"})]}),c.jsx("div",{className:"space-y-1",role:"list",children:Ye().map((K,$)=>{const Z=Ss(K.path),ne=N(K),fe=m===$;return c.jsxs("div",{role:"listitem",className:`flex items-center gap-2 bg-[#1c1c1c] p-2 border border-[#2d2a24] cursor-grab ${fe?"opacity-10":""}`,draggable:!0,onDragStart:ce=>F(ce,$),onDragOver:ce=>W(ce,$),onDragEnd:Y,children:[c.jsx("span",{className:"text-[#4a4a4a] cursor-grab select-none",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:[c.jsx("circle",{cx:"9",cy:"5",r:"2"}),c.jsx("circle",{cx:"9",cy:"12",r:"2"}),c.jsx("circle",{cx:"9",cy:"19",r:"2"}),c.jsx("circle",{cx:"15",cy:"5",r:"2"}),c.jsx("circle",{cx:"15",cy:"12",r:"2"}),c.jsx("circle",{cx:"15",cy:"19",r:"2"})]})}),c.jsx("span",{className:`w-24 px-2 py-1 text-sm ${ne?"text-[#636363]":"text-[#d6d6d6]"}`,children:ne?"root":Z}),c.jsx("input",{type:"text",value:K.path,onChange:ce=>Ee(K.id,ce.target.value),onBlur:()=>Ie(K),disabled:ne,className:"flex-1 px-2 py-1 bg-transparent border border-transparent text-[#828282] text-sm focus:border-[#3d3a34] focus:outline-none disabled:text-[#636363]"}),K.env_path&&c.jsx("button",{onClick:()=>K.env_path&&j(K.env_path),className:"px-2 py-1 text-xs text-[#636363] hover:text-[#ebc17a] transition-colors",children:".env"}),!ne&&c.jsx("button",{onClick:()=>k(K.id),className:"px-2 py-1 text-[#636363] hover:text-[#bc5653] transition-colors",children:"x"})]},K.id)})})]}),c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm text-[#828282] uppercase tracking-wide",children:"Tabs do Tmux"}),c.jsxs("p",{className:"text-xs text-[#636363]",children:["Session: ",i.tmux_config.session_name]})]}),c.jsx("button",{onClick:pe,className:"text-xs text-[#909d63] hover:text-[#a0ad73] transition-colors",children:"+ Adicionar"})]}),c.jsx("div",{className:"space-y-1",role:"list",children:nt().map((K,$)=>{const Z=me(K),ne=x===$;return c.jsxs("div",{role:"listitem",className:`flex items-center gap-2 bg-[#1c1c1c] p-2 border border-[#2d2a24] cursor-grab ${ne?"opacity-10":""}`,draggable:!0,onDragStart:fe=>U(fe,$),onDragOver:fe=>Q(fe,$),onDragEnd:ae,children:[c.jsx("span",{className:"text-[#4a4a4a] cursor-grab select-none",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:[c.jsx("circle",{cx:"9",cy:"5",r:"2"}),c.jsx("circle",{cx:"9",cy:"12",r:"2"}),c.jsx("circle",{cx:"9",cy:"19",r:"2"}),c.jsx("circle",{cx:"15",cy:"5",r:"2"}),c.jsx("circle",{cx:"15",cy:"12",r:"2"}),c.jsx("circle",{cx:"15",cy:"19",r:"2"})]})}),c.jsxs("span",{className:"text-[#636363] text-sm w-6",children:[$+1,"."]}),c.jsx("input",{type:"text",value:K.name,onChange:fe=>Kt(K.id,fe.target.value),onBlur:()=>oe(i.tmux_config),placeholder:"nome",className:"w-24 px-2 py-1 bg-transparent border border-transparent text-[#d6d6d6] text-sm focus:border-[#3d3a34] focus:outline-none"}),c.jsx("span",{className:"text-[#636363]",children:"->"}),c.jsx(Bn,{value:K.route_id,options:tt(),onChange:fe=>lt(K,fe)}),c.jsx("span",{className:"text-[#636363] text-xs",children:"cmd:"}),c.jsx("input",{type:"text",value:K.startup_command||"",onChange:fe=>zt(K.id,fe.target.value),onBlur:()=>oe(i.tmux_config),placeholder:"-",className:"flex-1 px-2 py-1 bg-transparent border border-transparent text-[#828282] text-sm focus:border-[#3d3a34] focus:outline-none"}),!Z&&c.jsx("button",{onClick:()=>Oe(K.id),className:"px-2 py-1 text-[#636363] hover:text-[#bc5653] transition-colors",children:"x"})]},K.id)})})]}),c.jsxs("div",{className:"bg-[#232323] border border-[#3d3a34] p-4",children:[c.jsx("h3",{className:"text-sm text-[#828282] uppercase tracking-wide mb-3",children:"Resumo da Aplicacao"}),c.jsx("textarea",{value:i.business_rules||"",onChange:K=>o({...i,business_rules:K.target.value}),onBlur:Be,placeholder:"Documente aqui o resumo da aplicacao, regras de negocio, arquitetura, etc...",rows:8,className:"w-full px-3 py-2 bg-[#1c1c1c] border border-[#3d3a34] text-[#d6d6d6] text-sm resize-y focus:border-[#909d63] focus:outline-none"})]}),c.jsxs("div",{className:"bg-[#232323] border border-[#bc5653]/30 p-4",children:[c.jsx("h3",{className:"text-sm text-[#bc5653] uppercase tracking-wide mb-3",children:"Zona de Perigo"}),c.jsx("p",{className:"text-xs text-[#636363] mb-4",children:"Acao irreversivel. Ao excluir o projeto, todas as tarefas associadas tambem serao removidas."}),c.jsx("button",{onClick:M,className:"px-4 py-2 bg-[#2c2c2c] border border-[#bc5653] text-[#bc5653] text-sm hover:bg-[#bc5653] hover:text-[#1c1c1c] transition-colors",children:"Excluir Projeto"})]})]})})]}):c.jsx("div",{className:"flex items-center justify-center h-full text-[#828282]",children:"Selecione um projeto"})}const E5=or("/projects/settings")({component:C5}),Uy=WO.update({id:"/tasks",path:"/tasks",getParentRoute:()=>ui}),T5=oA.update({id:"/settings",path:"/settings",getParentRoute:()=>ui}),qy=cA.update({id:"/projects",path:"/projects",getParentRoute:()=>ui}),N5=AA.update({id:"/logs",path:"/logs",getParentRoute:()=>ui}),R5=i4.update({id:"/agenda",path:"/agenda",getParentRoute:()=>ui}),k5=o4.update({id:"/",path:"/",getParentRoute:()=>ui}),O5=A4.update({id:"/",path:"/",getParentRoute:()=>Uy}),A5=mL.update({id:"/",path:"/",getParentRoute:()=>qy}),D5=_3.update({id:"/$taskId",path:"/$taskId",getParentRoute:()=>Uy}),M5=E5.update({id:"/settings",path:"/settings",getParentRoute:()=>qy}),z5={ProjectsSettingsRoute:M5,ProjectsIndexRoute:A5},L5=qy._addFileChildren(z5),P5={TasksTaskIdRoute:D5,TasksIndexRoute:O5},U5=Uy._addFileChildren(P5),q5={IndexRoute:k5,AgendaRoute:R5,LogsRoute:N5,ProjectsRoute:L5,SettingsRoute:T5,TasksRoute:U5},$5=ui._addFileChildren(q5)._addFileTypes(),H5=rT({routeTree:$5});var ns={},Km=function(e,t){return Km=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Km(e,t)};function x3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Km(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var hf=function(){return hf=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},hf.apply(this,arguments)};function S3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function w3(e,t,n,r){var a=arguments.length,s=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s}function j3(e,t){return function(n,r){t(n,r,e)}}function C3(e,t,n,r,a,s){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=r.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,f=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,p=!1,d=n.length-1;d>=0;d--){var m={};for(var g in r)m[g]=g==="access"?{}:r[g];for(var g in r.access)m.access[g]=r.access[g];m.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(v||null))};var x=(0,n[d])(o==="accessor"?{get:f.get,set:f.set}:f[l],m);if(o==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=i(x.get))&&(f.get=h),(h=i(x.set))&&(f.set=h),(h=i(x.init))&&a.unshift(h)}else(h=i(x))&&(o==="field"?a.unshift(h):f[l]=h)}u&&Object.defineProperty(u,r.name,f),p=!0}function E3(e,t,n){for(var r=arguments.length>2,a=0;a<t.length;a++)n=r?t[a].call(e,n):t[a].call(e);return r?n:void 0}function T3(e){return typeof e=="symbol"?e:"".concat(e)}function N3(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function R3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function k3(e,t,n,r){function a(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function o(f){try{u(r.next(f))}catch(h){i(h)}}function l(f){try{u(r.throw(f))}catch(h){i(h)}}function u(f){f.done?s(f.value):a(f.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}function O3(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(f){return l([u,f])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(n=0)),n;)try{if(r=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],a=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Wf=Object.create?function(e,t,n,r){r===void 0&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function A3(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Wf(t,e,n)}function pf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $y(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function D3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($y(arguments[t]));return e}function M3(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var s=arguments[t],i=0,o=s.length;i<o;i++,a++)r[a]=s[i];return r}function z3(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function _o(e){return this instanceof _o?(this.v=e,this):new _o(e)}function L3(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(d){return function(m){return Promise.resolve(m).then(d,h)}}function o(d,m){r[d]&&(a[d]=function(g){return new Promise(function(x,v){s.push([d,g,x,v])>1||l(d,g)})},m&&(a[d]=m(a[d])))}function l(d,m){try{u(r[d](m))}catch(g){p(s[0][3],g)}}function u(d){d.value instanceof _o?Promise.resolve(d.value.v).then(f,h):p(s[0][2],d)}function f(d){l("next",d)}function h(d){l("throw",d)}function p(d,m){d(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}function P3(e){var t,n;return t={},r("next"),r("throw",function(a){throw a}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(a,s){t[a]=e[a]?function(i){return(n=!n)?{value:_o(e[a](i)),done:!1}:s?s(i):i}:s}}function U3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof pf=="function"?pf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(o,l){i=e[s](i),a(o,l,i.done,i.value)})}}function a(s,i,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},i)}}function q3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var B5=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Qm=function(e){return Qm=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Qm(e)};function $3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Qm(e),r=0;r<n.length;r++)n[r]!=="default"&&Wf(t,e,n[r]);return B5(t,e),t}function H3(e){return e&&e.__esModule?e:{default:e}}function B3(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function I3(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n}function F3(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function V3(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var I5=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Z3(e){function t(s){e.error=e.hasError?new I5(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,r=0;function a(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(a);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(a,function(i){return t(i),a()})}else r|=1}catch(i){t(i)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function K3(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,a,s,i){return r?t?".jsx":".js":a&&(!s||!i)?n:a+s+"."+i.toLowerCase()+"js"}):e}const F5={__extends:x3,__assign:hf,__rest:S3,__decorate:w3,__param:j3,__esDecorate:C3,__runInitializers:E3,__propKey:T3,__setFunctionName:N3,__metadata:R3,__awaiter:k3,__generator:O3,__createBinding:Wf,__exportStar:A3,__values:pf,__read:$y,__spread:D3,__spreadArrays:M3,__spreadArray:z3,__await:_o,__asyncGenerator:L3,__asyncDelegator:P3,__asyncValues:U3,__makeTemplateObject:q3,__importStar:$3,__importDefault:H3,__classPrivateFieldGet:B3,__classPrivateFieldSet:I3,__classPrivateFieldIn:F3,__addDisposableResource:V3,__disposeResources:Z3,__rewriteRelativeImportExtension:K3},V5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:V3,get __assign(){return hf},__asyncDelegator:P3,__asyncGenerator:L3,__asyncValues:U3,__await:_o,__awaiter:k3,__classPrivateFieldGet:B3,__classPrivateFieldIn:F3,__classPrivateFieldSet:I3,__createBinding:Wf,__decorate:w3,__disposeResources:Z3,__esDecorate:C3,__exportStar:A3,__extends:x3,__generator:O3,__importDefault:H3,__importStar:$3,__makeTemplateObject:q3,__metadata:R3,__param:j3,__propKey:T3,__read:$y,__rest:S3,__rewriteRelativeImportExtension:K3,__runInitializers:E3,__setFunctionName:N3,__spread:D3,__spreadArray:z3,__spreadArrays:M3,__values:pf,default:F5},Symbol.toStringTag,{value:"Module"})),Se=zx(V5);var eu={},tu={},vp={exports:{}},v_;function Z5(){return v_||(v_=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(Mx,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),a=["trace","debug","info","warn","error"],s={},i=null;function o(g,x){var v=g[x];if(typeof v.bind=="function")return v.bind(g);try{return Function.prototype.bind.call(v,g)}catch{return function(){return Function.prototype.apply.apply(v,[g,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(g){return g==="debug"&&(g="log"),typeof console===n?!1:g==="trace"&&r?l:console[g]!==void 0?o(console,g):console.log!==void 0?o(console,"log"):t}function f(){for(var g=this.getLevel(),x=0;x<a.length;x++){var v=a[x];this[v]=x<g?t:this.methodFactory(v,g,this.name)}if(this.log=this.debug,typeof console===n&&g<this.levels.SILENT)return"No console available for logging"}function h(g){return function(){typeof console!==n&&(f.call(this),this[g].apply(this,arguments))}}function p(g,x,v){return u(g)||h.apply(this,arguments)}function d(g,x){var v=this,y,b,S,j="loglevel";typeof g=="string"?j+=":"+g:typeof g=="symbol"&&(j=void 0);function M(k){var P=(a[k]||"silent").toUpperCase();if(!(typeof window===n||!j)){try{window.localStorage[j]=P;return}catch{}try{window.document.cookie=encodeURIComponent(j)+"="+P+";"}catch{}}}function E(){var k;if(!(typeof window===n||!j)){try{k=window.localStorage[j]}catch{}if(typeof k===n)try{var P=window.document.cookie,F=encodeURIComponent(j),W=P.indexOf(F+"=");W!==-1&&(k=/^([^;]+)/.exec(P.slice(W+F.length+1))[1])}catch{}return v.levels[k]===void 0&&(k=void 0),k}}function q(){if(!(typeof window===n||!j)){try{window.localStorage.removeItem(j)}catch{}try{window.document.cookie=encodeURIComponent(j)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function L(k){var P=k;if(typeof P=="string"&&v.levels[P.toUpperCase()]!==void 0&&(P=v.levels[P.toUpperCase()]),typeof P=="number"&&P>=0&&P<=v.levels.SILENT)return P;throw new TypeError("log.setLevel() called with invalid level: "+k)}v.name=g,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=x||p,v.getLevel=function(){return S??b??y},v.setLevel=function(k,P){return S=L(k),P!==!1&&M(S),f.call(v)},v.setDefaultLevel=function(k){b=L(k),E()||v.setLevel(k,!1)},v.resetLevel=function(){S=null,q(),f.call(v)},v.enableAll=function(k){v.setLevel(v.levels.TRACE,k)},v.disableAll=function(k){v.setLevel(v.levels.SILENT,k)},v.rebuild=function(){if(i!==v&&(y=L(i.getLevel())),f.call(v),i===v)for(var k in s)s[k].rebuild()},y=L(i?i.getLevel():"WARN");var N=E();N!=null&&(S=L(N)),f.call(v)}i=new d,i.getLogger=function(x){if(typeof x!="symbol"&&typeof x!="string"||x==="")throw new TypeError("You must supply a name when creating a logger.");var v=s[x];return v||(v=s[x]=new d(x,i.methodFactory)),v};var m=typeof window!==n?window.log:void 0;return i.noConflict=function(){return typeof window!==n&&window.log===i&&(window.log=m),i},i.getLoggers=function(){return s},i.default=i,i})}(vp)),vp.exports}var gt={},nu={},ru={},b_;function Sr(){if(b_)return ru;b_=1,Object.defineProperty(ru,"__esModule",{value:!0});var e=Se,t=function(n){e.__extends(r,n);function r(a,s,i){var o=this.constructor,l=n.call(this,a)||this;return l.name=o.name,l.httpBody=s,l.httpStatus=i,Object.setPrototypeOf(l,o.prototype),l}return r}(Error);return ru.default=t,ru}var __;function K5(){if(__)return nu;__=1,Object.defineProperty(nu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Sr()),n=function(r){e.__extends(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a}(t.default);return nu.default=n,nu}var au={},x_;function Q5(){if(x_)return au;x_=1,Object.defineProperty(au,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Sr()),n=function(r){e.__extends(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a}(t.default);return au.default=n,au}var su={},S_;function Y5(){if(S_)return su;S_=1,Object.defineProperty(su,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Sr()),n=function(r){e.__extends(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a}(t.default);return su.default=n,su}var iu={},w_;function G5(){if(w_)return iu;w_=1,Object.defineProperty(iu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Sr()),n=function(r){e.__extends(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a}(t.default);return iu.default=n,iu}var ou={},j_;function J5(){if(j_)return ou;j_=1,Object.defineProperty(ou,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Sr()),n=function(r){e.__extends(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a}(t.default);return ou.default=n,ou}var lu={},C_;function X5(){if(C_)return lu;C_=1,Object.defineProperty(lu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Sr()),n=function(r){e.__extends(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a}(t.default);return lu.default=n,lu}var cu={},E_;function W5(){if(E_)return cu;E_=1,Object.defineProperty(cu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Sr()),n=function(r){e.__extends(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a}(t.default);return cu.default=n,cu}var uu={},T_;function eP(){if(T_)return uu;T_=1,Object.defineProperty(uu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Sr()),n=function(r){e.__extends(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a}(t.default);return uu.default=n,uu}var du={},N_;function tP(){if(N_)return du;N_=1,Object.defineProperty(du,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Sr()),n=function(r){e.__extends(a,r);function a(s,i,o){var l=r.call(this,s)||this;return l.importResults=i,l.payload=o,l}return a}(t.default);return du.default=n,du}var R_;function hc(){if(R_)return gt;R_=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.ImportError=gt.TypesenseError=gt.ServerError=gt.RequestUnauthorized=gt.RequestMalformed=gt.ObjectUnprocessable=gt.ObjectNotFound=gt.ObjectAlreadyExists=gt.MissingConfigurationError=gt.HTTPError=void 0;var e=Se,t=e.__importDefault(K5());gt.HTTPError=t.default;var n=e.__importDefault(Q5());gt.MissingConfigurationError=n.default;var r=e.__importDefault(Y5());gt.ObjectAlreadyExists=r.default;var a=e.__importDefault(G5());gt.ObjectNotFound=a.default;var s=e.__importDefault(J5());gt.ObjectUnprocessable=s.default;var i=e.__importDefault(X5());gt.RequestMalformed=i.default;var o=e.__importDefault(W5());gt.RequestUnauthorized=o.default;var l=e.__importDefault(eP());gt.ServerError=l.default;var u=e.__importDefault(tP());gt.ImportError=u.default;var f=e.__importDefault(Sr());return gt.TypesenseError=f.default,gt}var k_;function Q3(){if(k_)return tu;k_=1,Object.defineProperty(tu,"__esModule",{value:!0});var e=Se,t=e.__importStar(Z5()),n=hc(),r=function(){function a(s){var i=this;this.nodes=s.nodes||[],this.nodes=this.nodes.map(function(o){return i.setDefaultPathInNode(o)}).map(function(o){return i.setDefaultPortInNode(o)}).map(function(o){return e.__assign({},o)}),s.randomizeNodes==null&&(s.randomizeNodes=!0),s.randomizeNodes===!0&&this.shuffleArray(this.nodes),this.nearestNode=s.nearestNode,this.nearestNode=this.setDefaultPathInNode(this.nearestNode),this.nearestNode=this.setDefaultPortInNode(this.nearestNode),this.connectionTimeoutSeconds=s.connectionTimeoutSeconds||s.timeoutSeconds||5,this.healthcheckIntervalSeconds=s.healthcheckIntervalSeconds||60,this.numRetries=(s.numRetries!==void 0&&s.numRetries>=0?s.numRetries:this.nodes.length+(this.nearestNode==null?0:1))||3,this.retryIntervalSeconds=s.retryIntervalSeconds||.1,this.apiKey=s.apiKey,this.sendApiKeyAsQueryParam=s.sendApiKeyAsQueryParam,this.cacheSearchResultsForSeconds=s.cacheSearchResultsForSeconds||0,this.useServerSideSearchCache=s.useServerSideSearchCache||!1,this.axiosAdapter=s.axiosAdapter,this.logger=s.logger||t,this.logLevel=s.logLevel||"warn",this.logger.setLevel(this.logLevel),this.additionalHeaders=s.additionalHeaders,this.httpAgent=s.httpAgent,this.httpsAgent=s.httpsAgent,this.paramsSerializer=s.paramsSerializer,this.showDeprecationWarnings(s),this.validate()}return a.prototype.validate=function(){if(this.nodes==null||this.nodes.length===0||this.validateNodes())throw new n.MissingConfigurationError("Ensure that nodes[].protocol, nodes[].host and nodes[].port are set");if(this.nearestNode!=null&&this.isNodeMissingAnyParameters(this.nearestNode))throw new n.MissingConfigurationError("Ensure that nearestNodes.protocol, nearestNodes.host and nearestNodes.port are set");if(this.apiKey==null)throw new n.MissingConfigurationError("Ensure that apiKey is set");return!0},a.prototype.validateNodes=function(){var s=this;return this.nodes.some(function(i){return s.isNodeMissingAnyParameters(i)})},a.prototype.isNodeMissingAnyParameters=function(s){return!["protocol","host","port","path"].every(function(i){return s.hasOwnProperty(i)})&&s.url==null},a.prototype.setDefaultPathInNode=function(s){return s!=null&&!s.hasOwnProperty("path")&&(s.path=""),s},a.prototype.setDefaultPortInNode=function(s){if(s!=null&&!s.hasOwnProperty("port")&&s.hasOwnProperty("protocol"))switch(s.protocol){case"https":s.port=443;break;case"http":s.port=80;break}return s},a.prototype.showDeprecationWarnings=function(s){s.timeoutSeconds&&this.logger.warn("Deprecation warning: timeoutSeconds is now renamed to connectionTimeoutSeconds"),s.masterNode&&this.logger.warn("Deprecation warning: masterNode is now consolidated to nodes, starting with Typesense Server v0.12"),s.readReplicaNodes&&this.logger.warn("Deprecation warning: readReplicaNodes is now consolidated to nodes, starting with Typesense Server v0.12")},a.prototype.shuffleArray=function(s){for(var i,o=s.length-1;o>0;o--){var l=Math.floor(Math.random()*(o+1));i=[s[l],s[o]],s[o]=i[0],s[l]=i[1]}},a}();return tu.default=r,tu}var fu={};/*! Axios v1.13.2 Copyright (c) 2025 Matt Zabriskie and contributors */var bp,O_;function nP(){if(O_)return bp;O_=1;function e(_,w){return function(){return _.apply(w,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,{iterator:r,toStringTag:a}=Symbol,s=(_=>w=>{const C=t.call(w);return _[C]||(_[C]=C.slice(8,-1).toLowerCase())})(Object.create(null)),i=_=>(_=_.toLowerCase(),w=>s(w)===_),o=_=>w=>typeof w===_,{isArray:l}=Array,u=o("undefined");function f(_){return _!==null&&!u(_)&&_.constructor!==null&&!u(_.constructor)&&m(_.constructor.isBuffer)&&_.constructor.isBuffer(_)}const h=i("ArrayBuffer");function p(_){let w;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?w=ArrayBuffer.isView(_):w=_&&_.buffer&&h(_.buffer),w}const d=o("string"),m=o("function"),g=o("number"),x=_=>_!==null&&typeof _=="object",v=_=>_===!0||_===!1,y=_=>{if(s(_)!=="object")return!1;const w=n(_);return(w===null||w===Object.prototype||Object.getPrototypeOf(w)===null)&&!(a in _)&&!(r in _)},b=_=>{if(!x(_)||f(_))return!1;try{return Object.keys(_).length===0&&Object.getPrototypeOf(_)===Object.prototype}catch{return!1}},S=i("Date"),j=i("File"),M=i("Blob"),E=i("FileList"),q=_=>x(_)&&m(_.pipe),L=_=>{let w;return _&&(typeof FormData=="function"&&_ instanceof FormData||m(_.append)&&((w=s(_))==="formdata"||w==="object"&&m(_.toString)&&_.toString()==="[object FormData]"))},N=i("URLSearchParams"),[k,P,F,W]=["ReadableStream","Request","Response","Headers"].map(i),Y=_=>_.trim?_.trim():_.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function U(_,w,{allOwnKeys:C=!1}={}){if(_===null||typeof _>"u")return;let R,A;if(typeof _!="object"&&(_=[_]),l(_))for(R=0,A=_.length;R<A;R++)w.call(null,_[R],R,_);else{if(f(_))return;const V=C?Object.getOwnPropertyNames(_):Object.keys(_),B=V.length;let X;for(R=0;R<B;R++)X=V[R],w.call(null,_[X],X,_)}}function Q(_,w){if(f(_))return null;w=w.toLowerCase();const C=Object.keys(_);let R=C.length,A;for(;R-- >0;)if(A=C[R],w===A.toLowerCase())return A;return null}const ae=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Mx,ve=_=>!u(_)&&_!==ae;function pe(){const{caseless:_,skipUndefined:w}=ve(this)&&this||{},C={},R=(A,V)=>{const B=_&&Q(C,V)||V;y(C[B])&&y(A)?C[B]=pe(C[B],A):y(A)?C[B]=pe({},A):l(A)?C[B]=A.slice():(!w||!u(A))&&(C[B]=A)};for(let A=0,V=arguments.length;A<V;A++)arguments[A]&&U(arguments[A],R);return C}const me=(_,w,C,{allOwnKeys:R}={})=>(U(w,(A,V)=>{C&&m(A)?_[V]=e(A,C):_[V]=A},{allOwnKeys:R}),_),Oe=_=>(_.charCodeAt(0)===65279&&(_=_.slice(1)),_),Ke=(_,w,C,R)=>{_.prototype=Object.create(w.prototype,R),_.prototype.constructor=_,Object.defineProperty(_,"super",{value:w.prototype}),C&&Object.assign(_.prototype,C)},oe=(_,w,C,R)=>{let A,V,B;const X={};if(w=w||{},_==null)return w;do{for(A=Object.getOwnPropertyNames(_),V=A.length;V-- >0;)B=A[V],(!R||R(B,_,w))&&!X[B]&&(w[B]=_[B],X[B]=!0);_=C!==!1&&n(_)}while(_&&(!C||C(_,w))&&_!==Object.prototype);return w},de=(_,w,C)=>{_=String(_),(C===void 0||C>_.length)&&(C=_.length),C-=w.length;const R=_.indexOf(w,C);return R!==-1&&R===C},Be=_=>{if(!_)return null;if(l(_))return _;let w=_.length;if(!g(w))return null;const C=new Array(w);for(;w-- >0;)C[w]=_[w];return C},Ie=(_=>w=>_&&w instanceof _)(typeof Uint8Array<"u"&&n(Uint8Array)),lt=(_,w)=>{const R=(_&&_[r]).call(_);let A;for(;(A=R.next())&&!A.done;){const V=A.value;w.call(_,V[0],V[1])}},tt=(_,w)=>{let C;const R=[];for(;(C=_.exec(w))!==null;)R.push(C);return R},Ye=i("HTMLFormElement"),nt=_=>_.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(C,R,A){return R.toUpperCase()+A}),Ee=(({hasOwnProperty:_})=>(w,C)=>_.call(w,C))(Object.prototype),Kt=i("RegExp"),zt=(_,w)=>{const C=Object.getOwnPropertyDescriptors(_),R={};U(C,(A,V)=>{let B;(B=w(A,V,_))!==!1&&(R[V]=B||A)}),Object.defineProperties(_,R)},K=_=>{zt(_,(w,C)=>{if(m(_)&&["arguments","caller","callee"].indexOf(C)!==-1)return!1;const R=_[C];if(m(R)){if(w.enumerable=!1,"writable"in w){w.writable=!1;return}w.set||(w.set=()=>{throw Error("Can not rewrite read-only method '"+C+"'")})}})},$=(_,w)=>{const C={},R=A=>{A.forEach(V=>{C[V]=!0})};return l(_)?R(_):R(String(_).split(w)),C},Z=()=>{},ne=(_,w)=>_!=null&&Number.isFinite(_=+_)?_:w;function fe(_){return!!(_&&m(_.append)&&_[a]==="FormData"&&_[r])}const ce=_=>{const w=new Array(10),C=(R,A)=>{if(x(R)){if(w.indexOf(R)>=0)return;if(f(R))return R;if(!("toJSON"in R)){w[A]=R;const V=l(R)?[]:{};return U(R,(B,X)=>{const ye=C(B,A+1);!u(ye)&&(V[X]=ye)}),w[A]=void 0,V}}return R};return C(_,0)},D=i("AsyncFunction"),H=_=>_&&(x(_)||m(_))&&m(_.then)&&m(_.catch),I=((_,w)=>_?setImmediate:w?((C,R)=>(ae.addEventListener("message",({source:A,data:V})=>{A===ae&&V===C&&R.length&&R.shift()()},!1),A=>{R.push(A),ae.postMessage(C,"*")}))(`axios@${Math.random()}`,[]):C=>setTimeout(C))(typeof setImmediate=="function",m(ae.postMessage)),te=typeof queueMicrotask<"u"?queueMicrotask.bind(ae):typeof process<"u"&&process.nextTick||I;var O={isArray:l,isArrayBuffer:h,isBuffer:f,isFormData:L,isArrayBufferView:p,isString:d,isNumber:g,isBoolean:v,isObject:x,isPlainObject:y,isEmptyObject:b,isReadableStream:k,isRequest:P,isResponse:F,isHeaders:W,isUndefined:u,isDate:S,isFile:j,isBlob:M,isRegExp:Kt,isFunction:m,isStream:q,isURLSearchParams:N,isTypedArray:Ie,isFileList:E,forEach:U,merge:pe,extend:me,trim:Y,stripBOM:Oe,inherits:Ke,toFlatObject:oe,kindOf:s,kindOfTest:i,endsWith:de,toArray:Be,forEachEntry:lt,matchAll:tt,isHTMLForm:Ye,hasOwnProperty:Ee,hasOwnProp:Ee,reduceDescriptors:zt,freezeMethods:K,toObjectSet:$,toCamelCase:nt,noop:Z,toFiniteNumber:ne,findKey:Q,global:ae,isContextDefined:ve,isSpecCompliantForm:fe,toJSONObject:ce,isAsyncFn:D,isThenable:H,setImmediate:I,asap:te,isIterable:_=>_!=null&&m(_[r])};function re(_,w,C,R,A){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_,this.name="AxiosError",w&&(this.code=w),C&&(this.config=C),R&&(this.request=R),A&&(this.response=A,this.status=A.status?A.status:null)}O.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const qe=re.prototype,$e={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_=>{$e[_]={value:_}}),Object.defineProperties(re,$e),Object.defineProperty(qe,"isAxiosError",{value:!0}),re.from=(_,w,C,R,A,V)=>{const B=Object.create(qe);O.toFlatObject(_,B,function(ie){return ie!==Error.prototype},ue=>ue!=="isAxiosError");const X=_&&_.message?_.message:"Error",ye=w==null&&_?_.code:w;return re.call(B,X,ye,C,R,A),_&&B.cause==null&&Object.defineProperty(B,"cause",{value:_,configurable:!0}),B.name=_&&_.name||"Error",V&&Object.assign(B,V),B};var Lt=null;function Nn(_){return O.isPlainObject(_)||O.isArray(_)}function Rn(_){return O.endsWith(_,"[]")?_.slice(0,-2):_}function fi(_,w,C){return _?_.concat(w).map(function(A,V){return A=Rn(A),!C&&V?"["+A+"]":A}).join(C?".":""):w}function hs(_){return O.isArray(_)&&!_.some(Nn)}const ps=O.toFlatObject(O,{},null,function(w){return/^is[A-Z]/.test(w)});function ha(_,w,C){if(!O.isObject(_))throw new TypeError("target must be an object");w=w||new FormData,C=O.toFlatObject(C,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ce,be){return!O.isUndefined(be[Ce])});const R=C.metaTokens,A=C.visitor||ie,V=C.dots,B=C.indexes,ye=(C.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(w);if(!O.isFunction(A))throw new TypeError("visitor must be a function");function ue(le){if(le===null)return"";if(O.isDate(le))return le.toISOString();if(O.isBoolean(le))return le.toString();if(!ye&&O.isBlob(le))throw new re("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(le)||O.isTypedArray(le)?ye&&typeof Blob=="function"?new Blob([le]):Buffer.from(le):le}function ie(le,Ce,be){let Pt=le;if(le&&!be&&typeof le=="object"){if(O.endsWith(Ce,"{}"))Ce=R?Ce:Ce.slice(0,-2),le=JSON.stringify(le);else if(O.isArray(le)&&hs(le)||(O.isFileList(le)||O.endsWith(Ce,"[]"))&&(Pt=O.toArray(le)))return Ce=Rn(Ce),Pt.forEach(function(Bt,mn){!(O.isUndefined(Bt)||Bt===null)&&w.append(B===!0?fi([Ce],mn,V):B===null?Ce:Ce+"[]",ue(Bt))}),!1}return Nn(le)?!0:(w.append(fi(be,Ce,V),ue(le)),!1)}const we=[],it=Object.assign(ps,{defaultVisitor:ie,convertValue:ue,isVisitable:Nn});function nn(le,Ce){if(!O.isUndefined(le)){if(we.indexOf(le)!==-1)throw Error("Circular reference detected in "+Ce.join("."));we.push(le),O.forEach(le,function(Pt,Zn){(!(O.isUndefined(Pt)||Pt===null)&&A.call(w,Pt,O.isString(Zn)?Zn.trim():Zn,Ce,it))===!0&&nn(Pt,Ce?Ce.concat(Zn):[Zn])}),we.pop()}}if(!O.isObject(_))throw new TypeError("data must be an object");return nn(_),w}function ms(_){const w={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_).replace(/[!'()~]|%20|%00/g,function(R){return w[R]})}function gs(_,w){this._pairs=[],_&&ha(_,this,w)}const Te=gs.prototype;Te.append=function(w,C){this._pairs.push([w,C])},Te.toString=function(w){const C=w?function(R){return w.call(this,R,ms)}:ms;return this._pairs.map(function(A){return C(A[0])+"="+C(A[1])},"").join("&")};function st(_){return encodeURIComponent(_).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rn(_,w,C){if(!w)return _;const R=C&&C.encode||st;O.isFunction(C)&&(C={serialize:C});const A=C&&C.serialize;let V;if(A?V=A(w,C):V=O.isURLSearchParams(w)?w.toString():new gs(w,C).toString(R),V){const B=_.indexOf("#");B!==-1&&(_=_.slice(0,B)),_+=(_.indexOf("?")===-1?"?":"&")+V}return _}class kn{constructor(){this.handlers=[]}use(w,C,R){return this.handlers.push({fulfilled:w,rejected:C,synchronous:R?R.synchronous:!1,runWhen:R?R.runWhen:null}),this.handlers.length-1}eject(w){this.handlers[w]&&(this.handlers[w]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(w){O.forEach(this.handlers,function(R){R!==null&&w(R)})}}var On=kn,ys={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eh=typeof URLSearchParams<"u"?URLSearchParams:gs,Tt=typeof FormData<"u"?FormData:null,th=typeof Blob<"u"?Blob:null,pj={isBrowser:!0,classes:{URLSearchParams:eh,FormData:Tt,Blob:th},protocols:["http","https","file","blob","url","data"]};const nh=typeof window<"u"&&typeof document<"u",rh=typeof navigator=="object"&&navigator||void 0,mj=nh&&(!rh||["ReactNative","NativeScript","NS"].indexOf(rh.product)<0),gj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yj=nh&&window.location.href||"http://localhost";var vj=Object.freeze({__proto__:null,hasBrowserEnv:nh,hasStandardBrowserWebWorkerEnv:gj,hasStandardBrowserEnv:mj,navigator:rh,origin:yj}),tn={...vj,...pj};function bj(_,w){return ha(_,new tn.classes.URLSearchParams,{visitor:function(C,R,A,V){return tn.isNode&&O.isBuffer(C)?(this.append(R,C.toString("base64")),!1):V.defaultVisitor.apply(this,arguments)},...w})}function _j(_){return O.matchAll(/\w+|\[(\w*)]/g,_).map(w=>w[0]==="[]"?"":w[1]||w[0])}function xj(_){const w={},C=Object.keys(_);let R;const A=C.length;let V;for(R=0;R<A;R++)V=C[R],w[V]=_[V];return w}function Iy(_){function w(C,R,A,V){let B=C[V++];if(B==="__proto__")return!0;const X=Number.isFinite(+B),ye=V>=C.length;return B=!B&&O.isArray(A)?A.length:B,ye?(O.hasOwnProp(A,B)?A[B]=[A[B],R]:A[B]=R,!X):((!A[B]||!O.isObject(A[B]))&&(A[B]=[]),w(C,R,A[B],V)&&O.isArray(A[B])&&(A[B]=xj(A[B])),!X)}if(O.isFormData(_)&&O.isFunction(_.entries)){const C={};return O.forEachEntry(_,(R,A)=>{w(_j(R),A,C,0)}),C}return null}function Sj(_,w,C){if(O.isString(_))try{return(w||JSON.parse)(_),O.trim(_)}catch(R){if(R.name!=="SyntaxError")throw R}return(C||JSON.stringify)(_)}const ah={transitional:ys,adapter:["xhr","http","fetch"],transformRequest:[function(w,C){const R=C.getContentType()||"",A=R.indexOf("application/json")>-1,V=O.isObject(w);if(V&&O.isHTMLForm(w)&&(w=new FormData(w)),O.isFormData(w))return A?JSON.stringify(Iy(w)):w;if(O.isArrayBuffer(w)||O.isBuffer(w)||O.isStream(w)||O.isFile(w)||O.isBlob(w)||O.isReadableStream(w))return w;if(O.isArrayBufferView(w))return w.buffer;if(O.isURLSearchParams(w))return C.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),w.toString();let X;if(V){if(R.indexOf("application/x-www-form-urlencoded")>-1)return bj(w,this.formSerializer).toString();if((X=O.isFileList(w))||R.indexOf("multipart/form-data")>-1){const ye=this.env&&this.env.FormData;return ha(X?{"files[]":w}:w,ye&&new ye,this.formSerializer)}}return V||A?(C.setContentType("application/json",!1),Sj(w)):w}],transformResponse:[function(w){const C=this.transitional||ah.transitional,R=C&&C.forcedJSONParsing,A=this.responseType==="json";if(O.isResponse(w)||O.isReadableStream(w))return w;if(w&&O.isString(w)&&(R&&!this.responseType||A)){const B=!(C&&C.silentJSONParsing)&&A;try{return JSON.parse(w,this.parseReviver)}catch(X){if(B)throw X.name==="SyntaxError"?re.from(X,re.ERR_BAD_RESPONSE,this,null,this.response):X}}return w}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(w){return w>=200&&w<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],_=>{ah.headers[_]={}});var sh=ah;const wj=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var jj=_=>{const w={};let C,R,A;return _&&_.split(`
`).forEach(function(B){A=B.indexOf(":"),C=B.substring(0,A).trim().toLowerCase(),R=B.substring(A+1).trim(),!(!C||w[C]&&wj[C])&&(C==="set-cookie"?w[C]?w[C].push(R):w[C]=[R]:w[C]=w[C]?w[C]+", "+R:R)}),w};const Fy=Symbol("internals");function Mo(_){return _&&String(_).trim().toLowerCase()}function mc(_){return _===!1||_==null?_:O.isArray(_)?_.map(mc):String(_)}function Cj(_){const w=Object.create(null),C=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let R;for(;R=C.exec(_);)w[R[1]]=R[2];return w}const Ej=_=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_.trim());function ih(_,w,C,R,A){if(O.isFunction(R))return R.call(this,w,C);if(A&&(w=C),!!O.isString(w)){if(O.isString(R))return w.indexOf(R)!==-1;if(O.isRegExp(R))return R.test(w)}}function Tj(_){return _.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(w,C,R)=>C.toUpperCase()+R)}function Nj(_,w){const C=O.toCamelCase(" "+w);["get","set","has"].forEach(R=>{Object.defineProperty(_,R+C,{value:function(A,V,B){return this[R].call(this,w,A,V,B)},configurable:!0})})}class gc{constructor(w){w&&this.set(w)}set(w,C,R){const A=this;function V(X,ye,ue){const ie=Mo(ye);if(!ie)throw new Error("header name must be a non-empty string");const we=O.findKey(A,ie);(!we||A[we]===void 0||ue===!0||ue===void 0&&A[we]!==!1)&&(A[we||ye]=mc(X))}const B=(X,ye)=>O.forEach(X,(ue,ie)=>V(ue,ie,ye));if(O.isPlainObject(w)||w instanceof this.constructor)B(w,C);else if(O.isString(w)&&(w=w.trim())&&!Ej(w))B(jj(w),C);else if(O.isObject(w)&&O.isIterable(w)){let X={},ye,ue;for(const ie of w){if(!O.isArray(ie))throw TypeError("Object iterator must return a key-value pair");X[ue=ie[0]]=(ye=X[ue])?O.isArray(ye)?[...ye,ie[1]]:[ye,ie[1]]:ie[1]}B(X,C)}else w!=null&&V(C,w,R);return this}get(w,C){if(w=Mo(w),w){const R=O.findKey(this,w);if(R){const A=this[R];if(!C)return A;if(C===!0)return Cj(A);if(O.isFunction(C))return C.call(this,A,R);if(O.isRegExp(C))return C.exec(A);throw new TypeError("parser must be boolean|regexp|function")}}}has(w,C){if(w=Mo(w),w){const R=O.findKey(this,w);return!!(R&&this[R]!==void 0&&(!C||ih(this,this[R],R,C)))}return!1}delete(w,C){const R=this;let A=!1;function V(B){if(B=Mo(B),B){const X=O.findKey(R,B);X&&(!C||ih(R,R[X],X,C))&&(delete R[X],A=!0)}}return O.isArray(w)?w.forEach(V):V(w),A}clear(w){const C=Object.keys(this);let R=C.length,A=!1;for(;R--;){const V=C[R];(!w||ih(this,this[V],V,w,!0))&&(delete this[V],A=!0)}return A}normalize(w){const C=this,R={};return O.forEach(this,(A,V)=>{const B=O.findKey(R,V);if(B){C[B]=mc(A),delete C[V];return}const X=w?Tj(V):String(V).trim();X!==V&&delete C[V],C[X]=mc(A),R[X]=!0}),this}concat(...w){return this.constructor.concat(this,...w)}toJSON(w){const C=Object.create(null);return O.forEach(this,(R,A)=>{R!=null&&R!==!1&&(C[A]=w&&O.isArray(R)?R.join(", "):R)}),C}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([w,C])=>w+": "+C).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(w){return w instanceof this?w:new this(w)}static concat(w,...C){const R=new this(w);return C.forEach(A=>R.set(A)),R}static accessor(w){const R=(this[Fy]=this[Fy]={accessors:{}}).accessors,A=this.prototype;function V(B){const X=Mo(B);R[X]||(Nj(A,B),R[X]=!0)}return O.isArray(w)?w.forEach(V):V(w),this}}gc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),O.reduceDescriptors(gc.prototype,({value:_},w)=>{let C=w[0].toUpperCase()+w.slice(1);return{get:()=>_,set(R){this[C]=R}}}),O.freezeMethods(gc);var dr=gc;function oh(_,w){const C=this||sh,R=w||C,A=dr.from(R.headers);let V=R.data;return O.forEach(_,function(X){V=X.call(C,V,A.normalize(),w?w.status:void 0)}),A.normalize(),V}function Vy(_){return!!(_&&_.__CANCEL__)}function hi(_,w,C){re.call(this,_??"canceled",re.ERR_CANCELED,w,C),this.name="CanceledError"}O.inherits(hi,re,{__CANCEL__:!0});function Zy(_,w,C){const R=C.config.validateStatus;!C.status||!R||R(C.status)?_(C):w(new re("Request failed with status code "+C.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(C.status/100)-4],C.config,C.request,C))}function Rj(_){const w=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_);return w&&w[1]||""}function kj(_,w){_=_||10;const C=new Array(_),R=new Array(_);let A=0,V=0,B;return w=w!==void 0?w:1e3,function(ye){const ue=Date.now(),ie=R[V];B||(B=ue),C[A]=ye,R[A]=ue;let we=V,it=0;for(;we!==A;)it+=C[we++],we=we%_;if(A=(A+1)%_,A===V&&(V=(V+1)%_),ue-B<w)return;const nn=ie&&ue-ie;return nn?Math.round(it*1e3/nn):void 0}}function Oj(_,w){let C=0,R=1e3/w,A,V;const B=(ue,ie=Date.now())=>{C=ie,A=null,V&&(clearTimeout(V),V=null),_(...ue)};return[(...ue)=>{const ie=Date.now(),we=ie-C;we>=R?B(ue,ie):(A=ue,V||(V=setTimeout(()=>{V=null,B(A)},R-we)))},()=>A&&B(A)]}const yc=(_,w,C=3)=>{let R=0;const A=kj(50,250);return Oj(V=>{const B=V.loaded,X=V.lengthComputable?V.total:void 0,ye=B-R,ue=A(ye),ie=B<=X;R=B;const we={loaded:B,total:X,progress:X?B/X:void 0,bytes:ye,rate:ue||void 0,estimated:ue&&X&&ie?(X-B)/ue:void 0,event:V,lengthComputable:X!=null,[w?"download":"upload"]:!0};_(we)},C)},Ky=(_,w)=>{const C=_!=null;return[R=>w[0]({lengthComputable:C,total:_,loaded:R}),w[1]]},Qy=_=>(...w)=>O.asap(()=>_(...w));var Aj=tn.hasStandardBrowserEnv?((_,w)=>C=>(C=new URL(C,tn.origin),_.protocol===C.protocol&&_.host===C.host&&(w||_.port===C.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,Dj=tn.hasStandardBrowserEnv?{write(_,w,C,R,A,V,B){if(typeof document>"u")return;const X=[`${_}=${encodeURIComponent(w)}`];O.isNumber(C)&&X.push(`expires=${new Date(C).toUTCString()}`),O.isString(R)&&X.push(`path=${R}`),O.isString(A)&&X.push(`domain=${A}`),V===!0&&X.push("secure"),O.isString(B)&&X.push(`SameSite=${B}`),document.cookie=X.join("; ")},read(_){if(typeof document>"u")return null;const w=document.cookie.match(new RegExp("(?:^|; )"+_+"=([^;]*)"));return w?decodeURIComponent(w[1]):null},remove(_){this.write(_,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Mj(_){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_)}function zj(_,w){return w?_.replace(/\/?\/$/,"")+"/"+w.replace(/^\/+/,""):_}function Yy(_,w,C){let R=!Mj(w);return _&&(R||C==!1)?zj(_,w):w}const Gy=_=>_ instanceof dr?{..._}:_;function vs(_,w){w=w||{};const C={};function R(ue,ie,we,it){return O.isPlainObject(ue)&&O.isPlainObject(ie)?O.merge.call({caseless:it},ue,ie):O.isPlainObject(ie)?O.merge({},ie):O.isArray(ie)?ie.slice():ie}function A(ue,ie,we,it){if(O.isUndefined(ie)){if(!O.isUndefined(ue))return R(void 0,ue,we,it)}else return R(ue,ie,we,it)}function V(ue,ie){if(!O.isUndefined(ie))return R(void 0,ie)}function B(ue,ie){if(O.isUndefined(ie)){if(!O.isUndefined(ue))return R(void 0,ue)}else return R(void 0,ie)}function X(ue,ie,we){if(we in w)return R(ue,ie);if(we in _)return R(void 0,ue)}const ye={url:V,method:V,data:V,baseURL:B,transformRequest:B,transformResponse:B,paramsSerializer:B,timeout:B,timeoutMessage:B,withCredentials:B,withXSRFToken:B,adapter:B,responseType:B,xsrfCookieName:B,xsrfHeaderName:B,onUploadProgress:B,onDownloadProgress:B,decompress:B,maxContentLength:B,maxBodyLength:B,beforeRedirect:B,transport:B,httpAgent:B,httpsAgent:B,cancelToken:B,socketPath:B,responseEncoding:B,validateStatus:X,headers:(ue,ie,we)=>A(Gy(ue),Gy(ie),we,!0)};return O.forEach(Object.keys({..._,...w}),function(ie){const we=ye[ie]||A,it=we(_[ie],w[ie],ie);O.isUndefined(it)&&we!==X||(C[ie]=it)}),C}var Jy=_=>{const w=vs({},_);let{data:C,withXSRFToken:R,xsrfHeaderName:A,xsrfCookieName:V,headers:B,auth:X}=w;if(w.headers=B=dr.from(B),w.url=rn(Yy(w.baseURL,w.url,w.allowAbsoluteUrls),_.params,_.paramsSerializer),X&&B.set("Authorization","Basic "+btoa((X.username||"")+":"+(X.password?unescape(encodeURIComponent(X.password)):""))),O.isFormData(C)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)B.setContentType(void 0);else if(O.isFunction(C.getHeaders)){const ye=C.getHeaders(),ue=["content-type","content-length"];Object.entries(ye).forEach(([ie,we])=>{ue.includes(ie.toLowerCase())&&B.set(ie,we)})}}if(tn.hasStandardBrowserEnv&&(R&&O.isFunction(R)&&(R=R(w)),R||R!==!1&&Aj(w.url))){const ye=A&&V&&Dj.read(V);ye&&B.set(A,ye)}return w},Lj=typeof XMLHttpRequest<"u"&&function(_){return new Promise(function(C,R){const A=Jy(_);let V=A.data;const B=dr.from(A.headers).normalize();let{responseType:X,onUploadProgress:ye,onDownloadProgress:ue}=A,ie,we,it,nn,le;function Ce(){nn&&nn(),le&&le(),A.cancelToken&&A.cancelToken.unsubscribe(ie),A.signal&&A.signal.removeEventListener("abort",ie)}let be=new XMLHttpRequest;be.open(A.method.toUpperCase(),A.url,!0),be.timeout=A.timeout;function Pt(){if(!be)return;const Bt=dr.from("getAllResponseHeaders"in be&&be.getAllResponseHeaders()),fr={data:!X||X==="text"||X==="json"?be.responseText:be.response,status:be.status,statusText:be.statusText,headers:Bt,config:_,request:be};Zy(function(Kn){C(Kn),Ce()},function(Kn){R(Kn),Ce()},fr),be=null}"onloadend"in be?be.onloadend=Pt:be.onreadystatechange=function(){!be||be.readyState!==4||be.status===0&&!(be.responseURL&&be.responseURL.indexOf("file:")===0)||setTimeout(Pt)},be.onabort=function(){be&&(R(new re("Request aborted",re.ECONNABORTED,_,be)),be=null)},be.onerror=function(mn){const fr=mn&&mn.message?mn.message:"Network Error",bs=new re(fr,re.ERR_NETWORK,_,be);bs.event=mn||null,R(bs),be=null},be.ontimeout=function(){let mn=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded";const fr=A.transitional||ys;A.timeoutErrorMessage&&(mn=A.timeoutErrorMessage),R(new re(mn,fr.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,_,be)),be=null},V===void 0&&B.setContentType(null),"setRequestHeader"in be&&O.forEach(B.toJSON(),function(mn,fr){be.setRequestHeader(fr,mn)}),O.isUndefined(A.withCredentials)||(be.withCredentials=!!A.withCredentials),X&&X!=="json"&&(be.responseType=A.responseType),ue&&([it,le]=yc(ue,!0),be.addEventListener("progress",it)),ye&&be.upload&&([we,nn]=yc(ye),be.upload.addEventListener("progress",we),be.upload.addEventListener("loadend",nn)),(A.cancelToken||A.signal)&&(ie=Bt=>{be&&(R(!Bt||Bt.type?new hi(null,_,be):Bt),be.abort(),be=null)},A.cancelToken&&A.cancelToken.subscribe(ie),A.signal&&(A.signal.aborted?ie():A.signal.addEventListener("abort",ie)));const Zn=Rj(A.url);if(Zn&&tn.protocols.indexOf(Zn)===-1){R(new re("Unsupported protocol "+Zn+":",re.ERR_BAD_REQUEST,_));return}be.send(V||null)})},Pj=(_,w)=>{const{length:C}=_=_?_.filter(Boolean):[];if(w||C){let R=new AbortController,A;const V=function(ue){if(!A){A=!0,X();const ie=ue instanceof Error?ue:this.reason;R.abort(ie instanceof re?ie:new hi(ie instanceof Error?ie.message:ie))}};let B=w&&setTimeout(()=>{B=null,V(new re(`timeout ${w} of ms exceeded`,re.ETIMEDOUT))},w);const X=()=>{_&&(B&&clearTimeout(B),B=null,_.forEach(ue=>{ue.unsubscribe?ue.unsubscribe(V):ue.removeEventListener("abort",V)}),_=null)};_.forEach(ue=>ue.addEventListener("abort",V));const{signal:ye}=R;return ye.unsubscribe=()=>O.asap(X),ye}};const Uj=function*(_,w){let C=_.byteLength;if(C<w){yield _;return}let R=0,A;for(;R<C;)A=R+w,yield _.slice(R,A),R=A},qj=async function*(_,w){for await(const C of $j(_))yield*Uj(C,w)},$j=async function*(_){if(_[Symbol.asyncIterator]){yield*_;return}const w=_.getReader();try{for(;;){const{done:C,value:R}=await w.read();if(C)break;yield R}}finally{await w.cancel()}},Xy=(_,w,C,R)=>{const A=qj(_,w);let V=0,B,X=ye=>{B||(B=!0,R&&R(ye))};return new ReadableStream({async pull(ye){try{const{done:ue,value:ie}=await A.next();if(ue){X(),ye.close();return}let we=ie.byteLength;if(C){let it=V+=we;C(it)}ye.enqueue(new Uint8Array(ie))}catch(ue){throw X(ue),ue}},cancel(ye){return X(ye),A.return()}},{highWaterMark:2})},Wy=64*1024,{isFunction:vc}=O,Hj=(({Request:_,Response:w})=>({Request:_,Response:w}))(O.global),{ReadableStream:ev,TextEncoder:tv}=O.global,nv=(_,...w)=>{try{return!!_(...w)}catch{return!1}},Bj=_=>{_=O.merge.call({skipUndefined:!0},Hj,_);const{fetch:w,Request:C,Response:R}=_,A=w?vc(w):typeof fetch=="function",V=vc(C),B=vc(R);if(!A)return!1;const X=A&&vc(ev),ye=A&&(typeof tv=="function"?(le=>Ce=>le.encode(Ce))(new tv):async le=>new Uint8Array(await new C(le).arrayBuffer())),ue=V&&X&&nv(()=>{let le=!1;const Ce=new C(tn.origin,{body:new ev,method:"POST",get duplex(){return le=!0,"half"}}).headers.has("Content-Type");return le&&!Ce}),ie=B&&X&&nv(()=>O.isReadableStream(new R("").body)),we={stream:ie&&(le=>le.body)};A&&["text","arrayBuffer","blob","formData","stream"].forEach(le=>{!we[le]&&(we[le]=(Ce,be)=>{let Pt=Ce&&Ce[le];if(Pt)return Pt.call(Ce);throw new re(`Response type '${le}' is not supported`,re.ERR_NOT_SUPPORT,be)})});const it=async le=>{if(le==null)return 0;if(O.isBlob(le))return le.size;if(O.isSpecCompliantForm(le))return(await new C(tn.origin,{method:"POST",body:le}).arrayBuffer()).byteLength;if(O.isArrayBufferView(le)||O.isArrayBuffer(le))return le.byteLength;if(O.isURLSearchParams(le)&&(le=le+""),O.isString(le))return(await ye(le)).byteLength},nn=async(le,Ce)=>{const be=O.toFiniteNumber(le.getContentLength());return be??it(Ce)};return async le=>{let{url:Ce,method:be,data:Pt,signal:Zn,cancelToken:Bt,timeout:mn,onDownloadProgress:fr,onUploadProgress:bs,responseType:Kn,headers:fh,withCredentials:wc="same-origin",fetchOptions:uv}=Jy(le),dv=w||fetch;Kn=Kn?(Kn+"").toLowerCase():"text";let jc=Pj([Zn,Bt&&Bt.toAbortSignal()],mn),zo=null;const _s=jc&&jc.unsubscribe&&(()=>{jc.unsubscribe()});let fv;try{if(bs&&ue&&be!=="get"&&be!=="head"&&(fv=await nn(fh,Pt))!==0){let ma=new C(Ce,{method:"POST",body:Pt,duplex:"half"}),pi;if(O.isFormData(Pt)&&(pi=ma.headers.get("content-type"))&&fh.setContentType(pi),ma.body){const[hh,Cc]=Ky(fv,yc(Qy(bs)));Pt=Xy(ma.body,Wy,hh,Cc)}}O.isString(wc)||(wc=wc?"include":"omit");const jr=V&&"credentials"in C.prototype,hv={...uv,signal:jc,method:be.toUpperCase(),headers:fh.normalize().toJSON(),body:Pt,duplex:"half",credentials:jr?wc:void 0};zo=V&&new C(Ce,hv);let pa=await(V?dv(zo,uv):dv(Ce,hv));const pv=ie&&(Kn==="stream"||Kn==="response");if(ie&&(fr||pv&&_s)){const ma={};["status","statusText","headers"].forEach(mv=>{ma[mv]=pa[mv]});const pi=O.toFiniteNumber(pa.headers.get("content-length")),[hh,Cc]=fr&&Ky(pi,yc(Qy(fr),!0))||[];pa=new R(Xy(pa.body,Wy,hh,()=>{Cc&&Cc(),_s&&_s()}),ma)}Kn=Kn||"text";let Jj=await we[O.findKey(we,Kn)||"text"](pa,le);return!pv&&_s&&_s(),await new Promise((ma,pi)=>{Zy(ma,pi,{data:Jj,headers:dr.from(pa.headers),status:pa.status,statusText:pa.statusText,config:le,request:zo})})}catch(jr){throw _s&&_s(),jr&&jr.name==="TypeError"&&/Load failed|fetch/i.test(jr.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,le,zo),{cause:jr.cause||jr}):re.from(jr,jr&&jr.code,le,zo)}}},Ij=new Map,rv=_=>{let w=_&&_.env||{};const{fetch:C,Request:R,Response:A}=w,V=[R,A,C];let B=V.length,X=B,ye,ue,ie=Ij;for(;X--;)ye=V[X],ue=ie.get(ye),ue===void 0&&ie.set(ye,ue=X?new Map:Bj(w)),ie=ue;return ue};rv();const lh={http:Lt,xhr:Lj,fetch:{get:rv}};O.forEach(lh,(_,w)=>{if(_){try{Object.defineProperty(_,"name",{value:w})}catch{}Object.defineProperty(_,"adapterName",{value:w})}});const av=_=>`- ${_}`,Fj=_=>O.isFunction(_)||_===null||_===!1;function Vj(_,w){_=O.isArray(_)?_:[_];const{length:C}=_;let R,A;const V={};for(let B=0;B<C;B++){R=_[B];let X;if(A=R,!Fj(R)&&(A=lh[(X=String(R)).toLowerCase()],A===void 0))throw new re(`Unknown adapter '${X}'`);if(A&&(O.isFunction(A)||(A=A.get(w))))break;V[X||"#"+B]=A}if(!A){const B=Object.entries(V).map(([ye,ue])=>`adapter ${ye} `+(ue===!1?"is not supported by the environment":"is not available in the build"));let X=C?B.length>1?`since :
`+B.map(av).join(`
`):" "+av(B[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+X,"ERR_NOT_SUPPORT")}return A}var sv={getAdapter:Vj,adapters:lh};function ch(_){if(_.cancelToken&&_.cancelToken.throwIfRequested(),_.signal&&_.signal.aborted)throw new hi(null,_)}function iv(_){return ch(_),_.headers=dr.from(_.headers),_.data=oh.call(_,_.transformRequest),["post","put","patch"].indexOf(_.method)!==-1&&_.headers.setContentType("application/x-www-form-urlencoded",!1),sv.getAdapter(_.adapter||sh.adapter,_)(_).then(function(R){return ch(_),R.data=oh.call(_,_.transformResponse,R),R.headers=dr.from(R.headers),R},function(R){return Vy(R)||(ch(_),R&&R.response&&(R.response.data=oh.call(_,_.transformResponse,R.response),R.response.headers=dr.from(R.response.headers))),Promise.reject(R)})}const ov="1.13.2",bc={};["object","boolean","number","function","string","symbol"].forEach((_,w)=>{bc[_]=function(R){return typeof R===_||"a"+(w<1?"n ":" ")+_}});const lv={};bc.transitional=function(w,C,R){function A(V,B){return"[Axios v"+ov+"] Transitional option '"+V+"'"+B+(R?". "+R:"")}return(V,B,X)=>{if(w===!1)throw new re(A(B," has been removed"+(C?" in "+C:"")),re.ERR_DEPRECATED);return C&&!lv[B]&&(lv[B]=!0,console.warn(A(B," has been deprecated since v"+C+" and will be removed in the near future"))),w?w(V,B,X):!0}},bc.spelling=function(w){return(C,R)=>(console.warn(`${R} is likely a misspelling of ${w}`),!0)};function Zj(_,w,C){if(typeof _!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const R=Object.keys(_);let A=R.length;for(;A-- >0;){const V=R[A],B=w[V];if(B){const X=_[V],ye=X===void 0||B(X,V,_);if(ye!==!0)throw new re("option "+V+" must be "+ye,re.ERR_BAD_OPTION_VALUE);continue}if(C!==!0)throw new re("Unknown option "+V,re.ERR_BAD_OPTION)}}var _c={assertOptions:Zj,validators:bc};const wr=_c.validators;class xc{constructor(w){this.defaults=w||{},this.interceptors={request:new On,response:new On}}async request(w,C){try{return await this._request(w,C)}catch(R){if(R instanceof Error){let A={};Error.captureStackTrace?Error.captureStackTrace(A):A=new Error;const V=A.stack?A.stack.replace(/^.+\n/,""):"";try{R.stack?V&&!String(R.stack).endsWith(V.replace(/^.+\n.+\n/,""))&&(R.stack+=`
`+V):R.stack=V}catch{}}throw R}}_request(w,C){typeof w=="string"?(C=C||{},C.url=w):C=w||{},C=vs(this.defaults,C);const{transitional:R,paramsSerializer:A,headers:V}=C;R!==void 0&&_c.assertOptions(R,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),A!=null&&(O.isFunction(A)?C.paramsSerializer={serialize:A}:_c.assertOptions(A,{encode:wr.function,serialize:wr.function},!0)),C.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?C.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:C.allowAbsoluteUrls=!0),_c.assertOptions(C,{baseUrl:wr.spelling("baseURL"),withXsrfToken:wr.spelling("withXSRFToken")},!0),C.method=(C.method||this.defaults.method||"get").toLowerCase();let B=V&&O.merge(V.common,V[C.method]);V&&O.forEach(["delete","get","head","post","put","patch","common"],le=>{delete V[le]}),C.headers=dr.concat(B,V);const X=[];let ye=!0;this.interceptors.request.forEach(function(Ce){typeof Ce.runWhen=="function"&&Ce.runWhen(C)===!1||(ye=ye&&Ce.synchronous,X.unshift(Ce.fulfilled,Ce.rejected))});const ue=[];this.interceptors.response.forEach(function(Ce){ue.push(Ce.fulfilled,Ce.rejected)});let ie,we=0,it;if(!ye){const le=[iv.bind(this),void 0];for(le.unshift(...X),le.push(...ue),it=le.length,ie=Promise.resolve(C);we<it;)ie=ie.then(le[we++],le[we++]);return ie}it=X.length;let nn=C;for(;we<it;){const le=X[we++],Ce=X[we++];try{nn=le(nn)}catch(be){Ce.call(this,be);break}}try{ie=iv.call(this,nn)}catch(le){return Promise.reject(le)}for(we=0,it=ue.length;we<it;)ie=ie.then(ue[we++],ue[we++]);return ie}getUri(w){w=vs(this.defaults,w);const C=Yy(w.baseURL,w.url,w.allowAbsoluteUrls);return rn(C,w.params,w.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(w){xc.prototype[w]=function(C,R){return this.request(vs(R||{},{method:w,url:C,data:(R||{}).data}))}}),O.forEach(["post","put","patch"],function(w){function C(R){return function(V,B,X){return this.request(vs(X||{},{method:w,headers:R?{"Content-Type":"multipart/form-data"}:{},url:V,data:B}))}}xc.prototype[w]=C(),xc.prototype[w+"Form"]=C(!0)});var Sc=xc;class uh{constructor(w){if(typeof w!="function")throw new TypeError("executor must be a function.");let C;this.promise=new Promise(function(V){C=V});const R=this;this.promise.then(A=>{if(!R._listeners)return;let V=R._listeners.length;for(;V-- >0;)R._listeners[V](A);R._listeners=null}),this.promise.then=A=>{let V;const B=new Promise(X=>{R.subscribe(X),V=X}).then(A);return B.cancel=function(){R.unsubscribe(V)},B},w(function(V,B,X){R.reason||(R.reason=new hi(V,B,X),C(R.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(w){if(this.reason){w(this.reason);return}this._listeners?this._listeners.push(w):this._listeners=[w]}unsubscribe(w){if(!this._listeners)return;const C=this._listeners.indexOf(w);C!==-1&&this._listeners.splice(C,1)}toAbortSignal(){const w=new AbortController,C=R=>{w.abort(R)};return this.subscribe(C),w.signal.unsubscribe=()=>this.unsubscribe(C),w.signal}static source(){let w;return{token:new uh(function(A){w=A}),cancel:w}}}var Kj=uh;function Qj(_){return function(C){return _.apply(null,C)}}function Yj(_){return O.isObject(_)&&_.isAxiosError===!0}const dh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dh).forEach(([_,w])=>{dh[w]=_});var Gj=dh;function cv(_){const w=new Sc(_),C=e(Sc.prototype.request,w);return O.extend(C,Sc.prototype,w,{allOwnKeys:!0}),O.extend(C,w,null,{allOwnKeys:!0}),C.create=function(A){return cv(vs(_,A))},C}const Nt=cv(sh);return Nt.Axios=Sc,Nt.CanceledError=hi,Nt.CancelToken=Kj,Nt.isCancel=Vy,Nt.VERSION=ov,Nt.toFormData=ha,Nt.AxiosError=re,Nt.Cancel=Nt.CanceledError,Nt.all=function(w){return Promise.all(w)},Nt.spread=Qj,Nt.isAxiosError=Yj,Nt.mergeConfig=vs,Nt.AxiosHeaders=dr,Nt.formToJSON=_=>Iy(O.isHTMLForm(_)?new FormData(_):_),Nt.getAdapter=sv.getAdapter,Nt.HttpStatusCode=Gj,Nt.default=Nt,bp=Nt,bp}const rP={},aP=Object.freeze(Object.defineProperty({__proto__:null,default:rP},Symbol.toStringTag,{value:"Module"})),Ym=zx(aP);var ws={},Qo={},A_;function sP(){return A_||(A_=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.arrayableParams=void 0,Qo.arrayableParams={query_by:"query_by",query_by_weights:"query_by_weights",facet_by:"facet_by",group_by:"group_by",include_fields:"include_fields",exclude_fields:"exclude_fields",highlight_fields:"highlight_fields",highlight_full_fields:"highlight_full_fields",pinned_hits:"pinned_hits",hidden_hits:"hidden_hits",infix:"infix",override_tags:"override_tags",num_typos:"num_typos",prefix:"prefix",sort_by:"sort_by"}),Qo}var D_;function pc(){if(D_)return ws;D_=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.toErrorWithMessage=ws.normalizeArrayableParams=void 0;var e=Se,t=sP();function n(o){return Object.keys(t.arrayableParams).filter(function(l){return o[l]!==void 0}).every(function(l){return a(o[l])})}function r(o){var l=e.__assign({},o),u=Object.keys(t.arrayableParams).filter(function(f){return Array.isArray(l[f])}).map(function(f){return l[f]=l[f].join(","),f});if(!u.length&&n(l))return l;if(!n(l))throw new Error("Failed to normalize arrayable params: ".concat(JSON.stringify(l)));return l}ws.normalizeArrayableParams=r;function a(o){return!Array.isArray(o)}function s(o){return typeof o=="object"&&o!==null&&"message"in o&&typeof o.message=="string"}function i(o){if(s(o))return o;try{return typeof o=="string"?new Error(o):new Error(JSON.stringify(o))}catch{return new Error(String(o))}}return ws.toErrorWithMessage=i,ws}var M_;function Y3(){if(M_)return fu;M_=1,Object.defineProperty(fu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(nP()),n=Ym,r=Ym,a=hc(),s=e.__importDefault(Sr()),i=pc(),o="X-TYPESENSE-API-KEY",l=!0,u=!1,f=typeof process<"u"&&process.versions!=null&&process.versions.node!=null&&typeof window>"u",h=function(){function p(d){this.configuration=d,this.apiKey=this.configuration.apiKey,this.nodes=this.configuration.nodes==null?this.configuration.nodes:JSON.parse(JSON.stringify(this.configuration.nodes)),this.nearestNode=this.configuration.nearestNode==null?this.configuration.nearestNode:JSON.parse(JSON.stringify(this.configuration.nearestNode)),this.connectionTimeoutSeconds=this.configuration.connectionTimeoutSeconds,this.healthcheckIntervalSeconds=this.configuration.healthcheckIntervalSeconds,this.numRetriesPerRequest=this.configuration.numRetries,this.retryIntervalSeconds=this.configuration.retryIntervalSeconds,this.sendApiKeyAsQueryParam=this.configuration.sendApiKeyAsQueryParam,this.additionalUserHeaders=this.configuration.additionalHeaders,this.logger=this.configuration.logger,this.initializeMetadataForNodes(),this.currentNodeIndex=-1}return p.prototype.get=function(d,m,g){m===void 0&&(m={});var x=g===void 0?{}:g,v=x.abortSignal,y=v===void 0?null:v,b=x.responseType,S=b===void 0?void 0:b,j=x.streamConfig,M=j===void 0?void 0:j,E=x.isStreamingRequest;return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(q){return[2,this.performRequest("get",d,{queryParameters:m,abortSignal:y,responseType:S,streamConfig:M,isStreamingRequest:E})]})})},p.prototype.delete=function(d,m){return m===void 0&&(m={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(g){return[2,this.performRequest("delete",d,{queryParameters:m,isStreamingRequest:!1})]})})},p.prototype.post=function(d,m,g,x,v){m===void 0&&(m={}),g===void 0&&(g={}),x===void 0&&(x={});var y=v===void 0?{}:v,b=y.abortSignal,S=b===void 0?null:b,j=y.responseType,M=j===void 0?void 0:j,E=y.streamConfig,q=E===void 0?void 0:E,L=y.isStreamingRequest;return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(N){return[2,this.performRequest("post",d,{queryParameters:g,bodyParameters:m,additionalHeaders:x,abortSignal:S,responseType:M,streamConfig:q,isStreamingRequest:L})]})})},p.prototype.put=function(d,m,g){return m===void 0&&(m={}),g===void 0&&(g={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(x){return[2,this.performRequest("put",d,{queryParameters:g,bodyParameters:m,isStreamingRequest:!1})]})})},p.prototype.patch=function(d,m,g){return m===void 0&&(m={}),g===void 0&&(g={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(x){return[2,this.performRequest("patch",d,{queryParameters:g,bodyParameters:m,isStreamingRequest:!1})]})})},p.prototype.getAdapter=function(){if(this.configuration.axiosAdapter){if(typeof this.configuration.axiosAdapter=="function")return this.configuration.axiosAdapter;var d=typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers";return d?t.default.getAdapter(this.configuration.axiosAdapter).bind(globalThis):t.default.getAdapter(this.configuration.axiosAdapter)}},p.prototype.performRequest=function(d,m,g){var x,v,y,b,S=g.queryParameters,j=S===void 0?null:S,M=g.bodyParameters,E=M===void 0?null:M,q=g.additionalHeaders,L=q===void 0?{}:q,N=g.abortSignal,k=N===void 0?null:N,P=g.responseType,F=P===void 0?void 0:P,W=g.skipConnectionTimeout,Y=W===void 0?!1:W,U=g.enableKeepAlive,Q=U===void 0?void 0:U,ae=g.streamConfig,ve=ae===void 0?void 0:ae,pe=g.isStreamingRequest;return e.__awaiter(this,void 0,void 0,function(){var me,Oe,Ke,oe,de,Be,Ie;return e.__generator(this,function(lt){switch(lt.label){case 0:this.configuration.validate(),pe&&(this.logger.debug("Request: Performing streaming request to ".concat(m)),!f&&typeof fetch<"u"&&(this.logger.debug("Using fetch adapter for browser streaming"),F="stream")),me=Date.now(),Ke=!1,this.logger.debug("Request #".concat(me,": Performing ").concat(d.toUpperCase()," request: ").concat(m)),oe=function(tt){var Ye,nt,Ee,Kt,zt,K,$;return e.__generator(this,function(Z){switch(Z.label){case 0:if(Ye=de.getNextNode(me),de.logger.debug("Request #".concat(me,": Attempting ").concat(d.toUpperCase()," request Try #").concat(tt," to Node ").concat(Ye.index)),k&&k.aborted)return[2,{value:Promise.reject(new Error("Request aborted by caller."))}];nt=void 0,Z.label=1;case 1:return Z.trys.push([1,3,5,6]),Ee={method:d,url:de.uriFor(m,Ye),headers:Object.assign({},de.defaultHeaders(),L,de.additionalUserHeaders),maxContentLength:1/0,maxBodyLength:1/0,validateStatus:function(ne){return ne>0},transformResponse:[function(ne,fe){var ce=ne;return fe!==void 0&&typeof ne=="string"&&fe["content-type"]&&fe["content-type"].startsWith("application/json")&&(ce=JSON.parse(ne)),ce}]},Ee.adapter=pe&&!f?"fetch":de.getAdapter(),Y!==!0&&(Ee.timeout=de.connectionTimeoutSeconds*1e3),j&&Object.keys(j).length!==0&&(Ee.params=j),de.sendApiKeyAsQueryParam&&(Ee.params=Ee.params||{},Ee.params["x-typesense-api-key"]=de.apiKey),de.configuration.httpAgent?(de.logger.debug("Request #".concat(me,": Using custom httpAgent")),Ee.httpAgent=de.configuration.httpAgent):Q===!0&&(f?(de.logger.debug("Request #".concat(me,": Enabling KeepAlive")),Ee.httpAgent=new n.Agent({keepAlive:!0})):de.logger.warn("Request #".concat(me,": Cannot use custom httpAgent in a browser environment to enable keepAlive"))),de.configuration.httpsAgent?(de.logger.debug("Request #".concat(me,": Using custom httpsAgent")),Ee.httpsAgent=de.configuration.httpsAgent):Q===!0&&(f?(de.logger.debug("Request #".concat(me,": Enabling keepAlive")),Ee.httpsAgent=new r.Agent({keepAlive:!0})):de.logger.warn("Request #".concat(me,": Cannot use custom httpAgent in a browser environment to enable keepAlive"))),de.configuration.paramsSerializer&&(de.logger.debug("Request #".concat(me,": Using custom paramsSerializer")),Ee.paramsSerializer=de.configuration.paramsSerializer),E&&(typeof E=="string"&&E.length!==0||typeof E=="object"&&Object.keys(E).length!==0)&&(Ee.data=E),k&&(Kt=t.default.CancelToken,zt=Kt.source(),nt=function(){Ke=!0,zt.cancel()},k.addEventListener("abort",nt),Ee.cancelToken=zt.token),pe?(Ee.responseType="stream",f||(Ee.headers=e.__assign(e.__assign({},Ee.headers),{Accept:"text/event-stream"}))):F&&(Ee.responseType=F),[4,(0,t.default)(Ee)];case 2:if(K=Z.sent(),K.status>=1&&K.status<=499&&de.setNodeHealthcheck(Ye,l),de.logger.debug("Request #".concat(me,": Request to Node ").concat(Ye.index," was made. Response Code was ").concat(K.status,".")),K.status>=200&&K.status<300)return pe?[2,{value:de.handleStreamingResponse(K,ve)}]:[2,{value:Promise.resolve(K.data)}];if(K.status<500)return[2,{value:Promise.reject(de.customErrorForResponse(K,(x=K.data)===null||x===void 0?void 0:x.message,Ee.data))}];throw de.customErrorForResponse(K,(v=K.data)===null||v===void 0?void 0:v.message,Ee.data);case 3:if($=Z.sent(),Ke||de.setNodeHealthcheck(Ye,u),Oe=$,de.logger.warn("Request #".concat(me,": Request to Node ").concat(Ye.index,' failed due to "').concat((y=$==null?void 0:$.code)!==null&&y!==void 0?y:""," ").concat($.message).concat($.response==null?"":" - "+JSON.stringify((b=$.response)===null||b===void 0?void 0:b.data),'"')),Ke)return[2,{value:Promise.reject(new Error("Request aborted by caller."))}];if(pe&&de.invokeOnErrorCallback($,ve),tt<de.numRetriesPerRequest+1)de.logger.warn("Request #".concat(me,": Sleeping for ").concat(de.retryIntervalSeconds,"s and then retrying request..."));else return de.logger.debug("Request #".concat(me,": No retries left. Raising last error")),[2,{value:Promise.reject(Oe)}];return[4,de.timer(de.retryIntervalSeconds)];case 4:return Z.sent(),[3,6];case 5:return k&&nt&&k.removeEventListener("abort",nt),[7];case 6:return[2]}})},de=this,Be=1,lt.label=1;case 1:return Be<=this.numRetriesPerRequest+1?[5,oe(Be)]:[3,4];case 2:if(Ie=lt.sent(),typeof Ie=="object")return[2,Ie.value];lt.label=3;case 3:return Be++,[3,1];case 4:return this.logger.debug("Request #".concat(me,": No retries left. Raising last error")),[2,Promise.reject(Oe)]}})})},p.prototype.processStreamingLine=function(d){if(!d.trim()||d==="data: [DONE]")return null;if(d.startsWith("data: "))return this.processDataLine(d.slice(6).trim());if(d.trim().startsWith("{"))try{var m=JSON.parse(d.trim());return m&&typeof m=="object"?(m.conversation_id||(m.conversation_id="unknown"),!m.message&&m.message!==""&&(m.message=""),m):{conversation_id:"unknown",message:JSON.stringify(m)}}catch{return{conversation_id:"unknown",message:d.trim()}}return{conversation_id:"unknown",message:d.trim()}},p.prototype.processDataLine=function(d){if(!d)return null;if(d.startsWith("{"))try{var m=JSON.parse(d);return m&&typeof m=="object"?(m.conversation_id||(m.conversation_id="unknown"),!m.message&&m.message!==""&&(m.message=""),m):{conversation_id:"unknown",message:JSON.stringify(m)}}catch{return{conversation_id:"unknown",message:d}}return{conversation_id:"unknown",message:d}},p.prototype.handleStreamingResponse=function(d,m){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(g){return this.logger.debug("Handling streaming response. Environment: ".concat(f?"Node.js":"Browser")),f&&d.data?[2,this.handleNodeStreaming(d,m)]:f?(this.logger.debug("Processing non-streaming response"),this.invokeOnCompleteCallback(d.data,m),[2,Promise.resolve(d.data)]):[2,this.handleBrowserStreaming(d,m)]})})},p.prototype.handleNodeStreaming=function(d,m){var g=this;return this.logger.debug("Processing Node.js stream"),new Promise(function(x,v){var y=d.data,b=[],S="";y.on("data",function(j){var M;try{var E=j.toString();S+=E;var q=S.split(`
`);S=(M=q.pop())!==null&&M!==void 0?M:"",g.processStreamLines(q,b,m)}catch(L){v(L)}}),y.on("end",function(){if(S.trim().length>0){var j=S.split(`
`);g.processStreamLines(j,b,m)}g.finalizeStreamResult(b,x,d,m)}),y.on("error",function(j){g.logger.error("Stream error: ".concat(j)),g.invokeOnErrorCallback(j,m),v(j)})})},p.prototype.handleBrowserStreaming=function(d,m){var g=this;return this.logger.debug("Processing browser stream"),new Promise(function(x,v){return e.__awaiter(g,void 0,void 0,function(){return e.__generator(this,function(y){try{return d.data&&typeof d.data.getReader=="function"?[2,this.handleBrowserReadableStream(d.data,x,v,d,m)]:typeof d.data=="string"?[2,this.handleBrowserStringResponse(d.data,x,d,m)]:typeof d.data=="object"&&d.data!==null?(this.logger.debug("No stream found, but data object is available"),this.invokeOnCompleteCallback(d.data,m),[2,x(d.data)]):(this.logger.error("No usable data found in response"),[2,v(new Error("No usable data found in response"))])}catch(b){this.logger.error("Error processing streaming response: ".concat(b)),this.invokeOnErrorCallback(b,m),v(b)}return[2]})})})},p.prototype.handleBrowserReadableStream=function(d,m,g,x,v){return e.__awaiter(this,void 0,void 0,function(){var y,b,S,j,M,E,q,L,N,k;return e.__generator(this,function(P){switch(P.label){case 0:this.logger.debug("Found ReadableStream in response.data"),y=d.getReader(),b=[],S="",P.label=1;case 1:P.trys.push([1,5,,6]),P.label=2;case 2:return[4,y.read()];case 3:return j=P.sent(),M=j.done,E=j.value,M?(this.logger.debug("Stream reading complete"),S.trim()&&(q=S.split(`
`),this.processStreamLines(q,b,v)),[3,4]):(L=new TextDecoder().decode(E),this.logger.debug("Received chunk: ".concat(L.length," bytes")),S+=L,N=S.split(`
`),S=N.pop()||"",this.processStreamLines(N,b,v),[3,2]);case 4:return this.finalizeStreamResult(b,m,x,v),[3,6];case 5:return k=P.sent(),this.logger.error("Stream error: ".concat(k)),this.invokeOnErrorCallback(k,v),g(k),[3,6];case 6:return[2]}})})},p.prototype.handleBrowserStringResponse=function(d,m,g,x){this.logger.debug("Processing text response as stream data");var v=[],y=d.split(`
`);if(this.processStreamLines(y,v,x),v.length>0){var b=this.combineStreamingChunks(v);this.invokeOnCompleteCallback(b,x),m(b)}else this.logger.debug("No chunks processed, returning original API response"),this.invokeOnCompleteCallback(g.data,x),m(g.data)},p.prototype.processStreamLines=function(d,m,g){for(var x=0,v=d;x<v.length;x++){var y=v[x];if(y.trim()&&y!=="data: [DONE]"){var b=this.processStreamingLine(y);b!==null&&(this.invokeOnChunkCallback(b,g),m.push(b))}}},p.prototype.finalizeStreamResult=function(d,m,g,x){if(d.length>0){var v=this.combineStreamingChunks(d);this.logger.debug("Stream processing complete"),this.invokeOnCompleteCallback(v,x),m(v)}else this.logger.debug("No chunks processed, returning original API response"),this.invokeOnCompleteCallback(g.data,x),m(g.data)},p.prototype.combineStreamingChunks=function(d){if(d.length===0)return{};if(d.length===1)return d[0];var m=this.getMessageChunks(d);if(m.length>0)return this.combineMessageChunks(d,m);var g=d[d.length-1];if(!this.isCompleteSearchResponse(g))throw new Error("Last chunk is not a complete search response");return g},p.prototype.getMessageChunks=function(d){return d.filter(this.isChunkMessage)},p.prototype.isChunkMessage=function(d){return typeof d=="object"&&d!==null&&"message"in d&&"conversation_id"in d},p.prototype.combineMessageChunks=function(d,m){this.logger.debug("Found ".concat(m.length," message chunks to combine"));var g=d[d.length-1];if(this.isCompleteSearchResponse(g))return g;var x=d.find(this.isCompleteSearchResponse);if(!x)throw new Error("No metadata chunk found");return x},p.prototype.isCompleteSearchResponse=function(d){return typeof d=="object"&&d!==null&&Object.keys(d).length>0?"results"in d||"found"in d||"hits"in d||"page"in d||"search_time_ms"in d:!1},p.prototype.getNextNode=function(d){if(d===void 0&&(d=0),this.nearestNode!=null){if(this.logger.debug("Request #".concat(d,": Nodes Health: Node ").concat(this.nearestNode.index," is ").concat(this.nearestNode.isHealthy===!0?"Healthy":"Unhealthy")),this.nearestNode.isHealthy===!0||this.nodeDueForHealthcheck(this.nearestNode,d))return this.logger.debug("Request #".concat(d,": Updated current node to Node ").concat(this.nearestNode.index)),this.nearestNode;this.logger.debug("Request #".concat(d,": Falling back to individual nodes"))}this.logger.debug("Request #".concat(d,": Nodes Health: ").concat(this.nodes.map(function(x){return"Node ".concat(x.index," is ").concat(x.isHealthy===!0?"Healthy":"Unhealthy")}).join(" || ")));for(var m=this.nodes[0],g=0;g<=this.nodes.length;g++)if(this.currentNodeIndex=(this.currentNodeIndex+1)%this.nodes.length,m=this.nodes[this.currentNodeIndex],m.isHealthy===!0||this.nodeDueForHealthcheck(m,d))return this.logger.debug("Request #".concat(d,": Updated current node to Node ").concat(m.index)),m;return this.logger.debug("Request #".concat(d,": No healthy nodes were found. Returning the next node, Node ").concat(m.index)),m},p.prototype.nodeDueForHealthcheck=function(d,m){m===void 0&&(m=0);var g=Date.now()-d.lastAccessTimestamp>this.healthcheckIntervalSeconds*1e3;return g&&this.logger.debug("Request #".concat(m,": Node ").concat(d.index," has exceeded healtcheckIntervalSeconds of ").concat(this.healthcheckIntervalSeconds,". Adding it back into rotation.")),g},p.prototype.initializeMetadataForNodes=function(){var d=this;this.nearestNode!=null&&(this.nearestNode.index="nearestNode",this.setNodeHealthcheck(this.nearestNode,l)),this.nodes.forEach(function(m,g){m.index=g,d.setNodeHealthcheck(m,l)})},p.prototype.setNodeHealthcheck=function(d,m){d.isHealthy=m,d.lastAccessTimestamp=Date.now()},p.prototype.uriFor=function(d,m){return m.url!=null?"".concat(m.url).concat(d):"".concat(m.protocol,"://").concat(m.host,":").concat(m.port).concat(m.path).concat(d)},p.prototype.defaultHeaders=function(){var d={};return this.sendApiKeyAsQueryParam||(d[o]=this.apiKey),d["Content-Type"]="application/json",d},p.prototype.timer=function(d){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(m){return[2,new Promise(function(g){return setTimeout(g,d*1e3)})]})})},p.prototype.customErrorForResponse=function(d,m,g){var x="Request failed with HTTP code ".concat(d.status);typeof m=="string"&&m.trim()!==""&&(x+=" | Server said: ".concat(m));var v=new s.default(x,g,d.status);return d.status===400?v=new a.RequestMalformed(x,g,d.status):d.status===401?v=new a.RequestUnauthorized(x,g,d.status):d.status===404?v=new a.ObjectNotFound(x,g,d.status):d.status===409?v=new a.ObjectAlreadyExists(x,g,d.status):d.status===422?v=new a.ObjectUnprocessable(x,g,d.status):d.status>=500&&d.status<=599?v=new a.ServerError(x,g,d.status):v=new a.HTTPError(x,g,d.status),v},p.prototype.invokeOnChunkCallback=function(d,m){if(m!=null&&m.onChunk)try{m.onChunk(d)}catch(g){this.logger.warn("Error in onChunk callback: ".concat(g))}},p.prototype.invokeOnCompleteCallback=function(d,m){if(m!=null&&m.onComplete)try{m.onComplete(d)}catch(g){this.logger.warn("Error in onComplete callback: ".concat(g))}},p.prototype.invokeOnErrorCallback=function(d,m){if(m!=null&&m.onError){var g=(0,i.toErrorWithMessage)(d);try{m.onError(g)}catch(x){this.logger.warn("Error in onError callback: ".concat(x))}}},p}();return fu.default=h,fu}var hu={},z_;function fs(){if(z_)return hu;z_=1,Object.defineProperty(hu,"__esModule",{value:!0});var e=Se,t="/collections",n=function(){function r(a){this.apiCall=a}return r.prototype.create=function(a,s){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(i){return[2,this.apiCall.post(t,a,s)]})})},r.prototype.retrieve=function(a){return a===void 0&&(a={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.get(t,a)]})})},Object.defineProperty(r,"RESOURCEPATH",{get:function(){return t},enumerable:!1,configurable:!0}),r}();return hu.default=n,hu}var pu={},mu={},Yo={},gu={},L_;function G3(){if(L_)return gu;L_=1,Object.defineProperty(gu,"__esModule",{value:!0});var e=Se,t=2*60,n=100,r=function(){function a(){this.responseCache=new Map,this.responsePromiseCache=new Map}return a.prototype.clearCache=function(){this.responseCache=new Map,this.responsePromiseCache=new Map},a.prototype.perform=function(s,i,o,l){return e.__awaiter(this,void 0,void 0,function(){var u,f,h,p,d,m,g,x,v,y,b,S,j,M,E,q,L,k,N,k,P,F,W,U,Y,U;return e.__generator(this,function(Q){switch(Q.label){case 0:if(u=l||{},f=u.cacheResponseForSeconds,h=f===void 0?t:f,p=u.maxSize,d=p===void 0?n:p,m=l===void 0||h<=0||d<=0,g=o.path,x=o.queryParams,v=o.body,y=o.headers,b=o.streamConfig,S=o.abortSignal,j=o.responseType,M=o.isStreamingRequest,m)return[2,this.executeRequest(s,i,g,x,v,y,{abortSignal:S,responseType:j,streamConfig:b,isStreamingRequest:M})];if(E=JSON.stringify(o),q=this.responseCache.get(E),L=Date.now(),q){if(k=L-q.requestTimestamp<h*1e3,k)return this.responseCache.delete(E),this.responseCache.set(E,q),[2,q.response];this.responseCache.delete(E)}if(N=this.responsePromiseCache.get(E),N){if(k=L-N.requestTimestamp<h*1e3,k)return this.responsePromiseCache.delete(E),this.responsePromiseCache.set(E,N),[2,N.responsePromise];this.responsePromiseCache.delete(E)}return P=this.executeRequest(s,i,g,x,v,y,{abortSignal:S,responseType:j,streamConfig:b,isStreamingRequest:M}),this.responsePromiseCache.set(E,{requestTimestamp:L,responsePromise:P}),[4,P];case 1:return F=Q.sent(),this.responseCache.set(E,{requestTimestamp:L,response:F}),W=this.responseCache.size>d,W&&(U=this.responseCache.keys().next().value,U&&this.responseCache.delete(U)),Y=this.responsePromiseCache.size>d,Y&&(U=this.responsePromiseCache.keys().next().value,U&&this.responsePromiseCache.delete(U)),[2,F]}})})},a.prototype.executeRequest=function(s,i,o,l,u,f,h){l===void 0&&(l={});var p=s[i];switch(i){case"get":return p.call(s,o,l,{abortSignal:h==null?void 0:h.abortSignal,responseType:h==null?void 0:h.responseType,streamConfig:h==null?void 0:h.streamConfig,isStreamingRequest:h==null?void 0:h.isStreamingRequest});case"delete":return p.call(s,o,l);case"post":return p.call(s,o,u,l,f||{},{abortSignal:h==null?void 0:h.abortSignal,responseType:h==null?void 0:h.responseType,streamConfig:h==null?void 0:h.streamConfig,isStreamingRequest:h==null?void 0:h.isStreamingRequest});case"put":case"patch":return p.call(s,o,u,l);default:throw new Error("Unsupported method: ".concat(String(i)))}},a}();return gu.default=r,gu}var P_;function J3(){if(P_)return Yo;P_=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.SearchOnlyDocuments=void 0;var e=Se,t=e.__importDefault(G3()),n=e.__importDefault(fs()),r=pc(),a="/documents",s=function(){function i(o,l,u){this.collectionName=o,this.apiCall=l,this.configuration=u,this.requestWithCache=new t.default}return i.prototype.clearCache=function(){this.requestWithCache.clearCache()},i.prototype.search=function(o,l){var u=l===void 0?{}:l,f=u.cacheSearchResultsForSeconds,h=f===void 0?this.configuration.cacheSearchResultsForSeconds:f,p=u.abortSignal,d=p===void 0?null:p;return e.__awaiter(this,void 0,void 0,function(){var m,g,x,v,y,b;return e.__generator(this,function(S){return m={},this.configuration.useServerSideSearchCache===!0&&(m.use_cache=!0),g=(0,r.normalizeArrayableParams)(o),x=g.streamConfig,v=e.__rest(g,["streamConfig"]),y=e.__assign(e.__assign({},m),v),b=y.conversation_stream===!0,[2,this.requestWithCache.perform(this.apiCall,"get",{path:this.endpointPath("search"),queryParams:y,streamConfig:x,abortSignal:d,isStreamingRequest:b},{cacheResponseForSeconds:h})]})})},i.prototype.endpointPath=function(o){return"".concat(n.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.collectionName)).concat(a).concat(o===void 0?"":"/"+o)},Object.defineProperty(i,"RESOURCEPATH",{get:function(){return a},enumerable:!1,configurable:!0}),i}();return Yo.SearchOnlyDocuments=s,Yo}var U_;function X3(){if(U_)return mu;U_=1,Object.defineProperty(mu,"__esModule",{value:!0});var e=Se,t=hc(),n=J3(),r=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,a=function(i){e.__extends(o,i);function o(l,u,f){return i.call(this,l,u,f)||this}return o.prototype.create=function(l,u){return u===void 0&&(u={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(f){if(!l)throw new Error("No document provided");return[2,this.apiCall.post(this.endpointPath(),l,u)]})})},o.prototype.upsert=function(l,u){return u===void 0&&(u={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(f){if(!l)throw new Error("No document provided");return[2,this.apiCall.post(this.endpointPath(),l,Object.assign({},u,{action:"upsert"}))]})})},o.prototype.update=function(l,u){return u===void 0&&(u={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(f){if(!l)throw new Error("No document provided");return u.filter_by!=null?[2,this.apiCall.patch(this.endpointPath(),l,Object.assign({},u))]:[2,this.apiCall.post(this.endpointPath(),l,Object.assign({},u,{action:"update"}))]})})},o.prototype.delete=function(l){return l===void 0&&(l={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(u){return[2,this.apiCall.delete(this.endpointPath(),l)]})})},o.prototype.createMany=function(l,u){return u===void 0&&(u={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(f){return this.configuration.logger.warn("createMany is deprecated and will be removed in a future version. Use import instead, which now takes both an array of documents or a JSONL string of documents"),[2,this.import(l,u)]})})},o.prototype.import=function(l,u){return u===void 0&&(u={}),e.__awaiter(this,void 0,void 0,function(){var f,h,p,d,m;return e.__generator(this,function(g){switch(g.label){case 0:if(f=e.__assign({throwOnFail:!0},u),Array.isArray(l)){if(l.length===0)throw new t.RequestMalformed("No documents provided");try{h=l.map(function(x){return JSON.stringify(x)}).join(`
`)}catch(x){throw x instanceof RangeError&&x.message.includes("Too many properties to enumerate")?new Error("".concat(x,`
          It looks like you have reached a Node.js limit that restricts the number of keys in an Object: https://stackoverflow.com/questions/9282869/are-there-limits-to-the-number-of-properties-in-a-javascript-object

         Please try reducing the number of keys in your document, or using CURL to import your data.
          `)):new Error(x)}}else if(h=l,s(h))throw new t.RequestMalformed("No documents provided");return[4,this.apiCall.performRequest("post",this.endpointPath("import"),{queryParameters:f,bodyParameters:h,additionalHeaders:{"Content-Type":"text/plain"},skipConnectionTimeout:!0,enableKeepAlive:!!r})];case 1:if(p=g.sent(),Array.isArray(l)){if(d=p.split(`
`).map(function(x){return JSON.parse(x)}),m=d.filter(function(x){return x.success===!1}),m.length>0&&f.throwOnFail)throw new t.ImportError("".concat(d.length-m.length," documents imported successfully, ").concat(m.length," documents failed during import. Use `error.importResults` from the raised exception to get a detailed error reason for each document."),d,{documentsInJSONLFormat:h,options:f,failedItems:m,successCount:d.length-m.length});return[2,d]}else return[2,p]}})})},o.prototype.importStream=function(l,u){return u===void 0&&(u={}),e.__awaiter(this,void 0,void 0,function(){var f,h,p,d;return e.__generator(this,function(m){switch(m.label){case 0:return f=e.__assign({throwOnFail:!0},u),[4,this.apiCall.performRequest("post",this.endpointPath("import"),{queryParameters:f,bodyParameters:l,additionalHeaders:{"Content-Type":"text/plain"},skipConnectionTimeout:!0,enableKeepAlive:!!r})];case 1:if(h=m.sent(),p=h.split(`
`).map(function(g){return JSON.parse(g)}),d=p.filter(function(g){return g.success===!1}),d.length>0&&f.throwOnFail)throw new t.ImportError("".concat(p.length-d.length," documents imported successfully, ").concat(d.length," documents failed during import. Use `error.importResults` from the raised exception to get a detailed error reason for each document."),p,{documentsInJSONLFormat:l,options:f,failedItems:d,successCount:p.length-d.length});return[2,p]}})})},o.prototype.export=function(l){return l===void 0&&(l={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(u){return[2,this.apiCall.get(this.endpointPath("export"),l)]})})},o.prototype.exportStream=function(l){return l===void 0&&(l={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(u){return[2,this.apiCall.get(this.endpointPath("export"),l,{responseType:"stream"})]})})},o}(n.SearchOnlyDocuments);mu.default=a;function s(i){return i==null||i===""||i.length===0}return mu}var yu={},q_;function W3(){if(q_)return yu;q_=1,Object.defineProperty(yu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(fs()),n="/overrides",r=function(){function a(s,i){this.collectionName=s,this.apiCall=i}return a.prototype.upsert=function(s,i){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(o){return[2,this.apiCall.put(this.endpointPath(s),i)]})})},a.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},a.prototype.endpointPath=function(s){return"".concat(t.default.RESOURCEPATH,"/").concat(this.collectionName).concat(a.RESOURCEPATH).concat(s===void 0?"":"/"+encodeURIComponent(s))},Object.defineProperty(a,"RESOURCEPATH",{get:function(){return n},enumerable:!1,configurable:!0}),a}();return yu.default=r,yu}var vu={},$_;function iP(){if($_)return vu;$_=1,Object.defineProperty(vu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(fs()),n=e.__importDefault(W3()),r=function(){function a(s,i,o){this.collectionName=s,this.overrideId=i,this.apiCall=o}return a.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},a.prototype.delete=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.delete(this.endpointPath())]})})},a.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.collectionName)).concat(n.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.overrideId))},a}();return vu.default=r,vu}var bu={},H_;function ej(){if(H_)return bu;H_=1,Object.defineProperty(bu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(fs()),n="/synonyms",r=function(){function a(s,i){this.collectionName=s,this.apiCall=i}return a.prototype.upsert=function(s,i){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(o){return[2,this.apiCall.put(this.endpointPath(s),i)]})})},a.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},a.prototype.endpointPath=function(s){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.collectionName)).concat(a.RESOURCEPATH).concat(s===void 0?"":"/"+encodeURIComponent(s))},Object.defineProperty(a,"RESOURCEPATH",{get:function(){return n},enumerable:!1,configurable:!0}),a}();return bu.default=r,bu}var _u={},B_;function oP(){if(B_)return _u;B_=1,Object.defineProperty(_u,"__esModule",{value:!0});var e=Se,t=e.__importDefault(fs()),n=e.__importDefault(ej()),r=function(){function a(s,i,o){this.collectionName=s,this.synonymId=i,this.apiCall=o}return a.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},a.prototype.delete=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.delete(this.endpointPath())]})})},a.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.collectionName)).concat(n.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.synonymId))},a}();return _u.default=r,_u}var Go={},I_;function lP(){if(I_)return Go;I_=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.Document=void 0;var e=Se,t=e.__importDefault(fs()),n=e.__importDefault(X3()),r=function(){function a(s,i,o){this.collectionName=s,this.documentId=i,this.apiCall=o}return a.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},a.prototype.delete=function(s){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(i){return[2,this.apiCall.delete(this.endpointPath(),s)]})})},a.prototype.update=function(s,i){return i===void 0&&(i={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(o){return[2,this.apiCall.patch(this.endpointPath(),s,i)]})})},a.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.collectionName)).concat(n.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.documentId))},a}();return Go.Document=r,Go}var F_;function cP(){if(F_)return pu;F_=1,Object.defineProperty(pu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(fs()),n=e.__importDefault(X3()),r=hc(),a=e.__importDefault(W3()),s=e.__importDefault(iP()),i=e.__importDefault(ej()),o=e.__importDefault(oP()),l=lP(),u=function(){function f(h,p,d){this.name=h,this.apiCall=p,this.configuration=d,this.individualDocuments={},this.individualOverrides={},this.individualSynonyms={},this.name=h,this.apiCall=p,this.configuration=d,this._documents=new n.default(this.name,this.apiCall,this.configuration),this._overrides=new a.default(this.name,this.apiCall),this._synonyms=new i.default(this.name,this.apiCall)}return f.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(h){return[2,this.apiCall.get(this.endpointPath())]})})},f.prototype.update=function(h){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(p){return[2,this.apiCall.patch(this.endpointPath(),h)]})})},f.prototype.delete=function(h){return h===void 0&&(h={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(p){return[2,this.apiCall.delete(this.endpointPath(),h)]})})},f.prototype.exists=function(){return e.__awaiter(this,void 0,void 0,function(){var h;return e.__generator(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,this.retrieve()];case 1:return p.sent(),[2,!0];case 2:if(h=p.sent(),h instanceof r.ObjectNotFound)return[2,!1];throw h;case 3:return[2]}})})},f.prototype.documents=function(h){return h?(this.individualDocuments[h]===void 0&&(this.individualDocuments[h]=new l.Document(this.name,h,this.apiCall)),this.individualDocuments[h]):this._documents},f.prototype.overrides=function(h){return h===void 0?this._overrides:(this.individualOverrides[h]===void 0&&(this.individualOverrides[h]=new s.default(this.name,h,this.apiCall)),this.individualOverrides[h])},f.prototype.synonyms=function(h){return h===void 0?this._synonyms:(this.individualSynonyms[h]===void 0&&(this.individualSynonyms[h]=new o.default(this.name,h,this.apiCall)),this.individualSynonyms[h])},f.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.name))},f}();return pu.default=u,pu}var xu={},V_;function tj(){if(V_)return xu;V_=1,Object.defineProperty(xu,"__esModule",{value:!0});var e=Se,t="/aliases",n=function(){function r(a){this.apiCall=a}return r.prototype.upsert=function(a,s){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(i){return[2,this.apiCall.put(this.endpointPath(a),s)]})})},r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(t)]})})},r.prototype.endpointPath=function(a){return"".concat(r.RESOURCEPATH,"/").concat(encodeURIComponent(a))},Object.defineProperty(r,"RESOURCEPATH",{get:function(){return t},enumerable:!1,configurable:!0}),r}();return xu.default=n,xu}var Su={},Z_;function uP(){if(Z_)return Su;Z_=1,Object.defineProperty(Su,"__esModule",{value:!0});var e=Se,t=e.__importDefault(tj()),n=function(){function r(a,s){this.name=a,this.apiCall=s}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.delete=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.delete(this.endpointPath())]})})},r.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.name))},r}();return Su.default=n,Su}var wu={},K_;function nj(){if(K_)return wu;K_=1,Object.defineProperty(wu,"__esModule",{value:!0});var e=Se,t=Ym,n=pc(),r="/keys",a=function(){function s(i){this.apiCall=i,this.apiCall=i}return s.prototype.create=function(i){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(o){return[2,this.apiCall.post(s.RESOURCEPATH,i)]})})},s.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(i){return[2,this.apiCall.get(r)]})})},s.prototype.generateScopedSearchKey=function(i,o){var l=(0,n.normalizeArrayableParams)(o),u=JSON.stringify(l),f=Buffer.from((0,t.createHmac)("sha256",i).update(u).digest("base64")),h=i.substr(0,4),p="".concat(f).concat(h).concat(u);return Buffer.from(p).toString("base64")},Object.defineProperty(s,"RESOURCEPATH",{get:function(){return r},enumerable:!1,configurable:!0}),s}();return wu.default=a,wu}var ju={},Q_;function dP(){if(Q_)return ju;Q_=1,Object.defineProperty(ju,"__esModule",{value:!0});var e=Se,t=e.__importDefault(nj()),n=function(){function r(a,s){this.id=a,this.apiCall=s}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.delete=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.delete(this.endpointPath())]})})},r.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.id))},r}();return ju.default=n,ju}var Cu={},Y_;function fP(){if(Y_)return Cu;Y_=1,Object.defineProperty(Cu,"__esModule",{value:!0});var e=Se,t="/debug",n=function(){function r(a){this.apiCall=a}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(t)]})})},r}();return Cu.default=n,Cu}var Eu={},G_;function hP(){if(G_)return Eu;G_=1,Object.defineProperty(Eu,"__esModule",{value:!0});var e=Se,t="/metrics.json",n=function(){function r(a){this.apiCall=a}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(t)]})})},r}();return Eu.default=n,Eu}var Tu={},J_;function pP(){if(J_)return Tu;J_=1,Object.defineProperty(Tu,"__esModule",{value:!0});var e=Se,t="/stats.json",n=function(){function r(a){this.apiCall=a}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(t)]})})},r}();return Tu.default=n,Tu}var Nu={},X_;function mP(){if(X_)return Nu;X_=1,Object.defineProperty(Nu,"__esModule",{value:!0});var e=Se,t="/health",n=function(){function r(a){this.apiCall=a}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(t)]})})},r}();return Nu.default=n,Nu}var Ru={},W_;function gP(){if(W_)return Ru;W_=1,Object.defineProperty(Ru,"__esModule",{value:!0});var e=Se,t="/operations",n=function(){function r(a){this.apiCall=a}return r.prototype.perform=function(a,s){return s===void 0&&(s={}),e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(i){return[2,this.apiCall.post("".concat(t,"/").concat(a),{},s)]})})},r}();return Ru.default=n,Ru}var ku={},ex;function rj(){if(ex)return ku;ex=1,Object.defineProperty(ku,"__esModule",{value:!0});var e=Se,t=e.__importDefault(G3()),n=pc(),r="/multi_search",a=function(){function s(i,o,l){l===void 0&&(l=!1),this.apiCall=i,this.configuration=o,this.useTextContentType=l,this.requestWithCache=new t.default}return s.prototype.clearCache=function(){this.requestWithCache.clearCache()},s.prototype.perform=function(i,o,l){return e.__awaiter(this,void 0,void 0,function(){var u,f,h,p,d;return e.__generator(this,function(m){return u=o?e.__assign({},o):{},this.configuration.useServerSideSearchCache===!0&&(u.use_cache=!0),f={union:i.union,searches:i.searches.map(n.normalizeArrayableParams)},h=u.streamConfig,p=e.__rest(u,["streamConfig"]),d=(0,n.normalizeArrayableParams)(p),[2,this.requestWithCache.perform(this.apiCall,"post",{path:r,body:f,queryParams:d,headers:this.useTextContentType?{"content-type":"text/plain"}:{},streamConfig:h,abortSignal:l==null?void 0:l.abortSignal,isStreamingRequest:this.isStreamingRequest(u)},(l==null?void 0:l.cacheSearchResultsForSeconds)!==void 0?{cacheResponseForSeconds:l.cacheSearchResultsForSeconds}:void 0)]})})},s.prototype.isStreamingRequest=function(i){return i.streamConfig!==void 0},s}();return ku.default=a,ku}var Ou={},tx;function aj(){if(tx)return Ou;tx=1,Object.defineProperty(Ou,"__esModule",{value:!0});var e=Se,t=pc(),n="/presets",r=function(){function a(s){this.apiCall=s}return a.prototype.upsert=function(s,i){return e.__awaiter(this,void 0,void 0,function(){var o,l;return e.__generator(this,function(u){return typeof i.value=="object"&&"searches"in i.value?(o=i.value.searches.map(function(f){return(0,t.normalizeArrayableParams)(f)}),[2,this.apiCall.put(this.endpointPath(s),{value:{searches:o}})]):(l=(0,t.normalizeArrayableParams)(i.value),[2,this.apiCall.put(this.endpointPath(s),{value:l})])})})},a.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},a.prototype.endpointPath=function(s){return"".concat(a.RESOURCEPATH).concat(s===void 0?"":"/"+encodeURIComponent(s))},Object.defineProperty(a,"RESOURCEPATH",{get:function(){return n},enumerable:!1,configurable:!0}),a}();return Ou.default=r,Ou}var Au={},nx;function yP(){if(nx)return Au;nx=1,Object.defineProperty(Au,"__esModule",{value:!0});var e=Se,t=e.__importDefault(aj()),n=function(){function r(a,s){this.presetId=a,this.apiCall=s}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.delete=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.delete(this.endpointPath())]})})},r.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.presetId))},r}();return Au.default=n,Au}var Du={},Mu={},rx;function sj(){if(rx)return Mu;rx=1,Object.defineProperty(Mu,"__esModule",{value:!0});var e=Se,t="/analytics/rules",n=function(){function r(a){this.apiCall=a,this.apiCall=a}return r.prototype.upsert=function(a,s){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(i){return[2,this.apiCall.put(this.endpointPath(a),s)]})})},r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.endpointPath=function(a){return"".concat(r.RESOURCEPATH).concat(a===void 0?"":"/"+encodeURIComponent(a))},Object.defineProperty(r,"RESOURCEPATH",{get:function(){return t},enumerable:!1,configurable:!0}),r}();return Mu.default=n,Mu}var zu={},ax;function vP(){if(ax)return zu;ax=1,Object.defineProperty(zu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(sj()),n=function(){function r(a,s){this.name=a,this.apiCall=s}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.delete=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.delete(this.endpointPath())]})})},r.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.name))},r}();return zu.default=n,zu}var Lu={},sx;function bP(){if(sx)return Lu;sx=1,Object.defineProperty(Lu,"__esModule",{value:!0});var e=Se,t="/analytics/events",n=function(){function r(a){this.apiCall=a,this.apiCall=a}return r.prototype.create=function(a){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.post(this.endpointPath(),a)]})})},r.prototype.endpointPath=function(a){return"".concat(r.RESOURCEPATH).concat(a===void 0?"":"/"+encodeURIComponent(a))},Object.defineProperty(r,"RESOURCEPATH",{get:function(){return t},enumerable:!1,configurable:!0}),r}();return Lu.default=n,Lu}var ix;function _P(){if(ix)return Du;ix=1,Object.defineProperty(Du,"__esModule",{value:!0});var e=Se,t=e.__importDefault(sj()),n=e.__importDefault(vP()),r=e.__importDefault(bP()),a="/analytics",s=function(){function i(o){this.apiCall=o,this.individualAnalyticsRules={},this.apiCall=o,this._analyticsRules=new t.default(this.apiCall),this._analyticsEvents=new r.default(this.apiCall)}return i.prototype.rules=function(o){return o===void 0?this._analyticsRules:(this.individualAnalyticsRules[o]===void 0&&(this.individualAnalyticsRules[o]=new n.default(o,this.apiCall)),this.individualAnalyticsRules[o])},i.prototype.events=function(){return this._analyticsEvents},Object.defineProperty(i,"RESOURCEPATH",{get:function(){return a},enumerable:!1,configurable:!0}),i}();return Du.default=s,Du}var Pu={},ox;function ij(){if(ox)return Pu;ox=1,Object.defineProperty(Pu,"__esModule",{value:!0});var e=Se,t="/stopwords",n=function(){function r(a){this.apiCall=a}return r.prototype.upsert=function(a,s){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(i){return[2,this.apiCall.put(this.endpointPath(a),s)]})})},r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.endpointPath=function(a){return"".concat(r.RESOURCEPATH).concat(a===void 0?"":"/"+encodeURIComponent(a))},Object.defineProperty(r,"RESOURCEPATH",{get:function(){return t},enumerable:!1,configurable:!0}),r}();return Pu.default=n,Pu}var Uu={},lx;function xP(){if(lx)return Uu;lx=1,Object.defineProperty(Uu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(ij()),n=function(){function r(a,s){this.stopwordId=a,this.apiCall=s}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.delete=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.delete(this.endpointPath())]})})},r.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.stopwordId))},r}();return Uu.default=n,Uu}var qu={},$u={},cx;function oj(){if(cx)return $u;cx=1,Object.defineProperty($u,"__esModule",{value:!0});var e=Se,t="/conversations/models",n=function(){function r(a){this.apiCall=a,this.apiCall=a}return r.prototype.create=function(a){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.post(this.endpointPath(),a)]})})},r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.endpointPath=function(a){return"".concat(r.RESOURCEPATH).concat(a===void 0?"":"/"+encodeURIComponent(a))},Object.defineProperty(r,"RESOURCEPATH",{get:function(){return t},enumerable:!1,configurable:!0}),r}();return $u.default=n,$u}var Hu={},ux;function SP(){if(ux)return Hu;ux=1,Object.defineProperty(Hu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(oj()),n=function(){function r(a,s){this.id=a,this.apiCall=s}return r.prototype.update=function(a){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.put(this.endpointPath(),a)]})})},r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.delete=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.delete(this.endpointPath())]})})},r.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.id))},r}();return Hu.default=n,Hu}var dx;function lj(){if(dx)return qu;dx=1,Object.defineProperty(qu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(oj()),n=e.__importDefault(SP()),r="/conversations",a=function(){function s(i){this.apiCall=i,this.individualConversationModels={},this.apiCall=i,this._conversationsModels=new t.default(this.apiCall)}return s.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(i){return[2,this.apiCall.get(r)]})})},s.prototype.models=function(i){return i===void 0?this._conversationsModels:(this.individualConversationModels[i]===void 0&&(this.individualConversationModels[i]=new n.default(i,this.apiCall)),this.individualConversationModels[i])},Object.defineProperty(s,"RESOURCEPATH",{get:function(){return r},enumerable:!1,configurable:!0}),s}();return qu.default=a,qu}var Bu={},fx;function wP(){if(fx)return Bu;fx=1,Object.defineProperty(Bu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(lj()),n=function(){function r(a,s){this.id=a,this.apiCall=s}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.update=function(a){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.put(this.endpointPath(),a)]})})},r.prototype.delete=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.delete(this.endpointPath())]})})},r.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.id))},r}();return Bu.default=n,Bu}var Iu={},Fu={},hx;function cj(){if(hx)return Fu;hx=1,Object.defineProperty(Fu,"__esModule",{value:!0});var e=Se,t="/stemming/dictionaries",n=function(){function r(a){this.apiCall=a,this.apiCall=a}return r.prototype.upsert=function(a,s){return e.__awaiter(this,void 0,void 0,function(){var i,o;return e.__generator(this,function(l){switch(l.label){case 0:return i=Array.isArray(s)?s.map(function(u){return JSON.stringify(u)}).join(`
`):s,[4,this.apiCall.performRequest("post",this.endpointPath("import"),{queryParameters:{id:a},bodyParameters:i,additionalHeaders:{"Content-Type":"text/plain"},skipConnectionTimeout:!0})];case 1:return o=l.sent(),[2,Array.isArray(s)?o.split(`
`).map(function(u){return JSON.parse(u)}):o]}})})},r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.endpointPath=function(a){return a===void 0?"".concat(r.RESOURCEPATH):"".concat(r.RESOURCEPATH,"/").concat(encodeURIComponent(a))},Object.defineProperty(r,"RESOURCEPATH",{get:function(){return t},enumerable:!1,configurable:!0}),r}();return Fu.default=n,Fu}var Vu={},px;function jP(){if(px)return Vu;px=1,Object.defineProperty(Vu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(cj()),n=function(){function r(a,s){this.id=a,this.apiCall=s}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.id))},r}();return Vu.default=n,Vu}var mx;function CP(){if(mx)return Iu;mx=1,Object.defineProperty(Iu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(cj()),n=e.__importDefault(jP()),r="/stemming",a=function(){function s(i){this.apiCall=i,this.individualStemmingDictionaries={},this.apiCall=i,this._stemmingDictionaries=new t.default(this.apiCall)}return s.prototype.dictionaries=function(i){return i===void 0?this._stemmingDictionaries:(this.individualStemmingDictionaries[i]===void 0&&(this.individualStemmingDictionaries[i]=new n.default(i,this.apiCall)),this.individualStemmingDictionaries[i])},Object.defineProperty(s,"RESOURCEPATH",{get:function(){return r},enumerable:!1,configurable:!0}),s}();return Iu.default=a,Iu}var Zu={},gx;function uj(){if(gx)return Zu;gx=1,Object.defineProperty(Zu,"__esModule",{value:!0});var e=Se,t="/nl_search_models",n=function(){function r(a){this.apiCall=a}return r.prototype.create=function(a){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.post(this.endpointPath(),a)]})})},r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.endpointPath=function(){return r.RESOURCEPATH},Object.defineProperty(r,"RESOURCEPATH",{get:function(){return t},enumerable:!1,configurable:!0}),r}();return Zu.default=n,Zu}var Ku={},yx;function EP(){if(yx)return Ku;yx=1,Object.defineProperty(Ku,"__esModule",{value:!0});var e=Se,t=e.__importDefault(uj()),n=function(){function r(a,s){this.id=a,this.apiCall=s}return r.prototype.retrieve=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.get(this.endpointPath())]})})},r.prototype.update=function(a){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,this.apiCall.put(this.endpointPath(),a)]})})},r.prototype.delete=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.apiCall.delete(this.endpointPath())]})})},r.prototype.endpointPath=function(){return"".concat(t.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.id))},r}();return Ku.default=n,Ku}var vx;function TP(){if(vx)return eu;vx=1,Object.defineProperty(eu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Q3()),n=e.__importDefault(Y3()),r=e.__importDefault(fs()),a=e.__importDefault(cP()),s=e.__importDefault(tj()),i=e.__importDefault(uP()),o=e.__importDefault(nj()),l=e.__importDefault(dP()),u=e.__importDefault(fP()),f=e.__importDefault(hP()),h=e.__importDefault(pP()),p=e.__importDefault(mP()),d=e.__importDefault(gP()),m=e.__importDefault(rj()),g=e.__importDefault(aj()),x=e.__importDefault(yP()),v=e.__importDefault(_P()),y=e.__importDefault(ij()),b=e.__importDefault(xP()),S=e.__importDefault(lj()),j=e.__importDefault(wP()),M=e.__importDefault(CP()),E=e.__importDefault(uj()),q=e.__importDefault(EP()),L=function(){function N(k){var P;k.sendApiKeyAsQueryParam=(P=k.sendApiKeyAsQueryParam)!==null&&P!==void 0?P:!1,this.configuration=new t.default(k),this.apiCall=new n.default(this.configuration),this.debug=new u.default(this.apiCall),this.metrics=new f.default(this.apiCall),this.stats=new h.default(this.apiCall),this.health=new p.default(this.apiCall),this.operations=new d.default(this.apiCall),this.multiSearch=new m.default(this.apiCall,this.configuration),this._collections=new r.default(this.apiCall),this.individualCollections={},this._aliases=new s.default(this.apiCall),this.individualAliases={},this._keys=new o.default(this.apiCall),this.individualKeys={},this._presets=new g.default(this.apiCall),this.individualPresets={},this._stopwords=new y.default(this.apiCall),this.individualStopwords={},this.analytics=new v.default(this.apiCall),this.stemming=new M.default(this.apiCall),this._conversations=new S.default(this.apiCall),this.individualConversations={},this._nlSearchModels=new E.default(this.apiCall),this.individualNLSearchModels={}}return N.prototype.collections=function(k){return k===void 0?this._collections:(this.individualCollections[k]===void 0&&(this.individualCollections[k]=new a.default(k,this.apiCall,this.configuration)),this.individualCollections[k])},N.prototype.aliases=function(k){return k===void 0?this._aliases:(this.individualAliases[k]===void 0&&(this.individualAliases[k]=new i.default(k,this.apiCall)),this.individualAliases[k])},N.prototype.keys=function(k){return k===void 0?this._keys:(this.individualKeys[k]===void 0&&(this.individualKeys[k]=new l.default(k,this.apiCall)),this.individualKeys[k])},N.prototype.presets=function(k){return k===void 0?this._presets:(this.individualPresets[k]===void 0&&(this.individualPresets[k]=new x.default(k,this.apiCall)),this.individualPresets[k])},N.prototype.stopwords=function(k){return k===void 0?this._stopwords:(this.individualStopwords[k]===void 0&&(this.individualStopwords[k]=new b.default(k,this.apiCall)),this.individualStopwords[k])},N.prototype.conversations=function(k){return k===void 0?this._conversations:(this.individualConversations[k]===void 0&&(this.individualConversations[k]=new j.default(k,this.apiCall)),this.individualConversations[k])},N.prototype.nlSearchModels=function(k){return k===void 0?this._nlSearchModels:(this.individualNLSearchModels[k]===void 0&&(this.individualNLSearchModels[k]=new q.default(k,this.apiCall)),this.individualNLSearchModels[k])},N}();return eu.default=L,eu}var Qu={},Jo={},bx;function NP(){if(bx)return Jo;bx=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.SearchOnlyCollection=void 0;var e=J3(),t=function(){function n(r,a,s){this.name=r,this.apiCall=a,this.configuration=s,this._documents=new e.SearchOnlyDocuments(this.name,this.apiCall,this.configuration)}return n.prototype.documents=function(){return this._documents},n}();return Jo.SearchOnlyCollection=t,Jo}var _x;function RP(){if(_x)return Qu;_x=1,Object.defineProperty(Qu,"__esModule",{value:!0});var e=Se,t=e.__importDefault(Q3()),n=e.__importDefault(Y3()),r=e.__importDefault(rj()),a=NP(),s=function(){function i(o){var l;o.sendApiKeyAsQueryParam=(l=o.sendApiKeyAsQueryParam)!==null&&l!==void 0?l:!0,o.sendApiKeyAsQueryParam===!0&&(o.apiKey||"").length>2e3&&(console.warn("[typesense] API Key is longer than 2000 characters which is over the allowed limit, so disabling sending it as a query parameter."),o.sendApiKeyAsQueryParam=!1),this.configuration=new t.default(o),this.apiCall=new n.default(this.configuration),this.multiSearch=new r.default(this.apiCall,this.configuration,!0),this.individualCollections={}}return i.prototype.clearCache=function(){this.multiSearch.clearCache(),Object.entries(this.individualCollections).forEach(function(o){o[0];var l=o[1];l.documents().clearCache()})},i.prototype.collections=function(o){if(o)return this.individualCollections[o]===void 0&&(this.individualCollections[o]=new a.SearchOnlyCollection(o,this.apiCall,this.configuration)),this.individualCollections[o];throw new Error("Typesense.SearchClient only supports search operations, so the collectionName that needs to be searched must be specified. Use Typesense.Client if you need to access the collection object.")},i}();return Qu.default=s,Qu}Object.defineProperty(ns,"__esModule",{value:!0});ns.Errors=ns.SearchClient=ns.Client=void 0;var Hy=Se,dj=Hy.__importDefault(TP());ns.Client=dj.default;var fj=Hy.__importDefault(RP());ns.SearchClient=fj.default;var hj=Hy.__importStar(hc());ns.Errors=hj;var kP=ns.default={Client:dj.default,SearchClient:fj.default,Errors:hj};const OP={name:"activity_logs",fields:[{name:"id",type:"string"},{name:"event_type",type:"string",facet:!0},{name:"entity_type",type:"string",facet:!0},{name:"entity_id",type:"string"},{name:"project_id",type:"string",facet:!0},{name:"project_name",type:"string"},{name:"task_title",type:"string",optional:!0},{name:"metadata",type:"object",optional:!0},{name:"created_at",type:"int64",sort:!0},{name:"created_at_str",type:"string"}],default_sorting_field:"created_at"};let vi=null,Yu=null,_p=0;const AP=3e4,Gu={apiKey:"workopilot-dev-key",host:"localhost",port:8108,protocol:"http"};async function By(){if(vi)return vi;vi=new kP.Client({nodes:[{host:Gu.host,port:Gu.port,protocol:Gu.protocol}],apiKey:Gu.apiKey,connectionTimeoutSeconds:5});try{await vi.collections("activity_logs").retrieve()}catch(e){if(e instanceof Error&&e.message.includes("404"))await vi.collections().create(OP);else throw e}return vi}async function DP(){const e=Date.now();if(Yu!==null&&e-_p<AP)return Yu;try{return await(await By()).health.retrieve(),Yu=!0,_p=e,!0}catch{return Yu=!1,_p=e,!1}}function MP(e,t,n){const r=new Date(e.created_at);let a={};if(e.metadata)try{a=JSON.parse(e.metadata)}catch{a={raw:e.metadata}}return{id:e.id,event_type:e.event_type,entity_type:e.entity_type||"unknown",entity_id:e.entity_id||"",project_id:e.project_id||"",project_name:t||"",task_title:n||a.task_title||"",metadata:a,created_at:Math.floor(r.getTime()/1e3),created_at_str:e.created_at}}async function zP(e){const t=await By(),n=e.map(({log:r,projectName:a,taskTitle:s})=>MP(r,a,s));try{const r=await t.collections("activity_logs").documents().import(n,{action:"upsert"}),a=r.filter(i=>i.success).length,s=r.filter(i=>!i.success).length;return{success:a,failed:s}}catch(r){throw console.error("Failed to batch sync activity logs to Typesense:",r),r}}let xx=null,xp=null;async function LP(e){try{const n=(await se("get_projects")).find(r=>r.id===e);return(n==null?void 0:n.name)||""}catch{return""}}async function PP(e){return se("get_activity_logs",{eventType:null,entityType:null,projectId:null,limit:e})}async function Sx(){if(!await DP())return{synced:0,failed:0};const t=await PP(100),n=xx,r=n?t.filter(l=>l.created_at>n):t;if(r.length===0)return{synced:0,failed:0};const a=new Map,s=[...new Set(r.map(l=>l.project_id).filter(Boolean))];await Promise.all(s.map(async l=>{if(l){const u=await LP(l);a.set(l,u)}}));const i=r.map(l=>({log:l,projectName:l.project_id?a.get(l.project_id):void 0})),o=await zP(i);return r.length>0&&(xx=r.reduce((u,f)=>f.created_at>u.created_at?f:u).created_at),{synced:o.success,failed:o.failed}}async function UP(e=3e4){try{await By()}catch{return console.warn("Typesense not available, sync disabled"),!1}return await Sx(),xp&&clearInterval(xp),xp=setInterval(()=>{Sx().catch(console.error)},e),!0}const qP=new EC({defaultOptions:{queries:{staleTime:1e3*60,refetchOnWindowFocus:!1}}});UP().catch(()=>{});zR.createRoot(document.getElementById("root")).render(c.jsx(T.StrictMode,{children:c.jsx(IC,{client:qP,children:c.jsx(iT,{router:H5})})}));export{e4 as R,XA as S,vy as i,WA as t};
